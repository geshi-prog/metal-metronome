(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const p of u.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();var Ku={exports:{}},br={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qm;function sy(){if(Qm)return br;Qm=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(a,o,u){var p=null;if(u!==void 0&&(p=""+u),o.key!==void 0&&(p=""+o.key),"key"in o){u={};for(var f in o)f!=="key"&&(u[f]=o[f])}else u=o;return o=u.ref,{$$typeof:l,type:a,key:p,ref:o!==void 0?o:null,props:u}}return br.Fragment=n,br.jsx=i,br.jsxs=i,br}var Fm;function iy(){return Fm||(Fm=1,Ku.exports=sy()),Ku.exports}var w=iy(),Ju={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm;function ay(){if(Wm)return vt;Wm=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),p=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function b(N){return N===null||typeof N!="object"?null:(N=v&&N[v]||N["@@iterator"],typeof N=="function"?N:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,x={};function A(N,L,tt){this.props=N,this.context=L,this.refs=x,this.updater=tt||y}A.prototype.isReactComponent={},A.prototype.setState=function(N,L){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,L,"setState")},A.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function E(){}E.prototype=A.prototype;function D(N,L,tt){this.props=N,this.context=L,this.refs=x,this.updater=tt||y}var M=D.prototype=new E;M.constructor=D,S(M,A.prototype),M.isPureReactComponent=!0;var U=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function V(N,L,tt,W,rt,at){return tt=at.ref,{$$typeof:l,type:N,key:L,ref:tt!==void 0?tt:null,props:at}}function R(N,L){return V(N.type,L,void 0,void 0,void 0,N.props)}function Q(N){return typeof N=="object"&&N!==null&&N.$$typeof===l}function F(N){var L={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(tt){return L[tt]})}var Z=/\/+/g;function I(N,L){return typeof N=="object"&&N!==null&&N.key!=null?F(""+N.key):L.toString(36)}function st(){}function et(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(st,st):(N.status="pending",N.then(function(L){N.status==="pending"&&(N.status="fulfilled",N.value=L)},function(L){N.status==="pending"&&(N.status="rejected",N.reason=L)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function it(N,L,tt,W,rt){var at=typeof N;(at==="undefined"||at==="boolean")&&(N=null);var ot=!1;if(N===null)ot=!0;else switch(at){case"bigint":case"string":case"number":ot=!0;break;case"object":switch(N.$$typeof){case l:case n:ot=!0;break;case g:return ot=N._init,it(ot(N._payload),L,tt,W,rt)}}if(ot)return rt=rt(N),ot=W===""?"."+I(N,0):W,U(rt)?(tt="",ot!=null&&(tt=ot.replace(Z,"$&/")+"/"),it(rt,L,tt,"",function(we){return we})):rt!=null&&(Q(rt)&&(rt=R(rt,tt+(rt.key==null||N&&N.key===rt.key?"":(""+rt.key).replace(Z,"$&/")+"/")+ot)),L.push(rt)),1;ot=0;var Rt=W===""?".":W+":";if(U(N))for(var lt=0;lt<N.length;lt++)W=N[lt],at=Rt+I(W,lt),ot+=it(W,L,tt,at,rt);else if(lt=b(N),typeof lt=="function")for(N=lt.call(N),lt=0;!(W=N.next()).done;)W=W.value,at=Rt+I(W,lt++),ot+=it(W,L,tt,at,rt);else if(at==="object"){if(typeof N.then=="function")return it(et(N),L,tt,W,rt);throw L=String(N),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return ot}function k(N,L,tt){if(N==null)return N;var W=[],rt=0;return it(N,W,"","",function(at){return L.call(tt,at,rt++)}),W}function Y(N){if(N._status===-1){var L=N._result;L=L(),L.then(function(tt){(N._status===0||N._status===-1)&&(N._status=1,N._result=tt)},function(tt){(N._status===0||N._status===-1)&&(N._status=2,N._result=tt)}),N._status===-1&&(N._status=0,N._result=L)}if(N._status===1)return N._result.default;throw N._result}var $=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function nt(){}return vt.Children={map:k,forEach:function(N,L,tt){k(N,function(){L.apply(this,arguments)},tt)},count:function(N){var L=0;return k(N,function(){L++}),L},toArray:function(N){return k(N,function(L){return L})||[]},only:function(N){if(!Q(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},vt.Component=A,vt.Fragment=i,vt.Profiler=o,vt.PureComponent=D,vt.StrictMode=a,vt.Suspense=m,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,vt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return C.H.useMemoCache(N)}},vt.cache=function(N){return function(){return N.apply(null,arguments)}},vt.cloneElement=function(N,L,tt){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var W=S({},N.props),rt=N.key,at=void 0;if(L!=null)for(ot in L.ref!==void 0&&(at=void 0),L.key!==void 0&&(rt=""+L.key),L)!j.call(L,ot)||ot==="key"||ot==="__self"||ot==="__source"||ot==="ref"&&L.ref===void 0||(W[ot]=L[ot]);var ot=arguments.length-2;if(ot===1)W.children=tt;else if(1<ot){for(var Rt=Array(ot),lt=0;lt<ot;lt++)Rt[lt]=arguments[lt+2];W.children=Rt}return V(N.type,rt,void 0,void 0,at,W)},vt.createContext=function(N){return N={$$typeof:p,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},vt.createElement=function(N,L,tt){var W,rt={},at=null;if(L!=null)for(W in L.key!==void 0&&(at=""+L.key),L)j.call(L,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(rt[W]=L[W]);var ot=arguments.length-2;if(ot===1)rt.children=tt;else if(1<ot){for(var Rt=Array(ot),lt=0;lt<ot;lt++)Rt[lt]=arguments[lt+2];rt.children=Rt}if(N&&N.defaultProps)for(W in ot=N.defaultProps,ot)rt[W]===void 0&&(rt[W]=ot[W]);return V(N,at,void 0,void 0,null,rt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(N){return{$$typeof:f,render:N}},vt.isValidElement=Q,vt.lazy=function(N){return{$$typeof:g,_payload:{_status:-1,_result:N},_init:Y}},vt.memo=function(N,L){return{$$typeof:d,type:N,compare:L===void 0?null:L}},vt.startTransition=function(N){var L=C.T,tt={};C.T=tt;try{var W=N(),rt=C.S;rt!==null&&rt(tt,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(nt,$)}catch(at){$(at)}finally{C.T=L}},vt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},vt.use=function(N){return C.H.use(N)},vt.useActionState=function(N,L,tt){return C.H.useActionState(N,L,tt)},vt.useCallback=function(N,L){return C.H.useCallback(N,L)},vt.useContext=function(N){return C.H.useContext(N)},vt.useDebugValue=function(){},vt.useDeferredValue=function(N,L){return C.H.useDeferredValue(N,L)},vt.useEffect=function(N,L,tt){var W=C.H;if(typeof tt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(N,L)},vt.useId=function(){return C.H.useId()},vt.useImperativeHandle=function(N,L,tt){return C.H.useImperativeHandle(N,L,tt)},vt.useInsertionEffect=function(N,L){return C.H.useInsertionEffect(N,L)},vt.useLayoutEffect=function(N,L){return C.H.useLayoutEffect(N,L)},vt.useMemo=function(N,L){return C.H.useMemo(N,L)},vt.useOptimistic=function(N,L){return C.H.useOptimistic(N,L)},vt.useReducer=function(N,L,tt){return C.H.useReducer(N,L,tt)},vt.useRef=function(N){return C.H.useRef(N)},vt.useState=function(N){return C.H.useState(N)},vt.useSyncExternalStore=function(N,L,tt){return C.H.useSyncExternalStore(N,L,tt)},vt.useTransition=function(){return C.H.useTransition()},vt.version="19.1.0",vt}var Pm;function _h(){return Pm||(Pm=1,Ju.exports=ay()),Ju.exports}var ut=_h(),$u={exports:{}},Sr={},th={exports:{}},eh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Km;function ry(){return Km||(Km=1,function(l){function n(k,Y){var $=k.length;k.push(Y);t:for(;0<$;){var nt=$-1>>>1,N=k[nt];if(0<o(N,Y))k[nt]=Y,k[$]=N,$=nt;else break t}}function i(k){return k.length===0?null:k[0]}function a(k){if(k.length===0)return null;var Y=k[0],$=k.pop();if($!==Y){k[0]=$;t:for(var nt=0,N=k.length,L=N>>>1;nt<L;){var tt=2*(nt+1)-1,W=k[tt],rt=tt+1,at=k[rt];if(0>o(W,$))rt<N&&0>o(at,W)?(k[nt]=at,k[rt]=$,nt=rt):(k[nt]=W,k[tt]=$,nt=tt);else if(rt<N&&0>o(at,$))k[nt]=at,k[rt]=$,nt=rt;else break t}}return Y}function o(k,Y){var $=k.sortIndex-Y.sortIndex;return $!==0?$:k.id-Y.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;l.unstable_now=function(){return u.now()}}else{var p=Date,f=p.now();l.unstable_now=function(){return p.now()-f}}var m=[],d=[],g=1,v=null,b=3,y=!1,S=!1,x=!1,A=!1,E=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function U(k){for(var Y=i(d);Y!==null;){if(Y.callback===null)a(d);else if(Y.startTime<=k)a(d),Y.sortIndex=Y.expirationTime,n(m,Y);else break;Y=i(d)}}function C(k){if(x=!1,U(k),!S)if(i(m)!==null)S=!0,j||(j=!0,I());else{var Y=i(d);Y!==null&&it(C,Y.startTime-k)}}var j=!1,V=-1,R=5,Q=-1;function F(){return A?!0:!(l.unstable_now()-Q<R)}function Z(){if(A=!1,j){var k=l.unstable_now();Q=k;var Y=!0;try{t:{S=!1,x&&(x=!1,D(V),V=-1),y=!0;var $=b;try{e:{for(U(k),v=i(m);v!==null&&!(v.expirationTime>k&&F());){var nt=v.callback;if(typeof nt=="function"){v.callback=null,b=v.priorityLevel;var N=nt(v.expirationTime<=k);if(k=l.unstable_now(),typeof N=="function"){v.callback=N,U(k),Y=!0;break e}v===i(m)&&a(m),U(k)}else a(m);v=i(m)}if(v!==null)Y=!0;else{var L=i(d);L!==null&&it(C,L.startTime-k),Y=!1}}break t}finally{v=null,b=$,y=!1}Y=void 0}}finally{Y?I():j=!1}}}var I;if(typeof M=="function")I=function(){M(Z)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,et=st.port2;st.port1.onmessage=Z,I=function(){et.postMessage(null)}}else I=function(){E(Z,0)};function it(k,Y){V=E(function(){k(l.unstable_now())},Y)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(k){k.callback=null},l.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<k?Math.floor(1e3/k):5},l.unstable_getCurrentPriorityLevel=function(){return b},l.unstable_next=function(k){switch(b){case 1:case 2:case 3:var Y=3;break;default:Y=b}var $=b;b=Y;try{return k()}finally{b=$}},l.unstable_requestPaint=function(){A=!0},l.unstable_runWithPriority=function(k,Y){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var $=b;b=k;try{return Y()}finally{b=$}},l.unstable_scheduleCallback=function(k,Y,$){var nt=l.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?nt+$:nt):$=nt,k){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=$+N,k={id:g++,callback:Y,priorityLevel:k,startTime:$,expirationTime:N,sortIndex:-1},$>nt?(k.sortIndex=$,n(d,k),i(m)===null&&k===i(d)&&(x?(D(V),V=-1):x=!0,it(C,$-nt))):(k.sortIndex=N,n(m,k),S||y||(S=!0,j||(j=!0,I()))),k},l.unstable_shouldYield=F,l.unstable_wrapCallback=function(k){var Y=b;return function(){var $=b;b=Y;try{return k.apply(this,arguments)}finally{b=$}}}}(eh)),eh}var Jm;function ly(){return Jm||(Jm=1,th.exports=ry()),th.exports}var nh={exports:{}},Ne={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m;function oy(){if($m)return Ne;$m=1;var l=_h();function n(m){var d="https://react.dev/errors/"+m;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,d,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:m,containerInfo:d,implementation:g}}var p=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,d){if(m==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ne.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ne.createPortal=function(m,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(n(299));return u(m,d,null,g)},Ne.flushSync=function(m){var d=p.T,g=a.p;try{if(p.T=null,a.p=2,m)return m()}finally{p.T=d,a.p=g,a.d.f()}},Ne.preconnect=function(m,d){typeof m=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,a.d.C(m,d))},Ne.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},Ne.preinit=function(m,d){if(typeof m=="string"&&d&&typeof d.as=="string"){var g=d.as,v=f(g,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?a.d.S(m,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:y}):g==="script"&&a.d.X(m,{crossOrigin:v,integrity:b,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ne.preinitModule=function(m,d){if(typeof m=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=f(d.as,d.crossOrigin);a.d.M(m,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&a.d.M(m)},Ne.preload=function(m,d){if(typeof m=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,v=f(g,d.crossOrigin);a.d.L(m,g,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ne.preloadModule=function(m,d){if(typeof m=="string")if(d){var g=f(d.as,d.crossOrigin);a.d.m(m,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else a.d.m(m)},Ne.requestFormReset=function(m){a.d.r(m)},Ne.unstable_batchedUpdates=function(m,d){return m(d)},Ne.useFormState=function(m,d,g){return p.H.useFormState(m,d,g)},Ne.useFormStatus=function(){return p.H.useHostTransitionStatus()},Ne.version="19.1.0",Ne}var tg;function cy(){if(tg)return nh.exports;tg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),nh.exports=oy(),nh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg;function uy(){if(eg)return Sr;eg=1;var l=ly(),n=_h(),i=cy();function a(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var e=t,s=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(s=e.return),t=e.return;while(t)}return e.tag===3?s:null}function p(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function f(t){if(u(t)!==t)throw Error(a(188))}function m(t){var e=t.alternate;if(!e){if(e=u(t),e===null)throw Error(a(188));return e!==t?null:t}for(var s=t,r=e;;){var c=s.return;if(c===null)break;var h=c.alternate;if(h===null){if(r=c.return,r!==null){s=r;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===s)return f(c),t;if(h===r)return f(c),e;h=h.sibling}throw Error(a(188))}if(s.return!==r.return)s=c,r=h;else{for(var _=!1,T=c.child;T;){if(T===s){_=!0,s=c,r=h;break}if(T===r){_=!0,r=c,s=h;break}T=T.sibling}if(!_){for(T=h.child;T;){if(T===s){_=!0,s=h,r=c;break}if(T===r){_=!0,r=h,s=c;break}T=T.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==r)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:e}function d(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=d(t),e!==null)return e;t=t.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),M=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function I(t){return t===null||typeof t!="object"?null:(t=Z&&t[Z]||t["@@iterator"],typeof t=="function"?t:null)}var st=Symbol.for("react.client.reference");function et(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===st?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case S:return"Fragment";case A:return"Profiler";case x:return"StrictMode";case C:return"Suspense";case j:return"SuspenseList";case Q:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case y:return"Portal";case M:return(t.displayName||"Context")+".Provider";case D:return(t._context.displayName||"Context")+".Consumer";case U:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return e=t.displayName||null,e!==null?e:et(t.type)||"Memo";case R:e=t._payload,t=t._init;try{return et(t(e))}catch{}}return null}var it=Array.isArray,k=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},nt=[],N=-1;function L(t){return{current:t}}function tt(t){0>N||(t.current=nt[N],nt[N]=null,N--)}function W(t,e){N++,nt[N]=t.current,t.current=e}var rt=L(null),at=L(null),ot=L(null),Rt=L(null);function lt(t,e){switch(W(ot,e),W(at,t),W(rt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Sm(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Sm(e),t=Tm(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}tt(rt),W(rt,t)}function we(){tt(rt),tt(at),tt(ot)}function pn(t){t.memoizedState!==null&&W(Rt,t);var e=rt.current,s=Tm(e,t.type);e!==s&&(W(at,t),W(rt,s))}function mn(t){at.current===t&&(tt(rt),tt(at)),Rt.current===t&&(tt(Rt),mr._currentValue=$)}var An=Object.prototype.hasOwnProperty,Sa=l.unstable_scheduleCallback,Ta=l.unstable_cancelCallback,ct=l.unstable_shouldYield,mt=l.unstable_requestPaint,Mt=l.unstable_now,Yt=l.unstable_getCurrentPriorityLevel,Ct=l.unstable_ImmediatePriority,Gt=l.unstable_UserBlockingPriority,ye=l.unstable_NormalPriority,Cn=l.unstable_LowPriority,ls=l.unstable_IdlePriority,xa=l.log,Bo=l.unstable_setDisableYieldValue,Ys=null,Le=null;function os(t){if(typeof xa=="function"&&Bo(t),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(Ys,t)}catch{}}var He=Math.clz32?Math.clz32:G_,H_=Math.log,Y_=Math.LN2;function G_(t){return t>>>=0,t===0?32:31-(H_(t)/Y_|0)|0}var Yr=256,Gr=4194304;function Gs(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Xr(t,e,s){var r=t.pendingLanes;if(r===0)return 0;var c=0,h=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=r&134217727;return T!==0?(r=T&~h,r!==0?c=Gs(r):(_&=T,_!==0?c=Gs(_):s||(s=T&~t,s!==0&&(c=Gs(s))))):(T=r&~h,T!==0?c=Gs(T):_!==0?c=Gs(_):s||(s=r&~t,s!==0&&(c=Gs(s)))),c===0?0:e!==0&&e!==c&&(e&h)===0&&(h=c&-c,s=e&-e,h>=s||h===32&&(s&4194048)!==0)?e:c}function wa(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function X_(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sf(){var t=Yr;return Yr<<=1,(Yr&4194048)===0&&(Yr=256),t}function af(){var t=Gr;return Gr<<=1,(Gr&62914560)===0&&(Gr=4194304),t}function Lo(t){for(var e=[],s=0;31>s;s++)e.push(t);return e}function Aa(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function I_(t,e,s,r,c,h){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,O=t.expirationTimes,H=t.hiddenUpdates;for(s=_&~s;0<s;){var P=31-He(s),J=1<<P;T[P]=0,O[P]=-1;var G=H[P];if(G!==null)for(H[P]=null,P=0;P<G.length;P++){var X=G[P];X!==null&&(X.lane&=-536870913)}s&=~J}r!==0&&rf(t,r,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(_&~e))}function rf(t,e,s){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-He(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|s&4194090}function lf(t,e){var s=t.entangledLanes|=e;for(t=t.entanglements;s;){var r=31-He(s),c=1<<r;c&e|t[r]&e&&(t[r]|=e),s&=~c}}function Ho(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Yo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function of(){var t=Y.p;return t!==0?t:(t=window.event,t===void 0?32:Hm(t.type))}function Z_(t,e){var s=Y.p;try{return Y.p=t,e()}finally{Y.p=s}}var cs=Math.random().toString(36).slice(2),Ae="__reactFiber$"+cs,je="__reactProps$"+cs,mi="__reactContainer$"+cs,Go="__reactEvents$"+cs,Q_="__reactListeners$"+cs,F_="__reactHandles$"+cs,cf="__reactResources$"+cs,Ca="__reactMarker$"+cs;function Xo(t){delete t[Ae],delete t[je],delete t[Go],delete t[Q_],delete t[F_]}function gi(t){var e=t[Ae];if(e)return e;for(var s=t.parentNode;s;){if(e=s[mi]||s[Ae]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(t=Cm(t);t!==null;){if(s=t[Ae])return s;t=Cm(t)}return e}t=s,s=t.parentNode}return null}function _i(t){if(t=t[Ae]||t[mi]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Na(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(a(33))}function vi(t){var e=t[cf];return e||(e=t[cf]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function fe(t){t[Ca]=!0}var uf=new Set,hf={};function Xs(t,e){yi(t,e),yi(t+"Capture",e)}function yi(t,e){for(hf[t]=e,t=0;t<e.length;t++)uf.add(e[t])}var W_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ff={},df={};function P_(t){return An.call(df,t)?!0:An.call(ff,t)?!1:W_.test(t)?df[t]=!0:(ff[t]=!0,!1)}function Ir(t,e,s){if(P_(e))if(s===null)t.removeAttribute(e);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+s)}}function Zr(t,e,s){if(s===null)t.removeAttribute(e);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+s)}}function Un(t,e,s,r){if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(e,s,""+r)}}var Io,pf;function bi(t){if(Io===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);Io=e&&e[1]||"",pf=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Io+t+pf}var Zo=!1;function Qo(t,e){if(!t||Zo)return"";Zo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(X){var G=X}Reflect.construct(t,[],J)}else{try{J.call()}catch(X){G=X}t.call(J.prototype)}}else{try{throw Error()}catch(X){G=X}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(X){if(X&&G&&typeof X.stack=="string")return[X.stack,G.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=r.DetermineComponentFrameRoot(),_=h[0],T=h[1];if(_&&T){var O=_.split(`
`),H=T.split(`
`);for(c=r=0;r<O.length&&!O[r].includes("DetermineComponentFrameRoot");)r++;for(;c<H.length&&!H[c].includes("DetermineComponentFrameRoot");)c++;if(r===O.length||c===H.length)for(r=O.length-1,c=H.length-1;1<=r&&0<=c&&O[r]!==H[c];)c--;for(;1<=r&&0<=c;r--,c--)if(O[r]!==H[c]){if(r!==1||c!==1)do if(r--,c--,0>c||O[r]!==H[c]){var P=`
`+O[r].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=r&&0<=c);break}}}finally{Zo=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?bi(s):""}function K_(t){switch(t.tag){case 26:case 27:case 5:return bi(t.type);case 16:return bi("Lazy");case 13:return bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return Qo(t.type,!1);case 11:return Qo(t.type.render,!1);case 1:return Qo(t.type,!0);case 31:return bi("Activity");default:return""}}function mf(t){try{var e="";do e+=K_(t),t=t.return;while(t);return e}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function J_(t){var e=gf(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,h=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return c.call(this)},set:function(_){r=""+_,h.call(this,_)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(_){r=""+_},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qr(t){t._valueTracker||(t._valueTracker=J_(t))}function _f(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var s=e.getValue(),r="";return t&&(r=gf(t)?t.checked?"true":"false":t.value),t=r,t!==s?(e.setValue(t),!0):!1}function Fr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var $_=/[\n"\\]/g;function en(t){return t.replace($_,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Fo(t,e,s,r,c,h,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),e!=null?_==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+tn(e)):t.value!==""+tn(e)&&(t.value=""+tn(e)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),e!=null?Wo(t,_,tn(e)):s!=null?Wo(t,_,tn(s)):r!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+tn(T):t.removeAttribute("name")}function vf(t,e,s,r,c,h,_,T){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),e!=null||s!=null){if(!(h!=="submit"&&h!=="reset"||e!=null))return;s=s!=null?""+tn(s):"",e=e!=null?""+tn(e):s,T||e===t.value||(t.value=e),t.defaultValue=e}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=T?t.checked:!!r,t.defaultChecked=!!r,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Wo(t,e,s){e==="number"&&Fr(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Si(t,e,s,r){if(t=t.options,e){e={};for(var c=0;c<s.length;c++)e["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=e.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&r&&(t[s].defaultSelected=!0)}else{for(s=""+tn(s),e=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,r&&(t[c].defaultSelected=!0);return}e!==null||t[c].disabled||(e=t[c])}e!==null&&(e.selected=!0)}}function yf(t,e,s){if(e!=null&&(e=""+tn(e),e!==t.value&&(t.value=e),s==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=s!=null?""+tn(s):""}function bf(t,e,s,r){if(e==null){if(r!=null){if(s!=null)throw Error(a(92));if(it(r)){if(1<r.length)throw Error(a(93));r=r[0]}s=r}s==null&&(s=""),e=s}s=tn(e),t.defaultValue=s,r=t.textContent,r===s&&r!==""&&r!==null&&(t.value=r)}function Ti(t,e){if(e){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=e;return}}t.textContent=e}var t0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sf(t,e,s){var r=e.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,s):typeof s!="number"||s===0||t0.has(e)?e==="float"?t.cssFloat=s:t[e]=(""+s).trim():t[e]=s+"px"}function Tf(t,e,s){if(e!=null&&typeof e!="object")throw Error(a(62));if(t=t.style,s!=null){for(var r in s)!s.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var c in e)r=e[c],e.hasOwnProperty(c)&&s[c]!==r&&Sf(t,c,r)}else for(var h in e)e.hasOwnProperty(h)&&Sf(t,h,e[h])}function Po(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var e0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),n0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wr(t){return n0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ko=null;function Jo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xi=null,wi=null;function xf(t){var e=_i(t);if(e&&(t=e.stateNode)){var s=t[je]||null;t:switch(t=e.stateNode,e.type){case"input":if(Fo(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),e=s.name,s.type==="radio"&&e!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+en(""+e)+'"][type="radio"]'),e=0;e<s.length;e++){var r=s[e];if(r!==t&&r.form===t.form){var c=r[je]||null;if(!c)throw Error(a(90));Fo(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(e=0;e<s.length;e++)r=s[e],r.form===t.form&&_f(r)}break t;case"textarea":yf(t,s.value,s.defaultValue);break t;case"select":e=s.value,e!=null&&Si(t,!!s.multiple,e,!1)}}}var $o=!1;function wf(t,e,s){if($o)return t(e,s);$o=!0;try{var r=t(e);return r}finally{if($o=!1,(xi!==null||wi!==null)&&(jl(),xi&&(e=xi,t=wi,wi=xi=null,xf(e),t)))for(e=0;e<t.length;e++)xf(t[e])}}function Ea(t,e){var s=t.stateNode;if(s===null)return null;var r=s[je]||null;if(r===null)return null;s=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,e,typeof s));return s}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tc=!1;if(Bn)try{var Oa={};Object.defineProperty(Oa,"passive",{get:function(){tc=!0}}),window.addEventListener("test",Oa,Oa),window.removeEventListener("test",Oa,Oa)}catch{tc=!1}var us=null,ec=null,Pr=null;function Af(){if(Pr)return Pr;var t,e=ec,s=e.length,r,c="value"in us?us.value:us.textContent,h=c.length;for(t=0;t<s&&e[t]===c[t];t++);var _=s-t;for(r=1;r<=_&&e[s-r]===c[h-r];r++);return Pr=c.slice(t,1<r?1-r:void 0)}function Kr(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jr(){return!0}function Cf(){return!1}function ze(t){function e(s,r,c,h,_){this._reactName=s,this._targetInst=c,this.type=r,this.nativeEvent=h,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(h):h[T]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Jr:Cf,this.isPropagationStopped=Cf,this}return g(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Jr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Jr)},persist:function(){},isPersistent:Jr}),e}var Is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$r=ze(Is),Ma=g({},Is,{view:0,detail:0}),s0=ze(Ma),nc,sc,Da,tl=g({},Ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ac,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Da&&(Da&&t.type==="mousemove"?(nc=t.screenX-Da.screenX,sc=t.screenY-Da.screenY):sc=nc=0,Da=t),nc)},movementY:function(t){return"movementY"in t?t.movementY:sc}}),Nf=ze(tl),i0=g({},tl,{dataTransfer:0}),a0=ze(i0),r0=g({},Ma,{relatedTarget:0}),ic=ze(r0),l0=g({},Is,{animationName:0,elapsedTime:0,pseudoElement:0}),o0=ze(l0),c0=g({},Is,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),u0=ze(c0),h0=g({},Is,{data:0}),Ef=ze(h0),f0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function m0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=p0[t])?!!e[t]:!1}function ac(){return m0}var g0=g({},Ma,{key:function(t){if(t.key){var e=f0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?d0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ac,charCode:function(t){return t.type==="keypress"?Kr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_0=ze(g0),v0=g({},tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Of=ze(v0),y0=g({},Ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ac}),b0=ze(y0),S0=g({},Is,{propertyName:0,elapsedTime:0,pseudoElement:0}),T0=ze(S0),x0=g({},tl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),w0=ze(x0),A0=g({},Is,{newState:0,oldState:0}),C0=ze(A0),N0=[9,13,27,32],rc=Bn&&"CompositionEvent"in window,Ra=null;Bn&&"documentMode"in document&&(Ra=document.documentMode);var E0=Bn&&"TextEvent"in window&&!Ra,Mf=Bn&&(!rc||Ra&&8<Ra&&11>=Ra),Df=" ",Rf=!1;function kf(t,e){switch(t){case"keyup":return N0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ai=!1;function O0(t,e){switch(t){case"compositionend":return jf(e);case"keypress":return e.which!==32?null:(Rf=!0,Df);case"textInput":return t=e.data,t===Df&&Rf?null:t;default:return null}}function M0(t,e){if(Ai)return t==="compositionend"||!rc&&kf(t,e)?(t=Af(),Pr=ec=us=null,Ai=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Mf&&e.locale!=="ko"?null:e.data;default:return null}}var D0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!D0[t.type]:e==="textarea"}function Vf(t,e,s,r){xi?wi?wi.push(r):wi=[r]:xi=r,e=Ll(e,"onChange"),0<e.length&&(s=new $r("onChange","change",null,s,r),t.push({event:s,listeners:e}))}var ka=null,ja=null;function R0(t){gm(t,0)}function el(t){var e=Na(t);if(_f(e))return t}function qf(t,e){if(t==="change")return e}var Uf=!1;if(Bn){var lc;if(Bn){var oc="oninput"in document;if(!oc){var Bf=document.createElement("div");Bf.setAttribute("oninput","return;"),oc=typeof Bf.oninput=="function"}lc=oc}else lc=!1;Uf=lc&&(!document.documentMode||9<document.documentMode)}function Lf(){ka&&(ka.detachEvent("onpropertychange",Hf),ja=ka=null)}function Hf(t){if(t.propertyName==="value"&&el(ja)){var e=[];Vf(e,ja,t,Jo(t)),wf(R0,e)}}function k0(t,e,s){t==="focusin"?(Lf(),ka=e,ja=s,ka.attachEvent("onpropertychange",Hf)):t==="focusout"&&Lf()}function j0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return el(ja)}function z0(t,e){if(t==="click")return el(e)}function V0(t,e){if(t==="input"||t==="change")return el(e)}function q0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ye=typeof Object.is=="function"?Object.is:q0;function za(t,e){if(Ye(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var s=Object.keys(t),r=Object.keys(e);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var c=s[r];if(!An.call(e,c)||!Ye(t[c],e[c]))return!1}return!0}function Yf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gf(t,e){var s=Yf(t);t=0;for(var r;s;){if(s.nodeType===3){if(r=t+s.textContent.length,t<=e&&r>=e)return{node:s,offset:e-t};t=r}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Yf(s)}}function Xf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Xf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function If(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Fr(t.document);e instanceof t.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)t=e.contentWindow;else break;e=Fr(t.document)}return e}function cc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var U0=Bn&&"documentMode"in document&&11>=document.documentMode,Ci=null,uc=null,Va=null,hc=!1;function Zf(t,e,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;hc||Ci==null||Ci!==Fr(r)||(r=Ci,"selectionStart"in r&&cc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Va&&za(Va,r)||(Va=r,r=Ll(uc,"onSelect"),0<r.length&&(e=new $r("onSelect","select",null,e,s),t.push({event:e,listeners:r}),e.target=Ci)))}function Zs(t,e){var s={};return s[t.toLowerCase()]=e.toLowerCase(),s["Webkit"+t]="webkit"+e,s["Moz"+t]="moz"+e,s}var Ni={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionrun:Zs("Transition","TransitionRun"),transitionstart:Zs("Transition","TransitionStart"),transitioncancel:Zs("Transition","TransitionCancel"),transitionend:Zs("Transition","TransitionEnd")},fc={},Qf={};Bn&&(Qf=document.createElement("div").style,"AnimationEvent"in window||(delete Ni.animationend.animation,delete Ni.animationiteration.animation,delete Ni.animationstart.animation),"TransitionEvent"in window||delete Ni.transitionend.transition);function Qs(t){if(fc[t])return fc[t];if(!Ni[t])return t;var e=Ni[t],s;for(s in e)if(e.hasOwnProperty(s)&&s in Qf)return fc[t]=e[s];return t}var Ff=Qs("animationend"),Wf=Qs("animationiteration"),Pf=Qs("animationstart"),B0=Qs("transitionrun"),L0=Qs("transitionstart"),H0=Qs("transitioncancel"),Kf=Qs("transitionend"),Jf=new Map,dc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dc.push("scrollEnd");function gn(t,e){Jf.set(t,e),Xs(e,[t])}var $f=new WeakMap;function nn(t,e){if(typeof t=="object"&&t!==null){var s=$f.get(t);return s!==void 0?s:(e={value:t,source:e,stack:mf(e)},$f.set(t,e),e)}return{value:t,source:e,stack:mf(e)}}var sn=[],Ei=0,pc=0;function nl(){for(var t=Ei,e=pc=Ei=0;e<t;){var s=sn[e];sn[e++]=null;var r=sn[e];sn[e++]=null;var c=sn[e];sn[e++]=null;var h=sn[e];if(sn[e++]=null,r!==null&&c!==null){var _=r.pending;_===null?c.next=c:(c.next=_.next,_.next=c),r.pending=c}h!==0&&td(s,c,h)}}function sl(t,e,s,r){sn[Ei++]=t,sn[Ei++]=e,sn[Ei++]=s,sn[Ei++]=r,pc|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function mc(t,e,s,r){return sl(t,e,s,r),il(t)}function Oi(t,e){return sl(t,null,null,e),il(t)}function td(t,e,s){t.lanes|=s;var r=t.alternate;r!==null&&(r.lanes|=s);for(var c=!1,h=t.return;h!==null;)h.childLanes|=s,r=h.alternate,r!==null&&(r.childLanes|=s),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&e!==null&&(c=31-He(s),t=h.hiddenUpdates,r=t[c],r===null?t[c]=[e]:r.push(e),e.lane=s|536870912),h):null}function il(t){if(50<lr)throw lr=0,Su=null,Error(a(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Mi={};function Y0(t,e,s,r){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(t,e,s,r){return new Y0(t,e,s,r)}function gc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ln(t,e){var s=t.alternate;return s===null?(s=Ge(t.tag,e,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=e,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,e=t.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function ed(t,e){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,e=s.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function al(t,e,s,r,c,h){var _=0;if(r=t,typeof t=="function")gc(t)&&(_=1);else if(typeof t=="string")_=Xv(t,s,rt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case Q:return t=Ge(31,s,e,c),t.elementType=Q,t.lanes=h,t;case S:return Fs(s.children,c,h,e);case x:_=8,c|=24;break;case A:return t=Ge(12,s,e,c|2),t.elementType=A,t.lanes=h,t;case C:return t=Ge(13,s,e,c),t.elementType=C,t.lanes=h,t;case j:return t=Ge(19,s,e,c),t.elementType=j,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case E:case M:_=10;break t;case D:_=9;break t;case U:_=11;break t;case V:_=14;break t;case R:_=16,r=null;break t}_=29,s=Error(a(130,t===null?"null":typeof t,"")),r=null}return e=Ge(_,s,e,c),e.elementType=t,e.type=r,e.lanes=h,e}function Fs(t,e,s,r){return t=Ge(7,t,r,e),t.lanes=s,t}function _c(t,e,s){return t=Ge(6,t,null,e),t.lanes=s,t}function vc(t,e,s){return e=Ge(4,t.children!==null?t.children:[],t.key,e),e.lanes=s,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Di=[],Ri=0,rl=null,ll=0,an=[],rn=0,Ws=null,Hn=1,Yn="";function Ps(t,e){Di[Ri++]=ll,Di[Ri++]=rl,rl=t,ll=e}function nd(t,e,s){an[rn++]=Hn,an[rn++]=Yn,an[rn++]=Ws,Ws=t;var r=Hn;t=Yn;var c=32-He(r)-1;r&=~(1<<c),s+=1;var h=32-He(e)+c;if(30<h){var _=c-c%5;h=(r&(1<<_)-1).toString(32),r>>=_,c-=_,Hn=1<<32-He(e)+c|s<<c|r,Yn=h+t}else Hn=1<<h|s<<c|r,Yn=t}function yc(t){t.return!==null&&(Ps(t,1),nd(t,1,0))}function bc(t){for(;t===rl;)rl=Di[--Ri],Di[Ri]=null,ll=Di[--Ri],Di[Ri]=null;for(;t===Ws;)Ws=an[--rn],an[rn]=null,Yn=an[--rn],an[rn]=null,Hn=an[--rn],an[rn]=null}var Me=null,Pt=null,Ot=!1,Ks=null,Nn=!1,Sc=Error(a(519));function Js(t){var e=Error(a(418,""));throw Ba(nn(e,t)),Sc}function sd(t){var e=t.stateNode,s=t.type,r=t.memoizedProps;switch(e[Ae]=t,e[je]=r,s){case"dialog":wt("cancel",e),wt("close",e);break;case"iframe":case"object":case"embed":wt("load",e);break;case"video":case"audio":for(s=0;s<cr.length;s++)wt(cr[s],e);break;case"source":wt("error",e);break;case"img":case"image":case"link":wt("error",e),wt("load",e);break;case"details":wt("toggle",e);break;case"input":wt("invalid",e),vf(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Qr(e);break;case"select":wt("invalid",e);break;case"textarea":wt("invalid",e),bf(e,r.value,r.defaultValue,r.children),Qr(e)}s=r.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||e.textContent===""+s||r.suppressHydrationWarning===!0||bm(e.textContent,s)?(r.popover!=null&&(wt("beforetoggle",e),wt("toggle",e)),r.onScroll!=null&&wt("scroll",e),r.onScrollEnd!=null&&wt("scrollend",e),r.onClick!=null&&(e.onclick=Hl),e=!0):e=!1,e||Js(t)}function id(t){for(Me=t.return;Me;)switch(Me.tag){case 5:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:Me=Me.return}}function qa(t){if(t!==Me)return!1;if(!Ot)return id(t),Ot=!0,!1;var e=t.tag,s;if((s=e!==3&&e!==27)&&((s=e===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||qu(t.type,t.memoizedProps)),s=!s),s&&Pt&&Js(t),id(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(e===0){Pt=vn(t.nextSibling);break t}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++;t=t.nextSibling}Pt=null}}else e===27?(e=Pt,Cs(t.type)?(t=Hu,Hu=null,Pt=t):Pt=e):Pt=Me?vn(t.stateNode.nextSibling):null;return!0}function Ua(){Pt=Me=null,Ot=!1}function ad(){var t=Ks;return t!==null&&(Ue===null?Ue=t:Ue.push.apply(Ue,t),Ks=null),t}function Ba(t){Ks===null?Ks=[t]:Ks.push(t)}var Tc=L(null),$s=null,Gn=null;function hs(t,e,s){W(Tc,e._currentValue),e._currentValue=s}function Xn(t){t._currentValue=Tc.current,tt(Tc)}function xc(t,e,s){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===s)break;t=t.return}}function wc(t,e,s,r){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var _=c.child;h=h.firstContext;t:for(;h!==null;){var T=h;h=c;for(var O=0;O<e.length;O++)if(T.context===e[O]){h.lanes|=s,T=h.alternate,T!==null&&(T.lanes|=s),xc(h.return,s,t),r||(_=null);break t}h=T.next}}else if(c.tag===18){if(_=c.return,_===null)throw Error(a(341));_.lanes|=s,h=_.alternate,h!==null&&(h.lanes|=s),xc(_,s,t),_=null}else _=c.child;if(_!==null)_.return=c;else for(_=c;_!==null;){if(_===t){_=null;break}if(c=_.sibling,c!==null){c.return=_.return,_=c;break}_=_.return}c=_}}function La(t,e,s,r){t=null;for(var c=e,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var _=c.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var T=c.type;Ye(c.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(c===Rt.current){if(_=c.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(mr):t=[mr])}c=c.return}t!==null&&wc(e,t,s,r),e.flags|=262144}function ol(t){for(t=t.firstContext;t!==null;){if(!Ye(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ti(t){$s=t,Gn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ce(t){return rd($s,t)}function cl(t,e){return $s===null&&ti(t),rd(t,e)}function rd(t,e){var s=e._currentValue;if(e={context:e,memoizedValue:s,next:null},Gn===null){if(t===null)throw Error(a(308));Gn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Gn=Gn.next=e;return s}var G0=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(s,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(s){return s()})}},X0=l.unstable_scheduleCallback,I0=l.unstable_NormalPriority,oe={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ac(){return{controller:new G0,data:new Map,refCount:0}}function Ha(t){t.refCount--,t.refCount===0&&X0(I0,function(){t.controller.abort()})}var Ya=null,Cc=0,ki=0,ji=null;function Z0(t,e){if(Ya===null){var s=Ya=[];Cc=0,ki=Eu(),ji={status:"pending",value:void 0,then:function(r){s.push(r)}}}return Cc++,e.then(ld,ld),e}function ld(){if(--Cc===0&&Ya!==null){ji!==null&&(ji.status="fulfilled");var t=Ya;Ya=null,ki=0,ji=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Q0(t,e){var s=[],r={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var c=0;c<s.length;c++)(0,s[c])(e)},function(c){for(r.status="rejected",r.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),r}var od=k.S;k.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&Z0(t,e),od!==null&&od(t,e)};var ei=L(null);function Nc(){var t=ei.current;return t!==null?t:Lt.pooledCache}function ul(t,e){e===null?W(ei,ei.current):W(ei,e.pool)}function cd(){var t=Nc();return t===null?null:{parent:oe._currentValue,pool:t}}var Ga=Error(a(460)),ud=Error(a(474)),hl=Error(a(542)),Ec={then:function(){}};function hd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function fl(){}function fd(t,e,s){switch(s=t[s],s===void 0?t.push(e):s!==e&&(e.then(fl,fl),e=s),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,pd(t),t;default:if(typeof e.status=="string")e.then(fl,fl);else{if(t=Lt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var c=e;c.status="fulfilled",c.value=r}},function(r){if(e.status==="pending"){var c=e;c.status="rejected",c.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,pd(t),t}throw Xa=e,Ga}}var Xa=null;function dd(){if(Xa===null)throw Error(a(459));var t=Xa;return Xa=null,t}function pd(t){if(t===Ga||t===hl)throw Error(a(483))}var fs=!1;function Oc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ds(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ps(t,e,s){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(kt&2)!==0){var c=r.pending;return c===null?e.next=e:(e.next=c.next,c.next=e),r.pending=e,e=il(t),td(t,null,s),e}return sl(t,r,e,s),il(t)}function Ia(t,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,s|=r,e.lanes=s,lf(t,s)}}function Dc(t,e){var s=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var c=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};h===null?c=h=_:h=h.next=_,s=s.next}while(s!==null);h===null?c=h=e:h=h.next=e}else c=h=e;s={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:r.shared,callbacks:r.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=e:t.next=e,s.lastBaseUpdate=e}var Rc=!1;function Za(){if(Rc){var t=ji;if(t!==null)throw t}}function Qa(t,e,s,r){Rc=!1;var c=t.updateQueue;fs=!1;var h=c.firstBaseUpdate,_=c.lastBaseUpdate,T=c.shared.pending;if(T!==null){c.shared.pending=null;var O=T,H=O.next;O.next=null,_===null?h=H:_.next=H,_=O;var P=t.alternate;P!==null&&(P=P.updateQueue,T=P.lastBaseUpdate,T!==_&&(T===null?P.firstBaseUpdate=H:T.next=H,P.lastBaseUpdate=O))}if(h!==null){var J=c.baseState;_=0,P=H=O=null,T=h;do{var G=T.lane&-536870913,X=G!==T.lane;if(X?(Nt&G)===G:(r&G)===G){G!==0&&G===ki&&(Rc=!0),P!==null&&(P=P.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var gt=t,dt=T;G=e;var qt=s;switch(dt.tag){case 1:if(gt=dt.payload,typeof gt=="function"){J=gt.call(qt,J,G);break t}J=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=dt.payload,G=typeof gt=="function"?gt.call(qt,J,G):gt,G==null)break t;J=g({},J,G);break t;case 2:fs=!0}}G=T.callback,G!==null&&(t.flags|=64,X&&(t.flags|=8192),X=c.callbacks,X===null?c.callbacks=[G]:X.push(G))}else X={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},P===null?(H=P=X,O=J):P=P.next=X,_|=G;if(T=T.next,T===null){if(T=c.shared.pending,T===null)break;X=T,T=X.next,X.next=null,c.lastBaseUpdate=X,c.shared.pending=null}}while(!0);P===null&&(O=J),c.baseState=O,c.firstBaseUpdate=H,c.lastBaseUpdate=P,h===null&&(c.shared.lanes=0),Ts|=_,t.lanes=_,t.memoizedState=J}}function md(t,e){if(typeof t!="function")throw Error(a(191,t));t.call(e)}function gd(t,e){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)md(s[t],e)}var zi=L(null),dl=L(0);function _d(t,e){t=Kn,W(dl,t),W(zi,e),Kn=t|e.baseLanes}function kc(){W(dl,Kn),W(zi,zi.current)}function jc(){Kn=dl.current,tt(zi),tt(dl)}var ms=0,bt=null,zt=null,se=null,pl=!1,Vi=!1,ni=!1,ml=0,Fa=0,qi=null,F0=0;function te(){throw Error(a(321))}function zc(t,e){if(e===null)return!1;for(var s=0;s<e.length&&s<t.length;s++)if(!Ye(t[s],e[s]))return!1;return!0}function Vc(t,e,s,r,c,h){return ms=h,bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,k.H=t===null||t.memoizedState===null?tp:ep,ni=!1,h=s(r,c),ni=!1,Vi&&(h=yd(e,s,r,c)),vd(t),h}function vd(t){k.H=Sl;var e=zt!==null&&zt.next!==null;if(ms=0,se=zt=bt=null,pl=!1,Fa=0,qi=null,e)throw Error(a(300));t===null||de||(t=t.dependencies,t!==null&&ol(t)&&(de=!0))}function yd(t,e,s,r){bt=t;var c=0;do{if(Vi&&(qi=null),Fa=0,Vi=!1,25<=c)throw Error(a(301));if(c+=1,se=zt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}k.H=ev,h=e(s,r)}while(Vi);return h}function W0(){var t=k.H,e=t.useState()[0];return e=typeof e.then=="function"?Wa(e):e,t=t.useState()[0],(zt!==null?zt.memoizedState:null)!==t&&(bt.flags|=1024),e}function qc(){var t=ml!==0;return ml=0,t}function Uc(t,e,s){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s}function Bc(t){if(pl){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}pl=!1}ms=0,se=zt=bt=null,Vi=!1,Fa=ml=0,qi=null}function Ve(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return se===null?bt.memoizedState=se=t:se=se.next=t,se}function ie(){if(zt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=zt.next;var e=se===null?bt.memoizedState:se.next;if(e!==null)se=e,zt=t;else{if(t===null)throw bt.alternate===null?Error(a(467)):Error(a(310));zt=t,t={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},se===null?bt.memoizedState=se=t:se=se.next=t}return se}function Lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wa(t){var e=Fa;return Fa+=1,qi===null&&(qi=[]),t=fd(qi,t,e),e=bt,(se===null?e.memoizedState:se.next)===null&&(e=e.alternate,k.H=e===null||e.memoizedState===null?tp:ep),t}function gl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wa(t);if(t.$$typeof===M)return Ce(t)}throw Error(a(438,String(t)))}function Hc(t){var e=null,s=bt.updateQueue;if(s!==null&&(e=s.memoCache),e==null){var r=bt.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(c){return c.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),s===null&&(s=Lc(),bt.updateQueue=s),s.memoCache=e,s=e.data[e.index],s===void 0)for(s=e.data[e.index]=Array(t),r=0;r<t;r++)s[r]=F;return e.index++,s}function In(t,e){return typeof e=="function"?e(t):e}function _l(t){var e=ie();return Yc(e,zt,t)}function Yc(t,e,s){var r=t.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=s;var c=t.baseQueue,h=r.pending;if(h!==null){if(c!==null){var _=c.next;c.next=h.next,h.next=_}e.baseQueue=c=h,r.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{e=c.next;var T=_=null,O=null,H=e,P=!1;do{var J=H.lane&-536870913;if(J!==H.lane?(Nt&J)===J:(ms&J)===J){var G=H.revertLane;if(G===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),J===ki&&(P=!0);else if((ms&G)===G){H=H.next,G===ki&&(P=!0);continue}else J={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(T=O=J,_=h):O=O.next=J,bt.lanes|=G,Ts|=G;J=H.action,ni&&s(h,J),h=H.hasEagerState?H.eagerState:s(h,J)}else G={lane:J,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(T=O=G,_=h):O=O.next=G,bt.lanes|=J,Ts|=J;H=H.next}while(H!==null&&H!==e);if(O===null?_=h:O.next=T,!Ye(h,t.memoizedState)&&(de=!0,P&&(s=ji,s!==null)))throw s;t.memoizedState=h,t.baseState=_,t.baseQueue=O,r.lastRenderedState=h}return c===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Gc(t){var e=ie(),s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var r=s.dispatch,c=s.pending,h=e.memoizedState;if(c!==null){s.pending=null;var _=c=c.next;do h=t(h,_.action),_=_.next;while(_!==c);Ye(h,e.memoizedState)||(de=!0),e.memoizedState=h,e.baseQueue===null&&(e.baseState=h),s.lastRenderedState=h}return[h,r]}function bd(t,e,s){var r=bt,c=ie(),h=Ot;if(h){if(s===void 0)throw Error(a(407));s=s()}else s=e();var _=!Ye((zt||c).memoizedState,s);_&&(c.memoizedState=s,de=!0),c=c.queue;var T=xd.bind(null,r,c,t);if(Pa(2048,8,T,[t]),c.getSnapshot!==e||_||se!==null&&se.memoizedState.tag&1){if(r.flags|=2048,Ui(9,vl(),Td.bind(null,r,c,s,e),null),Lt===null)throw Error(a(349));h||(ms&124)!==0||Sd(r,e,s)}return s}function Sd(t,e,s){t.flags|=16384,t={getSnapshot:e,value:s},e=bt.updateQueue,e===null?(e=Lc(),bt.updateQueue=e,e.stores=[t]):(s=e.stores,s===null?e.stores=[t]:s.push(t))}function Td(t,e,s,r){e.value=s,e.getSnapshot=r,wd(e)&&Ad(t)}function xd(t,e,s){return s(function(){wd(e)&&Ad(t)})}function wd(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!Ye(t,s)}catch{return!0}}function Ad(t){var e=Oi(t,2);e!==null&&Fe(e,t,2)}function Xc(t){var e=Ve();if(typeof t=="function"){var s=t;if(t=s(),ni){os(!0);try{s()}finally{os(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:In,lastRenderedState:t},e}function Cd(t,e,s,r){return t.baseState=s,Yc(t,zt,typeof r=="function"?r:In)}function P0(t,e,s,r,c){if(bl(t))throw Error(a(485));if(t=e.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){h.listeners.push(_)}};k.T!==null?s(!0):h.isTransition=!1,r(h),s=e.pending,s===null?(h.next=e.pending=h,Nd(e,h)):(h.next=s.next,e.pending=s.next=h)}}function Nd(t,e){var s=e.action,r=e.payload,c=t.state;if(e.isTransition){var h=k.T,_={};k.T=_;try{var T=s(c,r),O=k.S;O!==null&&O(_,T),Ed(t,e,T)}catch(H){Ic(t,e,H)}finally{k.T=h}}else try{h=s(c,r),Ed(t,e,h)}catch(H){Ic(t,e,H)}}function Ed(t,e,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(r){Od(t,e,r)},function(r){return Ic(t,e,r)}):Od(t,e,s)}function Od(t,e,s){e.status="fulfilled",e.value=s,Md(e),t.state=s,e=t.pending,e!==null&&(s=e.next,s===e?t.pending=null:(s=s.next,e.next=s,Nd(t,s)))}function Ic(t,e,s){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=s,Md(e),e=e.next;while(e!==r)}t.action=null}function Md(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Dd(t,e){return e}function Rd(t,e){if(Ot){var s=Lt.formState;if(s!==null){t:{var r=bt;if(Ot){if(Pt){e:{for(var c=Pt,h=Nn;c.nodeType!==8;){if(!h){c=null;break e}if(c=vn(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Pt=vn(c.nextSibling),r=c.data==="F!";break t}}Js(r)}r=!1}r&&(e=s[0])}}return s=Ve(),s.memoizedState=s.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dd,lastRenderedState:e},s.queue=r,s=Kd.bind(null,bt,r),r.dispatch=s,r=Xc(!1),h=Pc.bind(null,bt,!1,r.queue),r=Ve(),c={state:e,dispatch:null,action:t,pending:null},r.queue=c,s=P0.bind(null,bt,c,h,s),c.dispatch=s,r.memoizedState=t,[e,s,!1]}function kd(t){var e=ie();return jd(e,zt,t)}function jd(t,e,s){if(e=Yc(t,e,Dd)[0],t=_l(In)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=Wa(e)}catch(_){throw _===Ga?hl:_}else r=e;e=ie();var c=e.queue,h=c.dispatch;return s!==e.memoizedState&&(bt.flags|=2048,Ui(9,vl(),K0.bind(null,c,s),null)),[r,h,t]}function K0(t,e){t.action=e}function zd(t){var e=ie(),s=zt;if(s!==null)return jd(e,s,t);ie(),e=e.memoizedState,s=ie();var r=s.queue.dispatch;return s.memoizedState=t,[e,r,!1]}function Ui(t,e,s,r){return t={tag:t,create:s,deps:r,inst:e,next:null},e=bt.updateQueue,e===null&&(e=Lc(),bt.updateQueue=e),s=e.lastEffect,s===null?e.lastEffect=t.next=t:(r=s.next,s.next=t,t.next=r,e.lastEffect=t),t}function vl(){return{destroy:void 0,resource:void 0}}function Vd(){return ie().memoizedState}function yl(t,e,s,r){var c=Ve();r=r===void 0?null:r,bt.flags|=t,c.memoizedState=Ui(1|e,vl(),s,r)}function Pa(t,e,s,r){var c=ie();r=r===void 0?null:r;var h=c.memoizedState.inst;zt!==null&&r!==null&&zc(r,zt.memoizedState.deps)?c.memoizedState=Ui(e,h,s,r):(bt.flags|=t,c.memoizedState=Ui(1|e,h,s,r))}function qd(t,e){yl(8390656,8,t,e)}function Ud(t,e){Pa(2048,8,t,e)}function Bd(t,e){return Pa(4,2,t,e)}function Ld(t,e){return Pa(4,4,t,e)}function Hd(t,e){if(typeof e=="function"){t=t();var s=e(t);return function(){typeof s=="function"?s():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Yd(t,e,s){s=s!=null?s.concat([t]):null,Pa(4,4,Hd.bind(null,e,t),s)}function Zc(){}function Gd(t,e){var s=ie();e=e===void 0?null:e;var r=s.memoizedState;return e!==null&&zc(e,r[1])?r[0]:(s.memoizedState=[t,e],t)}function Xd(t,e){var s=ie();e=e===void 0?null:e;var r=s.memoizedState;if(e!==null&&zc(e,r[1]))return r[0];if(r=t(),ni){os(!0);try{t()}finally{os(!1)}}return s.memoizedState=[r,e],r}function Qc(t,e,s){return s===void 0||(ms&1073741824)!==0?t.memoizedState=e:(t.memoizedState=s,t=Qp(),bt.lanes|=t,Ts|=t,s)}function Id(t,e,s,r){return Ye(s,e)?s:zi.current!==null?(t=Qc(t,s,r),Ye(t,e)||(de=!0),t):(ms&42)===0?(de=!0,t.memoizedState=s):(t=Qp(),bt.lanes|=t,Ts|=t,e)}function Zd(t,e,s,r,c){var h=Y.p;Y.p=h!==0&&8>h?h:8;var _=k.T,T={};k.T=T,Pc(t,!1,e,s);try{var O=c(),H=k.S;if(H!==null&&H(T,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var P=Q0(O,r);Ka(t,e,P,Qe(t))}else Ka(t,e,r,Qe(t))}catch(J){Ka(t,e,{then:function(){},status:"rejected",reason:J},Qe())}finally{Y.p=h,k.T=_}}function J0(){}function Fc(t,e,s,r){if(t.tag!==5)throw Error(a(476));var c=Qd(t).queue;Zd(t,c,e,$,s===null?J0:function(){return Fd(t),s(r)})}function Qd(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:In,lastRenderedState:$},next:null};var s={};return e.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:In,lastRenderedState:s},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Fd(t){var e=Qd(t).next.queue;Ka(t,e,{},Qe())}function Wc(){return Ce(mr)}function Wd(){return ie().memoizedState}function Pd(){return ie().memoizedState}function $0(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var s=Qe();t=ds(s);var r=ps(e,t,s);r!==null&&(Fe(r,e,s),Ia(r,e,s)),e={cache:Ac()},t.payload=e;return}e=e.return}}function tv(t,e,s){var r=Qe();s={lane:r,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},bl(t)?Jd(e,s):(s=mc(t,e,s,r),s!==null&&(Fe(s,t,r),$d(s,e,r)))}function Kd(t,e,s){var r=Qe();Ka(t,e,s,r)}function Ka(t,e,s,r){var c={lane:r,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(bl(t))Jd(e,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=e.lastRenderedReducer,h!==null))try{var _=e.lastRenderedState,T=h(_,s);if(c.hasEagerState=!0,c.eagerState=T,Ye(T,_))return sl(t,e,c,0),Lt===null&&nl(),!1}catch{}finally{}if(s=mc(t,e,c,r),s!==null)return Fe(s,t,r),$d(s,e,r),!0}return!1}function Pc(t,e,s,r){if(r={lane:2,revertLane:Eu(),action:r,hasEagerState:!1,eagerState:null,next:null},bl(t)){if(e)throw Error(a(479))}else e=mc(t,s,r,2),e!==null&&Fe(e,t,2)}function bl(t){var e=t.alternate;return t===bt||e!==null&&e===bt}function Jd(t,e){Vi=pl=!0;var s=t.pending;s===null?e.next=e:(e.next=s.next,s.next=e),t.pending=e}function $d(t,e,s){if((s&4194048)!==0){var r=e.lanes;r&=t.pendingLanes,s|=r,e.lanes=s,lf(t,s)}}var Sl={readContext:Ce,use:gl,useCallback:te,useContext:te,useEffect:te,useImperativeHandle:te,useLayoutEffect:te,useInsertionEffect:te,useMemo:te,useReducer:te,useRef:te,useState:te,useDebugValue:te,useDeferredValue:te,useTransition:te,useSyncExternalStore:te,useId:te,useHostTransitionStatus:te,useFormState:te,useActionState:te,useOptimistic:te,useMemoCache:te,useCacheRefresh:te},tp={readContext:Ce,use:gl,useCallback:function(t,e){return Ve().memoizedState=[t,e===void 0?null:e],t},useContext:Ce,useEffect:qd,useImperativeHandle:function(t,e,s){s=s!=null?s.concat([t]):null,yl(4194308,4,Hd.bind(null,e,t),s)},useLayoutEffect:function(t,e){return yl(4194308,4,t,e)},useInsertionEffect:function(t,e){yl(4,2,t,e)},useMemo:function(t,e){var s=Ve();e=e===void 0?null:e;var r=t();if(ni){os(!0);try{t()}finally{os(!1)}}return s.memoizedState=[r,e],r},useReducer:function(t,e,s){var r=Ve();if(s!==void 0){var c=s(e);if(ni){os(!0);try{s(e)}finally{os(!1)}}}else c=e;return r.memoizedState=r.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},r.queue=t,t=t.dispatch=tv.bind(null,bt,t),[r.memoizedState,t]},useRef:function(t){var e=Ve();return t={current:t},e.memoizedState=t},useState:function(t){t=Xc(t);var e=t.queue,s=Kd.bind(null,bt,e);return e.dispatch=s,[t.memoizedState,s]},useDebugValue:Zc,useDeferredValue:function(t,e){var s=Ve();return Qc(s,t,e)},useTransition:function(){var t=Xc(!1);return t=Zd.bind(null,bt,t.queue,!0,!1),Ve().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,s){var r=bt,c=Ve();if(Ot){if(s===void 0)throw Error(a(407));s=s()}else{if(s=e(),Lt===null)throw Error(a(349));(Nt&124)!==0||Sd(r,e,s)}c.memoizedState=s;var h={value:s,getSnapshot:e};return c.queue=h,qd(xd.bind(null,r,h,t),[t]),r.flags|=2048,Ui(9,vl(),Td.bind(null,r,h,s,e),null),s},useId:function(){var t=Ve(),e=Lt.identifierPrefix;if(Ot){var s=Yn,r=Hn;s=(r&~(1<<32-He(r)-1)).toString(32)+s,e="«"+e+"R"+s,s=ml++,0<s&&(e+="H"+s.toString(32)),e+="»"}else s=F0++,e="«"+e+"r"+s.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:Wc,useFormState:Rd,useActionState:Rd,useOptimistic:function(t){var e=Ve();e.memoizedState=e.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=s,e=Pc.bind(null,bt,!0,s),s.dispatch=e,[t,e]},useMemoCache:Hc,useCacheRefresh:function(){return Ve().memoizedState=$0.bind(null,bt)}},ep={readContext:Ce,use:gl,useCallback:Gd,useContext:Ce,useEffect:Ud,useImperativeHandle:Yd,useInsertionEffect:Bd,useLayoutEffect:Ld,useMemo:Xd,useReducer:_l,useRef:Vd,useState:function(){return _l(In)},useDebugValue:Zc,useDeferredValue:function(t,e){var s=ie();return Id(s,zt.memoizedState,t,e)},useTransition:function(){var t=_l(In)[0],e=ie().memoizedState;return[typeof t=="boolean"?t:Wa(t),e]},useSyncExternalStore:bd,useId:Wd,useHostTransitionStatus:Wc,useFormState:kd,useActionState:kd,useOptimistic:function(t,e){var s=ie();return Cd(s,zt,t,e)},useMemoCache:Hc,useCacheRefresh:Pd},ev={readContext:Ce,use:gl,useCallback:Gd,useContext:Ce,useEffect:Ud,useImperativeHandle:Yd,useInsertionEffect:Bd,useLayoutEffect:Ld,useMemo:Xd,useReducer:Gc,useRef:Vd,useState:function(){return Gc(In)},useDebugValue:Zc,useDeferredValue:function(t,e){var s=ie();return zt===null?Qc(s,t,e):Id(s,zt.memoizedState,t,e)},useTransition:function(){var t=Gc(In)[0],e=ie().memoizedState;return[typeof t=="boolean"?t:Wa(t),e]},useSyncExternalStore:bd,useId:Wd,useHostTransitionStatus:Wc,useFormState:zd,useActionState:zd,useOptimistic:function(t,e){var s=ie();return zt!==null?Cd(s,zt,t,e):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Hc,useCacheRefresh:Pd},Bi=null,Ja=0;function Tl(t){var e=Ja;return Ja+=1,Bi===null&&(Bi=[]),fd(Bi,t,e)}function $a(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function xl(t,e){throw e.$$typeof===v?Error(a(525)):(t=Object.prototype.toString.call(e),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function np(t){var e=t._init;return e(t._payload)}function sp(t){function e(q,z){if(t){var B=q.deletions;B===null?(q.deletions=[z],q.flags|=16):B.push(z)}}function s(q,z){if(!t)return null;for(;z!==null;)e(q,z),z=z.sibling;return null}function r(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function c(q,z){return q=Ln(q,z),q.index=0,q.sibling=null,q}function h(q,z,B){return q.index=B,t?(B=q.alternate,B!==null?(B=B.index,B<z?(q.flags|=67108866,z):B):(q.flags|=67108866,z)):(q.flags|=1048576,z)}function _(q){return t&&q.alternate===null&&(q.flags|=67108866),q}function T(q,z,B,K){return z===null||z.tag!==6?(z=_c(B,q.mode,K),z.return=q,z):(z=c(z,B),z.return=q,z)}function O(q,z,B,K){var ht=B.type;return ht===S?P(q,z,B.props.children,K,B.key):z!==null&&(z.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===R&&np(ht)===z.type)?(z=c(z,B.props),$a(z,B),z.return=q,z):(z=al(B.type,B.key,B.props,null,q.mode,K),$a(z,B),z.return=q,z)}function H(q,z,B,K){return z===null||z.tag!==4||z.stateNode.containerInfo!==B.containerInfo||z.stateNode.implementation!==B.implementation?(z=vc(B,q.mode,K),z.return=q,z):(z=c(z,B.children||[]),z.return=q,z)}function P(q,z,B,K,ht){return z===null||z.tag!==7?(z=Fs(B,q.mode,K,ht),z.return=q,z):(z=c(z,B),z.return=q,z)}function J(q,z,B){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=_c(""+z,q.mode,B),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return B=al(z.type,z.key,z.props,null,q.mode,B),$a(B,z),B.return=q,B;case y:return z=vc(z,q.mode,B),z.return=q,z;case R:var K=z._init;return z=K(z._payload),J(q,z,B)}if(it(z)||I(z))return z=Fs(z,q.mode,B,null),z.return=q,z;if(typeof z.then=="function")return J(q,Tl(z),B);if(z.$$typeof===M)return J(q,cl(q,z),B);xl(q,z)}return null}function G(q,z,B,K){var ht=z!==null?z.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ht!==null?null:T(q,z,""+B,K);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return B.key===ht?O(q,z,B,K):null;case y:return B.key===ht?H(q,z,B,K):null;case R:return ht=B._init,B=ht(B._payload),G(q,z,B,K)}if(it(B)||I(B))return ht!==null?null:P(q,z,B,K,null);if(typeof B.then=="function")return G(q,z,Tl(B),K);if(B.$$typeof===M)return G(q,z,cl(q,B),K);xl(q,B)}return null}function X(q,z,B,K,ht){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return q=q.get(B)||null,T(z,q,""+K,ht);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return q=q.get(K.key===null?B:K.key)||null,O(z,q,K,ht);case y:return q=q.get(K.key===null?B:K.key)||null,H(z,q,K,ht);case R:var Tt=K._init;return K=Tt(K._payload),X(q,z,B,K,ht)}if(it(K)||I(K))return q=q.get(B)||null,P(z,q,K,ht,null);if(typeof K.then=="function")return X(q,z,B,Tl(K),ht);if(K.$$typeof===M)return X(q,z,B,cl(z,K),ht);xl(z,K)}return null}function gt(q,z,B,K){for(var ht=null,Tt=null,ft=z,pt=z=0,me=null;ft!==null&&pt<B.length;pt++){ft.index>pt?(me=ft,ft=null):me=ft.sibling;var Et=G(q,ft,B[pt],K);if(Et===null){ft===null&&(ft=me);break}t&&ft&&Et.alternate===null&&e(q,ft),z=h(Et,z,pt),Tt===null?ht=Et:Tt.sibling=Et,Tt=Et,ft=me}if(pt===B.length)return s(q,ft),Ot&&Ps(q,pt),ht;if(ft===null){for(;pt<B.length;pt++)ft=J(q,B[pt],K),ft!==null&&(z=h(ft,z,pt),Tt===null?ht=ft:Tt.sibling=ft,Tt=ft);return Ot&&Ps(q,pt),ht}for(ft=r(ft);pt<B.length;pt++)me=X(ft,q,pt,B[pt],K),me!==null&&(t&&me.alternate!==null&&ft.delete(me.key===null?pt:me.key),z=h(me,z,pt),Tt===null?ht=me:Tt.sibling=me,Tt=me);return t&&ft.forEach(function(Ds){return e(q,Ds)}),Ot&&Ps(q,pt),ht}function dt(q,z,B,K){if(B==null)throw Error(a(151));for(var ht=null,Tt=null,ft=z,pt=z=0,me=null,Et=B.next();ft!==null&&!Et.done;pt++,Et=B.next()){ft.index>pt?(me=ft,ft=null):me=ft.sibling;var Ds=G(q,ft,Et.value,K);if(Ds===null){ft===null&&(ft=me);break}t&&ft&&Ds.alternate===null&&e(q,ft),z=h(Ds,z,pt),Tt===null?ht=Ds:Tt.sibling=Ds,Tt=Ds,ft=me}if(Et.done)return s(q,ft),Ot&&Ps(q,pt),ht;if(ft===null){for(;!Et.done;pt++,Et=B.next())Et=J(q,Et.value,K),Et!==null&&(z=h(Et,z,pt),Tt===null?ht=Et:Tt.sibling=Et,Tt=Et);return Ot&&Ps(q,pt),ht}for(ft=r(ft);!Et.done;pt++,Et=B.next())Et=X(ft,q,pt,Et.value,K),Et!==null&&(t&&Et.alternate!==null&&ft.delete(Et.key===null?pt:Et.key),z=h(Et,z,pt),Tt===null?ht=Et:Tt.sibling=Et,Tt=Et);return t&&ft.forEach(function(ny){return e(q,ny)}),Ot&&Ps(q,pt),ht}function qt(q,z,B,K){if(typeof B=="object"&&B!==null&&B.type===S&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case b:t:{for(var ht=B.key;z!==null;){if(z.key===ht){if(ht=B.type,ht===S){if(z.tag===7){s(q,z.sibling),K=c(z,B.props.children),K.return=q,q=K;break t}}else if(z.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===R&&np(ht)===z.type){s(q,z.sibling),K=c(z,B.props),$a(K,B),K.return=q,q=K;break t}s(q,z);break}else e(q,z);z=z.sibling}B.type===S?(K=Fs(B.props.children,q.mode,K,B.key),K.return=q,q=K):(K=al(B.type,B.key,B.props,null,q.mode,K),$a(K,B),K.return=q,q=K)}return _(q);case y:t:{for(ht=B.key;z!==null;){if(z.key===ht)if(z.tag===4&&z.stateNode.containerInfo===B.containerInfo&&z.stateNode.implementation===B.implementation){s(q,z.sibling),K=c(z,B.children||[]),K.return=q,q=K;break t}else{s(q,z);break}else e(q,z);z=z.sibling}K=vc(B,q.mode,K),K.return=q,q=K}return _(q);case R:return ht=B._init,B=ht(B._payload),qt(q,z,B,K)}if(it(B))return gt(q,z,B,K);if(I(B)){if(ht=I(B),typeof ht!="function")throw Error(a(150));return B=ht.call(B),dt(q,z,B,K)}if(typeof B.then=="function")return qt(q,z,Tl(B),K);if(B.$$typeof===M)return qt(q,z,cl(q,B),K);xl(q,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,z!==null&&z.tag===6?(s(q,z.sibling),K=c(z,B),K.return=q,q=K):(s(q,z),K=_c(B,q.mode,K),K.return=q,q=K),_(q)):s(q,z)}return function(q,z,B,K){try{Ja=0;var ht=qt(q,z,B,K);return Bi=null,ht}catch(ft){if(ft===Ga||ft===hl)throw ft;var Tt=Ge(29,ft,null,q.mode);return Tt.lanes=K,Tt.return=q,Tt}finally{}}}var Li=sp(!0),ip=sp(!1),ln=L(null),En=null;function gs(t){var e=t.alternate;W(ce,ce.current&1),W(ln,t),En===null&&(e===null||zi.current!==null||e.memoizedState!==null)&&(En=t)}function ap(t){if(t.tag===22){if(W(ce,ce.current),W(ln,t),En===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(En=t)}}else _s()}function _s(){W(ce,ce.current),W(ln,ln.current)}function Zn(t){tt(ln),En===t&&(En=null),tt(ce)}var ce=L(0);function wl(t){for(var e=t;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Lu(s)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Kc(t,e,s,r){e=t.memoizedState,s=s(r,e),s=s==null?e:g({},e,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Jc={enqueueSetState:function(t,e,s){t=t._reactInternals;var r=Qe(),c=ds(r);c.payload=e,s!=null&&(c.callback=s),e=ps(t,c,r),e!==null&&(Fe(e,t,r),Ia(e,t,r))},enqueueReplaceState:function(t,e,s){t=t._reactInternals;var r=Qe(),c=ds(r);c.tag=1,c.payload=e,s!=null&&(c.callback=s),e=ps(t,c,r),e!==null&&(Fe(e,t,r),Ia(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var s=Qe(),r=ds(s);r.tag=2,e!=null&&(r.callback=e),e=ps(t,r,s),e!==null&&(Fe(e,t,s),Ia(e,t,s))}};function rp(t,e,s,r,c,h,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,h,_):e.prototype&&e.prototype.isPureReactComponent?!za(s,r)||!za(c,h):!0}function lp(t,e,s,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,r),e.state!==t&&Jc.enqueueReplaceState(e,e.state,null)}function si(t,e){var s=e;if("ref"in e){s={};for(var r in e)r!=="ref"&&(s[r]=e[r])}if(t=t.defaultProps){s===e&&(s=g({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}var Al=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function op(t){Al(t)}function cp(t){console.error(t)}function up(t){Al(t)}function Cl(t,e){try{var s=t.onUncaughtError;s(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function hp(t,e,s){try{var r=t.onCaughtError;r(s.value,{componentStack:s.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function $c(t,e,s){return s=ds(s),s.tag=3,s.payload={element:null},s.callback=function(){Cl(t,e)},s}function fp(t){return t=ds(t),t.tag=3,t}function dp(t,e,s,r){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var h=r.value;t.payload=function(){return c(h)},t.callback=function(){hp(e,s,r)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){hp(e,s,r),typeof c!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var T=r.stack;this.componentDidCatch(r.value,{componentStack:T!==null?T:""})})}function nv(t,e,s,r,c){if(s.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=s.alternate,e!==null&&La(e,s,c,!0),s=ln.current,s!==null){switch(s.tag){case 13:return En===null?xu():s.alternate===null&&Kt===0&&(Kt=3),s.flags&=-257,s.flags|=65536,s.lanes=c,r===Ec?s.flags|=16384:(e=s.updateQueue,e===null?s.updateQueue=new Set([r]):e.add(r),Au(t,r,c)),!1;case 22:return s.flags|=65536,r===Ec?s.flags|=16384:(e=s.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},s.updateQueue=e):(s=e.retryQueue,s===null?e.retryQueue=new Set([r]):s.add(r)),Au(t,r,c)),!1}throw Error(a(435,s.tag))}return Au(t,r,c),xu(),!1}if(Ot)return e=ln.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=c,r!==Sc&&(t=Error(a(422),{cause:r}),Ba(nn(t,s)))):(r!==Sc&&(e=Error(a(423),{cause:r}),Ba(nn(e,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,r=nn(r,s),c=$c(t.stateNode,r,c),Dc(t,c),Kt!==4&&(Kt=2)),!1;var h=Error(a(520),{cause:r});if(h=nn(h,s),rr===null?rr=[h]:rr.push(h),Kt!==4&&(Kt=2),e===null)return!0;r=nn(r,s),s=e;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=$c(s.stateNode,r,t),Dc(s,t),!1;case 1:if(e=s.type,h=s.stateNode,(s.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(xs===null||!xs.has(h))))return s.flags|=65536,c&=-c,s.lanes|=c,c=fp(c),dp(c,t,s,r),Dc(s,c),!1}s=s.return}while(s!==null);return!1}var pp=Error(a(461)),de=!1;function be(t,e,s,r){e.child=t===null?ip(e,null,s,r):Li(e,t.child,s,r)}function mp(t,e,s,r,c){s=s.render;var h=e.ref;if("ref"in r){var _={};for(var T in r)T!=="ref"&&(_[T]=r[T])}else _=r;return ti(e),r=Vc(t,e,s,_,h,c),T=qc(),t!==null&&!de?(Uc(t,e,c),Qn(t,e,c)):(Ot&&T&&yc(e),e.flags|=1,be(t,e,r,c),e.child)}function gp(t,e,s,r,c){if(t===null){var h=s.type;return typeof h=="function"&&!gc(h)&&h.defaultProps===void 0&&s.compare===null?(e.tag=15,e.type=h,_p(t,e,h,r,c)):(t=al(s.type,null,r,e,e.mode,c),t.ref=e.ref,t.return=e,e.child=t)}if(h=t.child,!lu(t,c)){var _=h.memoizedProps;if(s=s.compare,s=s!==null?s:za,s(_,r)&&t.ref===e.ref)return Qn(t,e,c)}return e.flags|=1,t=Ln(h,r),t.ref=e.ref,t.return=e,e.child=t}function _p(t,e,s,r,c){if(t!==null){var h=t.memoizedProps;if(za(h,r)&&t.ref===e.ref)if(de=!1,e.pendingProps=r=h,lu(t,c))(t.flags&131072)!==0&&(de=!0);else return e.lanes=t.lanes,Qn(t,e,c)}return tu(t,e,s,r,c)}function vp(t,e,s){var r=e.pendingProps,c=r.children,h=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if((e.flags&128)!==0){if(r=h!==null?h.baseLanes|s:s,t!==null){for(c=e.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;e.childLanes=h&~r}else e.childLanes=0,e.child=null;return yp(t,e,r,s)}if((s&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&ul(e,h!==null?h.cachePool:null),h!==null?_d(e,h):kc(),ap(e);else return e.lanes=e.childLanes=536870912,yp(t,e,h!==null?h.baseLanes|s:s,s)}else h!==null?(ul(e,h.cachePool),_d(e,h),_s(),e.memoizedState=null):(t!==null&&ul(e,null),kc(),_s());return be(t,e,c,s),e.child}function yp(t,e,s,r){var c=Nc();return c=c===null?null:{parent:oe._currentValue,pool:c},e.memoizedState={baseLanes:s,cachePool:c},t!==null&&ul(e,null),kc(),ap(e),t!==null&&La(t,e,r,!0),null}function Nl(t,e){var s=e.ref;if(s===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(e.flags|=4194816)}}function tu(t,e,s,r,c){return ti(e),s=Vc(t,e,s,r,void 0,c),r=qc(),t!==null&&!de?(Uc(t,e,c),Qn(t,e,c)):(Ot&&r&&yc(e),e.flags|=1,be(t,e,s,c),e.child)}function bp(t,e,s,r,c,h){return ti(e),e.updateQueue=null,s=yd(e,r,s,c),vd(t),r=qc(),t!==null&&!de?(Uc(t,e,h),Qn(t,e,h)):(Ot&&r&&yc(e),e.flags|=1,be(t,e,s,h),e.child)}function Sp(t,e,s,r,c){if(ti(e),e.stateNode===null){var h=Mi,_=s.contextType;typeof _=="object"&&_!==null&&(h=Ce(_)),h=new s(r,h),e.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Jc,e.stateNode=h,h._reactInternals=e,h=e.stateNode,h.props=r,h.state=e.memoizedState,h.refs={},Oc(e),_=s.contextType,h.context=typeof _=="object"&&_!==null?Ce(_):Mi,h.state=e.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Kc(e,s,_,r),h.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(_=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),_!==h.state&&Jc.enqueueReplaceState(h,h.state,null),Qa(e,r,h,c),Za(),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){h=e.stateNode;var T=e.memoizedProps,O=si(s,T);h.props=O;var H=h.context,P=s.contextType;_=Mi,typeof P=="object"&&P!==null&&(_=Ce(P));var J=s.getDerivedStateFromProps;P=typeof J=="function"||typeof h.getSnapshotBeforeUpdate=="function",T=e.pendingProps!==T,P||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T||H!==_)&&lp(e,h,r,_),fs=!1;var G=e.memoizedState;h.state=G,Qa(e,r,h,c),Za(),H=e.memoizedState,T||G!==H||fs?(typeof J=="function"&&(Kc(e,s,J,r),H=e.memoizedState),(O=fs||rp(e,s,O,r,G,H,_))?(P||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(e.flags|=4194308)):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=H),h.props=r,h.state=H,h.context=_,r=O):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{h=e.stateNode,Mc(t,e),_=e.memoizedProps,P=si(s,_),h.props=P,J=e.pendingProps,G=h.context,H=s.contextType,O=Mi,typeof H=="object"&&H!==null&&(O=Ce(H)),T=s.getDerivedStateFromProps,(H=typeof T=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==J||G!==O)&&lp(e,h,r,O),fs=!1,G=e.memoizedState,h.state=G,Qa(e,r,h,c),Za();var X=e.memoizedState;_!==J||G!==X||fs||t!==null&&t.dependencies!==null&&ol(t.dependencies)?(typeof T=="function"&&(Kc(e,s,T,r),X=e.memoizedState),(P=fs||rp(e,s,P,r,G,X,O)||t!==null&&t.dependencies!==null&&ol(t.dependencies))?(H||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(r,X,O),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(r,X,O)),typeof h.componentDidUpdate=="function"&&(e.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof h.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=X),h.props=r,h.state=X,h.context=O,r=P):(typeof h.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(e.flags|=1024),r=!1)}return h=r,Nl(t,e),r=(e.flags&128)!==0,h||r?(h=e.stateNode,s=r&&typeof s.getDerivedStateFromError!="function"?null:h.render(),e.flags|=1,t!==null&&r?(e.child=Li(e,t.child,null,c),e.child=Li(e,null,s,c)):be(t,e,s,c),e.memoizedState=h.state,t=e.child):t=Qn(t,e,c),t}function Tp(t,e,s,r){return Ua(),e.flags|=256,be(t,e,s,r),e.child}var eu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nu(t){return{baseLanes:t,cachePool:cd()}}function su(t,e,s){return t=t!==null?t.childLanes&~s:0,e&&(t|=on),t}function xp(t,e,s){var r=e.pendingProps,c=!1,h=(e.flags&128)!==0,_;if((_=h)||(_=t!==null&&t.memoizedState===null?!1:(ce.current&2)!==0),_&&(c=!0,e.flags&=-129),_=(e.flags&32)!==0,e.flags&=-33,t===null){if(Ot){if(c?gs(e):_s(),Ot){var T=Pt,O;if(O=T){t:{for(O=T,T=Nn;O.nodeType!==8;){if(!T){T=null;break t}if(O=vn(O.nextSibling),O===null){T=null;break t}}T=O}T!==null?(e.memoizedState={dehydrated:T,treeContext:Ws!==null?{id:Hn,overflow:Yn}:null,retryLane:536870912,hydrationErrors:null},O=Ge(18,null,null,0),O.stateNode=T,O.return=e,e.child=O,Me=e,Pt=null,O=!0):O=!1}O||Js(e)}if(T=e.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Lu(T)?e.lanes=32:e.lanes=536870912,null;Zn(e)}return T=r.children,r=r.fallback,c?(_s(),c=e.mode,T=El({mode:"hidden",children:T},c),r=Fs(r,c,s,null),T.return=e,r.return=e,T.sibling=r,e.child=T,c=e.child,c.memoizedState=nu(s),c.childLanes=su(t,_,s),e.memoizedState=eu,r):(gs(e),iu(e,T))}if(O=t.memoizedState,O!==null&&(T=O.dehydrated,T!==null)){if(h)e.flags&256?(gs(e),e.flags&=-257,e=au(t,e,s)):e.memoizedState!==null?(_s(),e.child=t.child,e.flags|=128,e=null):(_s(),c=r.fallback,T=e.mode,r=El({mode:"visible",children:r.children},T),c=Fs(c,T,s,null),c.flags|=2,r.return=e,c.return=e,r.sibling=c,e.child=r,Li(e,t.child,null,s),r=e.child,r.memoizedState=nu(s),r.childLanes=su(t,_,s),e.memoizedState=eu,e=c);else if(gs(e),Lu(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var H=_.dgst;_=H,r=Error(a(419)),r.stack="",r.digest=_,Ba({value:r,source:null,stack:null}),e=au(t,e,s)}else if(de||La(t,e,s,!1),_=(s&t.childLanes)!==0,de||_){if(_=Lt,_!==null&&(r=s&-s,r=(r&42)!==0?1:Ho(r),r=(r&(_.suspendedLanes|s))!==0?0:r,r!==0&&r!==O.retryLane))throw O.retryLane=r,Oi(t,r),Fe(_,t,r),pp;T.data==="$?"||xu(),e=au(t,e,s)}else T.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=O.treeContext,Pt=vn(T.nextSibling),Me=e,Ot=!0,Ks=null,Nn=!1,t!==null&&(an[rn++]=Hn,an[rn++]=Yn,an[rn++]=Ws,Hn=t.id,Yn=t.overflow,Ws=e),e=iu(e,r.children),e.flags|=4096);return e}return c?(_s(),c=r.fallback,T=e.mode,O=t.child,H=O.sibling,r=Ln(O,{mode:"hidden",children:r.children}),r.subtreeFlags=O.subtreeFlags&65011712,H!==null?c=Ln(H,c):(c=Fs(c,T,s,null),c.flags|=2),c.return=e,r.return=e,r.sibling=c,e.child=r,r=c,c=e.child,T=t.child.memoizedState,T===null?T=nu(s):(O=T.cachePool,O!==null?(H=oe._currentValue,O=O.parent!==H?{parent:H,pool:H}:O):O=cd(),T={baseLanes:T.baseLanes|s,cachePool:O}),c.memoizedState=T,c.childLanes=su(t,_,s),e.memoizedState=eu,r):(gs(e),s=t.child,t=s.sibling,s=Ln(s,{mode:"visible",children:r.children}),s.return=e,s.sibling=null,t!==null&&(_=e.deletions,_===null?(e.deletions=[t],e.flags|=16):_.push(t)),e.child=s,e.memoizedState=null,s)}function iu(t,e){return e=El({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function El(t,e){return t=Ge(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function au(t,e,s){return Li(e,t.child,null,s),t=iu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wp(t,e,s){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xc(t.return,e,s)}function ru(t,e,s,r,c){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:c}:(h.isBackwards=e,h.rendering=null,h.renderingStartTime=0,h.last=r,h.tail=s,h.tailMode=c)}function Ap(t,e,s){var r=e.pendingProps,c=r.revealOrder,h=r.tail;if(be(t,e,r.children,s),r=ce.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wp(t,s,e);else if(t.tag===19)wp(t,s,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(W(ce,r),c){case"forwards":for(s=e.child,c=null;s!==null;)t=s.alternate,t!==null&&wl(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=e.child,e.child=null):(c=s.sibling,s.sibling=null),ru(e,!1,c,s,h);break;case"backwards":for(s=null,c=e.child,e.child=null;c!==null;){if(t=c.alternate,t!==null&&wl(t)===null){e.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}ru(e,!0,s,null,h);break;case"together":ru(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qn(t,e,s){if(t!==null&&(e.dependencies=t.dependencies),Ts|=e.lanes,(s&e.childLanes)===0)if(t!==null){if(La(t,e,s,!1),(s&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(a(153));if(e.child!==null){for(t=e.child,s=Ln(t,t.pendingProps),e.child=s,s.return=e;t.sibling!==null;)t=t.sibling,s=s.sibling=Ln(t,t.pendingProps),s.return=e;s.sibling=null}return e.child}function lu(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&ol(t)))}function sv(t,e,s){switch(e.tag){case 3:lt(e,e.stateNode.containerInfo),hs(e,oe,t.memoizedState.cache),Ua();break;case 27:case 5:pn(e);break;case 4:lt(e,e.stateNode.containerInfo);break;case 10:hs(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(gs(e),e.flags|=128,null):(s&e.child.childLanes)!==0?xp(t,e,s):(gs(e),t=Qn(t,e,s),t!==null?t.sibling:null);gs(e);break;case 19:var c=(t.flags&128)!==0;if(r=(s&e.childLanes)!==0,r||(La(t,e,s,!1),r=(s&e.childLanes)!==0),c){if(r)return Ap(t,e,s);e.flags|=128}if(c=e.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),W(ce,ce.current),r)break;return null;case 22:case 23:return e.lanes=0,vp(t,e,s);case 24:hs(e,oe,t.memoizedState.cache)}return Qn(t,e,s)}function Cp(t,e,s){if(t!==null)if(t.memoizedProps!==e.pendingProps)de=!0;else{if(!lu(t,s)&&(e.flags&128)===0)return de=!1,sv(t,e,s);de=(t.flags&131072)!==0}else de=!1,Ot&&(e.flags&1048576)!==0&&nd(e,ll,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var r=e.elementType,c=r._init;if(r=c(r._payload),e.type=r,typeof r=="function")gc(r)?(t=si(r,t),e.tag=1,e=Sp(null,e,r,t,s)):(e.tag=0,e=tu(null,e,r,t,s));else{if(r!=null){if(c=r.$$typeof,c===U){e.tag=11,e=mp(null,e,r,t,s);break t}else if(c===V){e.tag=14,e=gp(null,e,r,t,s);break t}}throw e=et(r)||r,Error(a(306,e,""))}}return e;case 0:return tu(t,e,e.type,e.pendingProps,s);case 1:return r=e.type,c=si(r,e.pendingProps),Sp(t,e,r,c,s);case 3:t:{if(lt(e,e.stateNode.containerInfo),t===null)throw Error(a(387));r=e.pendingProps;var h=e.memoizedState;c=h.element,Mc(t,e),Qa(e,r,null,s);var _=e.memoizedState;if(r=_.cache,hs(e,oe,r),r!==h.cache&&wc(e,[oe],s,!0),Za(),r=_.element,h.isDehydrated)if(h={element:r,isDehydrated:!1,cache:_.cache},e.updateQueue.baseState=h,e.memoizedState=h,e.flags&256){e=Tp(t,e,r,s);break t}else if(r!==c){c=nn(Error(a(424)),e),Ba(c),e=Tp(t,e,r,s);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Pt=vn(t.firstChild),Me=e,Ot=!0,Ks=null,Nn=!0,s=ip(e,null,r,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ua(),r===c){e=Qn(t,e,s);break t}be(t,e,r,s)}e=e.child}return e;case 26:return Nl(t,e),t===null?(s=Mm(e.type,null,e.pendingProps,null))?e.memoizedState=s:Ot||(s=e.type,t=e.pendingProps,r=Yl(ot.current).createElement(s),r[Ae]=e,r[je]=t,Te(r,s,t),fe(r),e.stateNode=r):e.memoizedState=Mm(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return pn(e),t===null&&Ot&&(r=e.stateNode=Nm(e.type,e.pendingProps,ot.current),Me=e,Nn=!0,c=Pt,Cs(e.type)?(Hu=c,Pt=vn(r.firstChild)):Pt=c),be(t,e,e.pendingProps.children,s),Nl(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Ot&&((c=r=Pt)&&(r=Dv(r,e.type,e.pendingProps,Nn),r!==null?(e.stateNode=r,Me=e,Pt=vn(r.firstChild),Nn=!1,c=!0):c=!1),c||Js(e)),pn(e),c=e.type,h=e.pendingProps,_=t!==null?t.memoizedProps:null,r=h.children,qu(c,h)?r=null:_!==null&&qu(c,_)&&(e.flags|=32),e.memoizedState!==null&&(c=Vc(t,e,W0,null,null,s),mr._currentValue=c),Nl(t,e),be(t,e,r,s),e.child;case 6:return t===null&&Ot&&((t=s=Pt)&&(s=Rv(s,e.pendingProps,Nn),s!==null?(e.stateNode=s,Me=e,Pt=null,t=!0):t=!1),t||Js(e)),null;case 13:return xp(t,e,s);case 4:return lt(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Li(e,null,r,s):be(t,e,r,s),e.child;case 11:return mp(t,e,e.type,e.pendingProps,s);case 7:return be(t,e,e.pendingProps,s),e.child;case 8:return be(t,e,e.pendingProps.children,s),e.child;case 12:return be(t,e,e.pendingProps.children,s),e.child;case 10:return r=e.pendingProps,hs(e,e.type,r.value),be(t,e,r.children,s),e.child;case 9:return c=e.type._context,r=e.pendingProps.children,ti(e),c=Ce(c),r=r(c),e.flags|=1,be(t,e,r,s),e.child;case 14:return gp(t,e,e.type,e.pendingProps,s);case 15:return _p(t,e,e.type,e.pendingProps,s);case 19:return Ap(t,e,s);case 31:return r=e.pendingProps,s=e.mode,r={mode:r.mode,children:r.children},t===null?(s=El(r,s),s.ref=e.ref,e.child=s,s.return=e,e=s):(s=Ln(t.child,r),s.ref=e.ref,e.child=s,s.return=e,e=s),e;case 22:return vp(t,e,s);case 24:return ti(e),r=Ce(oe),t===null?(c=Nc(),c===null&&(c=Lt,h=Ac(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=s),c=h),e.memoizedState={parent:r,cache:c},Oc(e),hs(e,oe,c)):((t.lanes&s)!==0&&(Mc(t,e),Qa(e,null,null,s),Za()),c=t.memoizedState,h=e.memoizedState,c.parent!==r?(c={parent:r,cache:r},e.memoizedState=c,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=c),hs(e,oe,r)):(r=h.cache,hs(e,oe,r),r!==c.cache&&wc(e,[oe],s,!0))),be(t,e,e.pendingProps.children,s),e.child;case 29:throw e.pendingProps}throw Error(a(156,e.tag))}function Fn(t){t.flags|=4}function Np(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!zm(e)){if(e=ln.current,e!==null&&((Nt&4194048)===Nt?En!==null:(Nt&62914560)!==Nt&&(Nt&536870912)===0||e!==En))throw Xa=Ec,ud;t.flags|=8192}}function Ol(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?af():536870912,t.lanes|=e,Xi|=e)}function tr(t,e){if(!Ot)switch(t.tailMode){case"hidden":e=t.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,s=0,r=0;if(e)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=r,t.childLanes=s,e}function iv(t,e,s){var r=e.pendingProps;switch(bc(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(e),null;case 1:return Ft(e),null;case 3:return s=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Xn(oe),we(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(qa(e)?Fn(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,ad())),Ft(e),null;case 26:return s=e.memoizedState,t===null?(Fn(e),s!==null?(Ft(e),Np(e,s)):(Ft(e),e.flags&=-16777217)):s?s!==t.memoizedState?(Fn(e),Ft(e),Np(e,s)):(Ft(e),e.flags&=-16777217):(t.memoizedProps!==r&&Fn(e),Ft(e),e.flags&=-16777217),null;case 27:mn(e),s=ot.current;var c=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Fn(e);else{if(!r){if(e.stateNode===null)throw Error(a(166));return Ft(e),null}t=rt.current,qa(e)?sd(e):(t=Nm(c,r,s),e.stateNode=t,Fn(e))}return Ft(e),null;case 5:if(mn(e),s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Fn(e);else{if(!r){if(e.stateNode===null)throw Error(a(166));return Ft(e),null}if(t=rt.current,qa(e))sd(e);else{switch(c=Yl(ot.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?c.createElement("select",{is:r.is}):c.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?c.createElement(s,{is:r.is}):c.createElement(s)}}t[Ae]=e,t[je]=r;t:for(c=e.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break t;for(;c.sibling===null;){if(c.return===null||c.return===e)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}e.stateNode=t;t:switch(Te(t,s,r),s){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Fn(e)}}return Ft(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Fn(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(a(166));if(t=ot.current,qa(e)){if(t=e.stateNode,s=e.memoizedProps,r=null,c=Me,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}t[Ae]=e,t=!!(t.nodeValue===s||r!==null&&r.suppressHydrationWarning===!0||bm(t.nodeValue,s)),t||Js(e)}else t=Yl(t).createTextNode(r),t[Ae]=e,e.stateNode=t}return Ft(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=qa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=e.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Ae]=e}else Ua(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Ft(e),c=!1}else c=ad(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return e.flags&256?(Zn(e),e):(Zn(e),null)}if(Zn(e),(e.flags&128)!==0)return e.lanes=s,e;if(s=r!==null,t=t!==null&&t.memoizedState!==null,s){r=e.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool);var h=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==c&&(r.flags|=2048)}return s!==t&&s&&(e.child.flags|=8192),Ol(e,e.updateQueue),Ft(e),null;case 4:return we(),t===null&&Ru(e.stateNode.containerInfo),Ft(e),null;case 10:return Xn(e.type),Ft(e),null;case 19:if(tt(ce),c=e.memoizedState,c===null)return Ft(e),null;if(r=(e.flags&128)!==0,h=c.rendering,h===null)if(r)tr(c,!1);else{if(Kt!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(h=wl(t),h!==null){for(e.flags|=128,tr(c,!1),t=h.updateQueue,e.updateQueue=t,Ol(e,t),e.subtreeFlags=0,t=s,s=e.child;s!==null;)ed(s,t),s=s.sibling;return W(ce,ce.current&1|2),e.child}t=t.sibling}c.tail!==null&&Mt()>Rl&&(e.flags|=128,r=!0,tr(c,!1),e.lanes=4194304)}else{if(!r)if(t=wl(h),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,Ol(e,t),tr(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Ot)return Ft(e),null}else 2*Mt()-c.renderingStartTime>Rl&&s!==536870912&&(e.flags|=128,r=!0,tr(c,!1),e.lanes=4194304);c.isBackwards?(h.sibling=e.child,e.child=h):(t=c.last,t!==null?t.sibling=h:e.child=h,c.last=h)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=Mt(),e.sibling=null,t=ce.current,W(ce,r?t&1|2:t&1),e):(Ft(e),null);case 22:case 23:return Zn(e),jc(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?(s&536870912)!==0&&(e.flags&128)===0&&(Ft(e),e.subtreeFlags&6&&(e.flags|=8192)):Ft(e),s=e.updateQueue,s!==null&&Ol(e,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==s&&(e.flags|=2048),t!==null&&tt(ei),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),Xn(oe),Ft(e),null;case 25:return null;case 30:return null}throw Error(a(156,e.tag))}function av(t,e){switch(bc(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xn(oe),we(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return mn(e),null;case 13:if(Zn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(a(340));Ua()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return tt(ce),null;case 4:return we(),null;case 10:return Xn(e.type),null;case 22:case 23:return Zn(e),jc(),t!==null&&tt(ei),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Xn(oe),null;case 25:return null;default:return null}}function Ep(t,e){switch(bc(e),e.tag){case 3:Xn(oe),we();break;case 26:case 27:case 5:mn(e);break;case 4:we();break;case 13:Zn(e);break;case 19:tt(ce);break;case 10:Xn(e.type);break;case 22:case 23:Zn(e),jc(),t!==null&&tt(ei);break;case 24:Xn(oe)}}function er(t,e){try{var s=e.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var c=r.next;s=c;do{if((s.tag&t)===t){r=void 0;var h=s.create,_=s.inst;r=h(),_.destroy=r}s=s.next}while(s!==c)}}catch(T){Bt(e,e.return,T)}}function vs(t,e,s){try{var r=e.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var h=c.next;r=h;do{if((r.tag&t)===t){var _=r.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,c=e;var O=s,H=T;try{H()}catch(P){Bt(c,O,P)}}}r=r.next}while(r!==h)}}catch(P){Bt(e,e.return,P)}}function Op(t){var e=t.updateQueue;if(e!==null){var s=t.stateNode;try{gd(e,s)}catch(r){Bt(t,t.return,r)}}}function Mp(t,e,s){s.props=si(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(r){Bt(t,e,r)}}function nr(t,e){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof s=="function"?t.refCleanup=s(r):s.current=r}}catch(c){Bt(t,e,c)}}function On(t,e){var s=t.ref,r=t.refCleanup;if(s!==null)if(typeof r=="function")try{r()}catch(c){Bt(t,e,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Bt(t,e,c)}else s.current=null}function Dp(t){var e=t.type,s=t.memoizedProps,r=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break t;case"img":s.src?r.src=s.src:s.srcSet&&(r.srcset=s.srcSet)}}catch(c){Bt(t,t.return,c)}}function ou(t,e,s){try{var r=t.stateNode;Cv(r,t.type,s,e),r[je]=e}catch(c){Bt(t,t.return,c)}}function Rp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Cs(t.type)||t.tag===4}function cu(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Rp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Cs(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function uu(t,e,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,e):(e=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,e.appendChild(t),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=Hl));else if(r!==4&&(r===27&&Cs(t.type)&&(s=t.stateNode,e=null),t=t.child,t!==null))for(uu(t,e,s),t=t.sibling;t!==null;)uu(t,e,s),t=t.sibling}function Ml(t,e,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?s.insertBefore(t,e):s.appendChild(t);else if(r!==4&&(r===27&&Cs(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Ml(t,e,s),t=t.sibling;t!==null;)Ml(t,e,s),t=t.sibling}function kp(t){var e=t.stateNode,s=t.memoizedProps;try{for(var r=t.type,c=e.attributes;c.length;)e.removeAttributeNode(c[0]);Te(e,r,s),e[Ae]=t,e[je]=s}catch(h){Bt(t,t.return,h)}}var Wn=!1,ee=!1,hu=!1,jp=typeof WeakSet=="function"?WeakSet:Set,pe=null;function rv(t,e){if(t=t.containerInfo,zu=Fl,t=If(t),cc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var c=r.anchorOffset,h=r.focusNode;r=r.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break t}var _=0,T=-1,O=-1,H=0,P=0,J=t,G=null;e:for(;;){for(var X;J!==s||c!==0&&J.nodeType!==3||(T=_+c),J!==h||r!==0&&J.nodeType!==3||(O=_+r),J.nodeType===3&&(_+=J.nodeValue.length),(X=J.firstChild)!==null;)G=J,J=X;for(;;){if(J===t)break e;if(G===s&&++H===c&&(T=_),G===h&&++P===r&&(O=_),(X=J.nextSibling)!==null)break;J=G,G=J.parentNode}J=X}s=T===-1||O===-1?null:{start:T,end:O}}else s=null}s=s||{start:0,end:0}}else s=null;for(Vu={focusedElem:t,selectionRange:s},Fl=!1,pe=e;pe!==null;)if(e=pe,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,pe=t;else for(;pe!==null;){switch(e=pe,h=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,s=e,c=h.memoizedProps,h=h.memoizedState,r=s.stateNode;try{var gt=si(s.type,c,s.elementType===s.type);t=r.getSnapshotBeforeUpdate(gt,h),r.__reactInternalSnapshotBeforeUpdate=t}catch(dt){Bt(s,s.return,dt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,s=t.nodeType,s===9)Bu(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Bu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=e.sibling,t!==null){t.return=e.return,pe=t;break}pe=e.return}}function zp(t,e,s){var r=s.flags;switch(s.tag){case 0:case 11:case 15:ys(t,s),r&4&&er(5,s);break;case 1:if(ys(t,s),r&4)if(t=s.stateNode,e===null)try{t.componentDidMount()}catch(_){Bt(s,s.return,_)}else{var c=si(s.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(c,e,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Bt(s,s.return,_)}}r&64&&Op(s),r&512&&nr(s,s.return);break;case 3:if(ys(t,s),r&64&&(t=s.updateQueue,t!==null)){if(e=null,s.child!==null)switch(s.child.tag){case 27:case 5:e=s.child.stateNode;break;case 1:e=s.child.stateNode}try{gd(t,e)}catch(_){Bt(s,s.return,_)}}break;case 27:e===null&&r&4&&kp(s);case 26:case 5:ys(t,s),e===null&&r&4&&Dp(s),r&512&&nr(s,s.return);break;case 12:ys(t,s);break;case 13:ys(t,s),r&4&&Up(t,s),r&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=mv.bind(null,s),kv(t,s))));break;case 22:if(r=s.memoizedState!==null||Wn,!r){e=e!==null&&e.memoizedState!==null||ee,c=Wn;var h=ee;Wn=r,(ee=e)&&!h?bs(t,s,(s.subtreeFlags&8772)!==0):ys(t,s),Wn=c,ee=h}break;case 30:break;default:ys(t,s)}}function Vp(t){var e=t.alternate;e!==null&&(t.alternate=null,Vp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Xo(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Zt=null,qe=!1;function Pn(t,e,s){for(s=s.child;s!==null;)qp(t,e,s),s=s.sibling}function qp(t,e,s){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(Ys,s)}catch{}switch(s.tag){case 26:ee||On(s,e),Pn(t,e,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ee||On(s,e);var r=Zt,c=qe;Cs(s.type)&&(Zt=s.stateNode,qe=!1),Pn(t,e,s),hr(s.stateNode),Zt=r,qe=c;break;case 5:ee||On(s,e);case 6:if(r=Zt,c=qe,Zt=null,Pn(t,e,s),Zt=r,qe=c,Zt!==null)if(qe)try{(Zt.nodeType===9?Zt.body:Zt.nodeName==="HTML"?Zt.ownerDocument.body:Zt).removeChild(s.stateNode)}catch(h){Bt(s,e,h)}else try{Zt.removeChild(s.stateNode)}catch(h){Bt(s,e,h)}break;case 18:Zt!==null&&(qe?(t=Zt,Am(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),yr(t)):Am(Zt,s.stateNode));break;case 4:r=Zt,c=qe,Zt=s.stateNode.containerInfo,qe=!0,Pn(t,e,s),Zt=r,qe=c;break;case 0:case 11:case 14:case 15:ee||vs(2,s,e),ee||vs(4,s,e),Pn(t,e,s);break;case 1:ee||(On(s,e),r=s.stateNode,typeof r.componentWillUnmount=="function"&&Mp(s,e,r)),Pn(t,e,s);break;case 21:Pn(t,e,s);break;case 22:ee=(r=ee)||s.memoizedState!==null,Pn(t,e,s),ee=r;break;default:Pn(t,e,s)}}function Up(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{yr(t)}catch(s){Bt(e,e.return,s)}}function lv(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new jp),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new jp),e;default:throw Error(a(435,t.tag))}}function fu(t,e){var s=lv(t);e.forEach(function(r){var c=gv.bind(null,t,r);s.has(r)||(s.add(r),r.then(c,c))})}function Xe(t,e){var s=e.deletions;if(s!==null)for(var r=0;r<s.length;r++){var c=s[r],h=t,_=e,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(Cs(T.type)){Zt=T.stateNode,qe=!1;break t}break;case 5:Zt=T.stateNode,qe=!1;break t;case 3:case 4:Zt=T.stateNode.containerInfo,qe=!0;break t}T=T.return}if(Zt===null)throw Error(a(160));qp(h,_,c),Zt=null,qe=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)Bp(e,t),e=e.sibling}var _n=null;function Bp(t,e){var s=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Xe(e,t),Ie(t),r&4&&(vs(3,t,t.return),er(3,t),vs(5,t,t.return));break;case 1:Xe(e,t),Ie(t),r&512&&(ee||s===null||On(s,s.return)),r&64&&Wn&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?r:s.concat(r))));break;case 26:var c=_n;if(Xe(e,t),Ie(t),r&512&&(ee||s===null||On(s,s.return)),r&4){var h=s!==null?s.memoizedState:null;if(r=t.memoizedState,s===null)if(r===null)if(t.stateNode===null){t:{r=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(r){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Ca]||h[Ae]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(r),c.head.insertBefore(h,c.querySelector("head > title"))),Te(h,r,s),h[Ae]=t,fe(h),r=h;break t;case"link":var _=km("link","href",c).get(r+(s.href||""));if(_){for(var T=0;T<_.length;T++)if(h=_[T],h.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&h.getAttribute("rel")===(s.rel==null?null:s.rel)&&h.getAttribute("title")===(s.title==null?null:s.title)&&h.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(T,1);break e}}h=c.createElement(r),Te(h,r,s),c.head.appendChild(h);break;case"meta":if(_=km("meta","content",c).get(r+(s.content||""))){for(T=0;T<_.length;T++)if(h=_[T],h.getAttribute("content")===(s.content==null?null:""+s.content)&&h.getAttribute("name")===(s.name==null?null:s.name)&&h.getAttribute("property")===(s.property==null?null:s.property)&&h.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&h.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(T,1);break e}}h=c.createElement(r),Te(h,r,s),c.head.appendChild(h);break;default:throw Error(a(468,r))}h[Ae]=t,fe(h),r=h}t.stateNode=r}else jm(c,t.type,t.stateNode);else t.stateNode=Rm(c,r,t.memoizedProps);else h!==r?(h===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):h.count--,r===null?jm(c,t.type,t.stateNode):Rm(c,r,t.memoizedProps)):r===null&&t.stateNode!==null&&ou(t,t.memoizedProps,s.memoizedProps)}break;case 27:Xe(e,t),Ie(t),r&512&&(ee||s===null||On(s,s.return)),s!==null&&r&4&&ou(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Xe(e,t),Ie(t),r&512&&(ee||s===null||On(s,s.return)),t.flags&32){c=t.stateNode;try{Ti(c,"")}catch(X){Bt(t,t.return,X)}}r&4&&t.stateNode!=null&&(c=t.memoizedProps,ou(t,c,s!==null?s.memoizedProps:c)),r&1024&&(hu=!0);break;case 6:if(Xe(e,t),Ie(t),r&4){if(t.stateNode===null)throw Error(a(162));r=t.memoizedProps,s=t.stateNode;try{s.nodeValue=r}catch(X){Bt(t,t.return,X)}}break;case 3:if(Il=null,c=_n,_n=Gl(e.containerInfo),Xe(e,t),_n=c,Ie(t),r&4&&s!==null&&s.memoizedState.isDehydrated)try{yr(e.containerInfo)}catch(X){Bt(t,t.return,X)}hu&&(hu=!1,Lp(t));break;case 4:r=_n,_n=Gl(t.stateNode.containerInfo),Xe(e,t),Ie(t),_n=r;break;case 12:Xe(e,t),Ie(t);break;case 13:Xe(e,t),Ie(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(vu=Mt()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,fu(t,r)));break;case 22:c=t.memoizedState!==null;var O=s!==null&&s.memoizedState!==null,H=Wn,P=ee;if(Wn=H||c,ee=P||O,Xe(e,t),ee=P,Wn=H,Ie(t),r&8192)t:for(e=t.stateNode,e._visibility=c?e._visibility&-2:e._visibility|1,c&&(s===null||O||Wn||ee||ii(t)),s=null,e=t;;){if(e.tag===5||e.tag===26){if(s===null){O=s=e;try{if(h=O.stateNode,c)_=h.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=O.stateNode;var J=O.memoizedProps.style,G=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(X){Bt(O,O.return,X)}}}else if(e.tag===6){if(s===null){O=e;try{O.stateNode.nodeValue=c?"":O.memoizedProps}catch(X){Bt(O,O.return,X)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;s===e&&(s=null),e=e.return}s===e&&(s=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(s=r.retryQueue,s!==null&&(r.retryQueue=null,fu(t,s))));break;case 19:Xe(e,t),Ie(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,fu(t,r)));break;case 30:break;case 21:break;default:Xe(e,t),Ie(t)}}function Ie(t){var e=t.flags;if(e&2){try{for(var s,r=t.return;r!==null;){if(Rp(r)){s=r;break}r=r.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var c=s.stateNode,h=cu(t);Ml(t,h,c);break;case 5:var _=s.stateNode;s.flags&32&&(Ti(_,""),s.flags&=-33);var T=cu(t);Ml(t,T,_);break;case 3:case 4:var O=s.stateNode.containerInfo,H=cu(t);uu(t,H,O);break;default:throw Error(a(161))}}catch(P){Bt(t,t.return,P)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Lp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Lp(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ys(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)zp(t,e.alternate,e),e=e.sibling}function ii(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:vs(4,e,e.return),ii(e);break;case 1:On(e,e.return);var s=e.stateNode;typeof s.componentWillUnmount=="function"&&Mp(e,e.return,s),ii(e);break;case 27:hr(e.stateNode);case 26:case 5:On(e,e.return),ii(e);break;case 22:e.memoizedState===null&&ii(e);break;case 30:ii(e);break;default:ii(e)}t=t.sibling}}function bs(t,e,s){for(s=s&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,c=t,h=e,_=h.flags;switch(h.tag){case 0:case 11:case 15:bs(c,h,s),er(4,h);break;case 1:if(bs(c,h,s),r=h,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(H){Bt(r,r.return,H)}if(r=h,c=r.updateQueue,c!==null){var T=r.stateNode;try{var O=c.shared.hiddenCallbacks;if(O!==null)for(c.shared.hiddenCallbacks=null,c=0;c<O.length;c++)md(O[c],T)}catch(H){Bt(r,r.return,H)}}s&&_&64&&Op(h),nr(h,h.return);break;case 27:kp(h);case 26:case 5:bs(c,h,s),s&&r===null&&_&4&&Dp(h),nr(h,h.return);break;case 12:bs(c,h,s);break;case 13:bs(c,h,s),s&&_&4&&Up(c,h);break;case 22:h.memoizedState===null&&bs(c,h,s),nr(h,h.return);break;case 30:break;default:bs(c,h,s)}e=e.sibling}}function du(t,e){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Ha(s))}function pu(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ha(t))}function Mn(t,e,s,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hp(t,e,s,r),e=e.sibling}function Hp(t,e,s,r){var c=e.flags;switch(e.tag){case 0:case 11:case 15:Mn(t,e,s,r),c&2048&&er(9,e);break;case 1:Mn(t,e,s,r);break;case 3:Mn(t,e,s,r),c&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ha(t)));break;case 12:if(c&2048){Mn(t,e,s,r),t=e.stateNode;try{var h=e.memoizedProps,_=h.id,T=h.onPostCommit;typeof T=="function"&&T(_,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){Bt(e,e.return,O)}}else Mn(t,e,s,r);break;case 13:Mn(t,e,s,r);break;case 23:break;case 22:h=e.stateNode,_=e.alternate,e.memoizedState!==null?h._visibility&2?Mn(t,e,s,r):sr(t,e):h._visibility&2?Mn(t,e,s,r):(h._visibility|=2,Hi(t,e,s,r,(e.subtreeFlags&10256)!==0)),c&2048&&du(_,e);break;case 24:Mn(t,e,s,r),c&2048&&pu(e.alternate,e);break;default:Mn(t,e,s,r)}}function Hi(t,e,s,r,c){for(c=c&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var h=t,_=e,T=s,O=r,H=_.flags;switch(_.tag){case 0:case 11:case 15:Hi(h,_,T,O,c),er(8,_);break;case 23:break;case 22:var P=_.stateNode;_.memoizedState!==null?P._visibility&2?Hi(h,_,T,O,c):sr(h,_):(P._visibility|=2,Hi(h,_,T,O,c)),c&&H&2048&&du(_.alternate,_);break;case 24:Hi(h,_,T,O,c),c&&H&2048&&pu(_.alternate,_);break;default:Hi(h,_,T,O,c)}e=e.sibling}}function sr(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var s=t,r=e,c=r.flags;switch(r.tag){case 22:sr(s,r),c&2048&&du(r.alternate,r);break;case 24:sr(s,r),c&2048&&pu(r.alternate,r);break;default:sr(s,r)}e=e.sibling}}var ir=8192;function Yi(t){if(t.subtreeFlags&ir)for(t=t.child;t!==null;)Yp(t),t=t.sibling}function Yp(t){switch(t.tag){case 26:Yi(t),t.flags&ir&&t.memoizedState!==null&&Zv(_n,t.memoizedState,t.memoizedProps);break;case 5:Yi(t);break;case 3:case 4:var e=_n;_n=Gl(t.stateNode.containerInfo),Yi(t),_n=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=ir,ir=16777216,Yi(t),ir=e):Yi(t));break;default:Yi(t)}}function Gp(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function ar(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var s=0;s<e.length;s++){var r=e[s];pe=r,Ip(r,t)}Gp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xp(t),t=t.sibling}function Xp(t){switch(t.tag){case 0:case 11:case 15:ar(t),t.flags&2048&&vs(9,t,t.return);break;case 3:ar(t);break;case 12:ar(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Dl(t)):ar(t);break;default:ar(t)}}function Dl(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var s=0;s<e.length;s++){var r=e[s];pe=r,Ip(r,t)}Gp(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:vs(8,e,e.return),Dl(e);break;case 22:s=e.stateNode,s._visibility&2&&(s._visibility&=-3,Dl(e));break;default:Dl(e)}t=t.sibling}}function Ip(t,e){for(;pe!==null;){var s=pe;switch(s.tag){case 0:case 11:case 15:vs(8,s,e);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var r=s.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Ha(s.memoizedState.cache)}if(r=s.child,r!==null)r.return=s,pe=r;else t:for(s=t;pe!==null;){r=pe;var c=r.sibling,h=r.return;if(Vp(r),r===s){pe=null;break t}if(c!==null){c.return=h,pe=c;break t}pe=h}}}var ov={getCacheForType:function(t){var e=Ce(oe),s=e.data.get(t);return s===void 0&&(s=t(),e.data.set(t,s)),s}},cv=typeof WeakMap=="function"?WeakMap:Map,kt=0,Lt=null,xt=null,Nt=0,jt=0,Ze=null,Ss=!1,Gi=!1,mu=!1,Kn=0,Kt=0,Ts=0,ai=0,gu=0,on=0,Xi=0,rr=null,Ue=null,_u=!1,vu=0,Rl=1/0,kl=null,xs=null,Se=0,ws=null,Ii=null,Zi=0,yu=0,bu=null,Zp=null,lr=0,Su=null;function Qe(){if((kt&2)!==0&&Nt!==0)return Nt&-Nt;if(k.T!==null){var t=ki;return t!==0?t:Eu()}return of()}function Qp(){on===0&&(on=(Nt&536870912)===0||Ot?sf():536870912);var t=ln.current;return t!==null&&(t.flags|=32),on}function Fe(t,e,s){(t===Lt&&(jt===2||jt===9)||t.cancelPendingCommit!==null)&&(Qi(t,0),As(t,Nt,on,!1)),Aa(t,s),((kt&2)===0||t!==Lt)&&(t===Lt&&((kt&2)===0&&(ai|=s),Kt===4&&As(t,Nt,on,!1)),Dn(t))}function Fp(t,e,s){if((kt&6)!==0)throw Error(a(327));var r=!s&&(e&124)===0&&(e&t.expiredLanes)===0||wa(t,e),c=r?fv(t,e):wu(t,e,!0),h=r;do{if(c===0){Gi&&!r&&As(t,e,0,!1);break}else{if(s=t.current.alternate,h&&!uv(s)){c=wu(t,e,!1),h=!1;continue}if(c===2){if(h=e,t.errorRecoveryDisabledLanes&h)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){e=_;t:{var T=t;c=rr;var O=T.current.memoizedState.isDehydrated;if(O&&(Qi(T,_).flags|=256),_=wu(T,_,!1),_!==2){if(mu&&!O){T.errorRecoveryDisabledLanes|=h,ai|=h,c=4;break t}h=Ue,Ue=c,h!==null&&(Ue===null?Ue=h:Ue.push.apply(Ue,h))}c=_}if(h=!1,c!==2)continue}}if(c===1){Qi(t,0),As(t,e,0,!0);break}t:{switch(r=t,h=c,h){case 0:case 1:throw Error(a(345));case 4:if((e&4194048)!==e)break;case 6:As(r,e,on,!Ss);break t;case 2:Ue=null;break;case 3:case 5:break;default:throw Error(a(329))}if((e&62914560)===e&&(c=vu+300-Mt(),10<c)){if(As(r,e,on,!Ss),Xr(r,0,!0)!==0)break t;r.timeoutHandle=xm(Wp.bind(null,r,s,Ue,kl,_u,e,on,ai,Xi,Ss,h,2,-0,0),c);break t}Wp(r,s,Ue,kl,_u,e,on,ai,Xi,Ss,h,0,-0,0)}}break}while(!0);Dn(t)}function Wp(t,e,s,r,c,h,_,T,O,H,P,J,G,X){if(t.timeoutHandle=-1,J=e.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(pr={stylesheets:null,count:0,unsuspend:Iv},Yp(e),J=Qv(),J!==null)){t.cancelPendingCommit=J(nm.bind(null,t,e,h,s,r,c,_,T,O,P,1,G,X)),As(t,h,_,!H);return}nm(t,e,h,s,r,c,_,T,O)}function uv(t){for(var e=t;;){var s=e.tag;if((s===0||s===11||s===15)&&e.flags&16384&&(s=e.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var r=0;r<s.length;r++){var c=s[r],h=c.getSnapshot;c=c.value;try{if(!Ye(h(),c))return!1}catch{return!1}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function As(t,e,s,r){e&=~gu,e&=~ai,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var c=e;0<c;){var h=31-He(c),_=1<<h;r[h]=-1,c&=~_}s!==0&&rf(t,s,e)}function jl(){return(kt&6)===0?(or(0),!1):!0}function Tu(){if(xt!==null){if(jt===0)var t=xt.return;else t=xt,Gn=$s=null,Bc(t),Bi=null,Ja=0,t=xt;for(;t!==null;)Ep(t.alternate,t),t=t.return;xt=null}}function Qi(t,e){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Ev(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Tu(),Lt=t,xt=s=Ln(t.current,null),Nt=e,jt=0,Ze=null,Ss=!1,Gi=wa(t,e),mu=!1,Xi=on=gu=ai=Ts=Kt=0,Ue=rr=null,_u=!1,(e&8)!==0&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var c=31-He(r),h=1<<c;e|=t[c],r&=~h}return Kn=e,nl(),s}function Pp(t,e){bt=null,k.H=Sl,e===Ga||e===hl?(e=dd(),jt=3):e===ud?(e=dd(),jt=4):jt=e===pp?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Ze=e,xt===null&&(Kt=1,Cl(t,nn(e,t.current)))}function Kp(){var t=k.H;return k.H=Sl,t===null?Sl:t}function Jp(){var t=k.A;return k.A=ov,t}function xu(){Kt=4,Ss||(Nt&4194048)!==Nt&&ln.current!==null||(Gi=!0),(Ts&134217727)===0&&(ai&134217727)===0||Lt===null||As(Lt,Nt,on,!1)}function wu(t,e,s){var r=kt;kt|=2;var c=Kp(),h=Jp();(Lt!==t||Nt!==e)&&(kl=null,Qi(t,e)),e=!1;var _=Kt;t:do try{if(jt!==0&&xt!==null){var T=xt,O=Ze;switch(jt){case 8:Tu(),_=6;break t;case 3:case 2:case 9:case 6:ln.current===null&&(e=!0);var H=jt;if(jt=0,Ze=null,Fi(t,T,O,H),s&&Gi){_=0;break t}break;default:H=jt,jt=0,Ze=null,Fi(t,T,O,H)}}hv(),_=Kt;break}catch(P){Pp(t,P)}while(!0);return e&&t.shellSuspendCounter++,Gn=$s=null,kt=r,k.H=c,k.A=h,xt===null&&(Lt=null,Nt=0,nl()),_}function hv(){for(;xt!==null;)$p(xt)}function fv(t,e){var s=kt;kt|=2;var r=Kp(),c=Jp();Lt!==t||Nt!==e?(kl=null,Rl=Mt()+500,Qi(t,e)):Gi=wa(t,e);t:do try{if(jt!==0&&xt!==null){e=xt;var h=Ze;e:switch(jt){case 1:jt=0,Ze=null,Fi(t,e,h,1);break;case 2:case 9:if(hd(h)){jt=0,Ze=null,tm(e);break}e=function(){jt!==2&&jt!==9||Lt!==t||(jt=7),Dn(t)},h.then(e,e);break t;case 3:jt=7;break t;case 4:jt=5;break t;case 7:hd(h)?(jt=0,Ze=null,tm(e)):(jt=0,Ze=null,Fi(t,e,h,7));break;case 5:var _=null;switch(xt.tag){case 26:_=xt.memoizedState;case 5:case 27:var T=xt;if(!_||zm(_)){jt=0,Ze=null;var O=T.sibling;if(O!==null)xt=O;else{var H=T.return;H!==null?(xt=H,zl(H)):xt=null}break e}}jt=0,Ze=null,Fi(t,e,h,5);break;case 6:jt=0,Ze=null,Fi(t,e,h,6);break;case 8:Tu(),Kt=6;break t;default:throw Error(a(462))}}dv();break}catch(P){Pp(t,P)}while(!0);return Gn=$s=null,k.H=r,k.A=c,kt=s,xt!==null?0:(Lt=null,Nt=0,nl(),Kt)}function dv(){for(;xt!==null&&!ct();)$p(xt)}function $p(t){var e=Cp(t.alternate,t,Kn);t.memoizedProps=t.pendingProps,e===null?zl(t):xt=e}function tm(t){var e=t,s=e.alternate;switch(e.tag){case 15:case 0:e=bp(s,e,e.pendingProps,e.type,void 0,Nt);break;case 11:e=bp(s,e,e.pendingProps,e.type.render,e.ref,Nt);break;case 5:Bc(e);default:Ep(s,e),e=xt=ed(e,Kn),e=Cp(s,e,Kn)}t.memoizedProps=t.pendingProps,e===null?zl(t):xt=e}function Fi(t,e,s,r){Gn=$s=null,Bc(e),Bi=null,Ja=0;var c=e.return;try{if(nv(t,c,e,s,Nt)){Kt=1,Cl(t,nn(s,t.current)),xt=null;return}}catch(h){if(c!==null)throw xt=c,h;Kt=1,Cl(t,nn(s,t.current)),xt=null;return}e.flags&32768?(Ot||r===1?t=!0:Gi||(Nt&536870912)!==0?t=!1:(Ss=t=!0,(r===2||r===9||r===3||r===6)&&(r=ln.current,r!==null&&r.tag===13&&(r.flags|=16384))),em(e,t)):zl(e)}function zl(t){var e=t;do{if((e.flags&32768)!==0){em(e,Ss);return}t=e.return;var s=iv(e.alternate,e,Kn);if(s!==null){xt=s;return}if(e=e.sibling,e!==null){xt=e;return}xt=e=t}while(e!==null);Kt===0&&(Kt=5)}function em(t,e){do{var s=av(t.alternate,t);if(s!==null){s.flags&=32767,xt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!e&&(t=t.sibling,t!==null)){xt=t;return}xt=t=s}while(t!==null);Kt=6,xt=null}function nm(t,e,s,r,c,h,_,T,O){t.cancelPendingCommit=null;do Vl();while(Se!==0);if((kt&6)!==0)throw Error(a(327));if(e!==null){if(e===t.current)throw Error(a(177));if(h=e.lanes|e.childLanes,h|=pc,I_(t,s,h,_,T,O),t===Lt&&(xt=Lt=null,Nt=0),Ii=e,ws=t,Zi=s,yu=h,bu=c,Zp=r,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,_v(ye,function(){return lm(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||r){r=k.T,k.T=null,c=Y.p,Y.p=2,_=kt,kt|=4;try{rv(t,e,s)}finally{kt=_,Y.p=c,k.T=r}}Se=1,sm(),im(),am()}}function sm(){if(Se===1){Se=0;var t=ws,e=Ii,s=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||s){s=k.T,k.T=null;var r=Y.p;Y.p=2;var c=kt;kt|=4;try{Bp(e,t);var h=Vu,_=If(t.containerInfo),T=h.focusedElem,O=h.selectionRange;if(_!==T&&T&&T.ownerDocument&&Xf(T.ownerDocument.documentElement,T)){if(O!==null&&cc(T)){var H=O.start,P=O.end;if(P===void 0&&(P=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(P,T.value.length);else{var J=T.ownerDocument||document,G=J&&J.defaultView||window;if(G.getSelection){var X=G.getSelection(),gt=T.textContent.length,dt=Math.min(O.start,gt),qt=O.end===void 0?dt:Math.min(O.end,gt);!X.extend&&dt>qt&&(_=qt,qt=dt,dt=_);var q=Gf(T,dt),z=Gf(T,qt);if(q&&z&&(X.rangeCount!==1||X.anchorNode!==q.node||X.anchorOffset!==q.offset||X.focusNode!==z.node||X.focusOffset!==z.offset)){var B=J.createRange();B.setStart(q.node,q.offset),X.removeAllRanges(),dt>qt?(X.addRange(B),X.extend(z.node,z.offset)):(B.setEnd(z.node,z.offset),X.addRange(B))}}}}for(J=[],X=T;X=X.parentNode;)X.nodeType===1&&J.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var K=J[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Fl=!!zu,Vu=zu=null}finally{kt=c,Y.p=r,k.T=s}}t.current=e,Se=2}}function im(){if(Se===2){Se=0;var t=ws,e=Ii,s=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||s){s=k.T,k.T=null;var r=Y.p;Y.p=2;var c=kt;kt|=4;try{zp(t,e.alternate,e)}finally{kt=c,Y.p=r,k.T=s}}Se=3}}function am(){if(Se===4||Se===3){Se=0,mt();var t=ws,e=Ii,s=Zi,r=Zp;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Se=5:(Se=0,Ii=ws=null,rm(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(xs=null),Yo(s),e=e.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(Ys,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=k.T,c=Y.p,Y.p=2,k.T=null;try{for(var h=t.onRecoverableError,_=0;_<r.length;_++){var T=r[_];h(T.value,{componentStack:T.stack})}}finally{k.T=e,Y.p=c}}(Zi&3)!==0&&Vl(),Dn(t),c=t.pendingLanes,(s&4194090)!==0&&(c&42)!==0?t===Su?lr++:(lr=0,Su=t):lr=0,or(0)}}function rm(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Ha(e)))}function Vl(t){return sm(),im(),am(),lm()}function lm(){if(Se!==5)return!1;var t=ws,e=yu;yu=0;var s=Yo(Zi),r=k.T,c=Y.p;try{Y.p=32>s?32:s,k.T=null,s=bu,bu=null;var h=ws,_=Zi;if(Se=0,Ii=ws=null,Zi=0,(kt&6)!==0)throw Error(a(331));var T=kt;if(kt|=4,Xp(h.current),Hp(h,h.current,_,s),kt=T,or(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(Ys,h)}catch{}return!0}finally{Y.p=c,k.T=r,rm(t,e)}}function om(t,e,s){e=nn(s,e),e=$c(t.stateNode,e,2),t=ps(t,e,2),t!==null&&(Aa(t,2),Dn(t))}function Bt(t,e,s){if(t.tag===3)om(t,t,s);else for(;e!==null;){if(e.tag===3){om(e,t,s);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xs===null||!xs.has(r))){t=nn(s,t),s=fp(2),r=ps(e,s,2),r!==null&&(dp(s,r,e,t),Aa(r,2),Dn(r));break}}e=e.return}}function Au(t,e,s){var r=t.pingCache;if(r===null){r=t.pingCache=new cv;var c=new Set;r.set(e,c)}else c=r.get(e),c===void 0&&(c=new Set,r.set(e,c));c.has(s)||(mu=!0,c.add(s),t=pv.bind(null,t,e,s),e.then(t,t))}function pv(t,e,s){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Lt===t&&(Nt&s)===s&&(Kt===4||Kt===3&&(Nt&62914560)===Nt&&300>Mt()-vu?(kt&2)===0&&Qi(t,0):gu|=s,Xi===Nt&&(Xi=0)),Dn(t)}function cm(t,e){e===0&&(e=af()),t=Oi(t,e),t!==null&&(Aa(t,e),Dn(t))}function mv(t){var e=t.memoizedState,s=0;e!==null&&(s=e.retryLane),cm(t,s)}function gv(t,e){var s=0;switch(t.tag){case 13:var r=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(a(314))}r!==null&&r.delete(e),cm(t,s)}function _v(t,e){return Sa(t,e)}var ql=null,Wi=null,Cu=!1,Ul=!1,Nu=!1,ri=0;function Dn(t){t!==Wi&&t.next===null&&(Wi===null?ql=Wi=t:Wi=Wi.next=t),Ul=!0,Cu||(Cu=!0,yv())}function or(t,e){if(!Nu&&Ul){Nu=!0;do for(var s=!1,r=ql;r!==null;){if(t!==0){var c=r.pendingLanes;if(c===0)var h=0;else{var _=r.suspendedLanes,T=r.pingedLanes;h=(1<<31-He(42|t)+1)-1,h&=c&~(_&~T),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(s=!0,dm(r,h))}else h=Nt,h=Xr(r,r===Lt?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(h&3)===0||wa(r,h)||(s=!0,dm(r,h));r=r.next}while(s);Nu=!1}}function vv(){um()}function um(){Ul=Cu=!1;var t=0;ri!==0&&(Nv()&&(t=ri),ri=0);for(var e=Mt(),s=null,r=ql;r!==null;){var c=r.next,h=hm(r,e);h===0?(r.next=null,s===null?ql=c:s.next=c,c===null&&(Wi=s)):(s=r,(t!==0||(h&3)!==0)&&(Ul=!0)),r=c}or(t)}function hm(t,e){for(var s=t.suspendedLanes,r=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var _=31-He(h),T=1<<_,O=c[_];O===-1?((T&s)===0||(T&r)!==0)&&(c[_]=X_(T,e)):O<=e&&(t.expiredLanes|=T),h&=~T}if(e=Lt,s=Nt,s=Xr(t,t===e?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,s===0||t===e&&(jt===2||jt===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Ta(r),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||wa(t,s)){if(e=s&-s,e===t.callbackPriority)return e;switch(r!==null&&Ta(r),Yo(s)){case 2:case 8:s=Gt;break;case 32:s=ye;break;case 268435456:s=ls;break;default:s=ye}return r=fm.bind(null,t),s=Sa(s,r),t.callbackPriority=e,t.callbackNode=s,e}return r!==null&&r!==null&&Ta(r),t.callbackPriority=2,t.callbackNode=null,2}function fm(t,e){if(Se!==0&&Se!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Vl()&&t.callbackNode!==s)return null;var r=Nt;return r=Xr(t,t===Lt?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(Fp(t,r,e),hm(t,Mt()),t.callbackNode!=null&&t.callbackNode===s?fm.bind(null,t):null)}function dm(t,e){if(Vl())return null;Fp(t,e,!0)}function yv(){Ov(function(){(kt&6)!==0?Sa(Ct,vv):um()})}function Eu(){return ri===0&&(ri=sf()),ri}function pm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Wr(""+t)}function mm(t,e){var s=e.ownerDocument.createElement("input");return s.name=e.name,s.value=e.value,t.id&&s.setAttribute("form",t.id),e.parentNode.insertBefore(s,e),t=new FormData(t),s.parentNode.removeChild(s),t}function bv(t,e,s,r,c){if(e==="submit"&&s&&s.stateNode===c){var h=pm((c[je]||null).action),_=r.submitter;_&&(e=(e=_[je]||null)?pm(e.formAction):_.getAttribute("formAction"),e!==null&&(h=e,_=null));var T=new $r("action","action",null,r,c);t.push({event:T,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ri!==0){var O=_?mm(c,_):new FormData(c);Fc(s,{pending:!0,data:O,method:c.method,action:h},null,O)}}else typeof h=="function"&&(T.preventDefault(),O=_?mm(c,_):new FormData(c),Fc(s,{pending:!0,data:O,method:c.method,action:h},h,O))},currentTarget:c}]})}}for(var Ou=0;Ou<dc.length;Ou++){var Mu=dc[Ou],Sv=Mu.toLowerCase(),Tv=Mu[0].toUpperCase()+Mu.slice(1);gn(Sv,"on"+Tv)}gn(Ff,"onAnimationEnd"),gn(Wf,"onAnimationIteration"),gn(Pf,"onAnimationStart"),gn("dblclick","onDoubleClick"),gn("focusin","onFocus"),gn("focusout","onBlur"),gn(B0,"onTransitionRun"),gn(L0,"onTransitionStart"),gn(H0,"onTransitionCancel"),gn(Kf,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),Xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cr));function gm(t,e){e=(e&4)!==0;for(var s=0;s<t.length;s++){var r=t[s],c=r.event;r=r.listeners;t:{var h=void 0;if(e)for(var _=r.length-1;0<=_;_--){var T=r[_],O=T.instance,H=T.currentTarget;if(T=T.listener,O!==h&&c.isPropagationStopped())break t;h=T,c.currentTarget=H;try{h(c)}catch(P){Al(P)}c.currentTarget=null,h=O}else for(_=0;_<r.length;_++){if(T=r[_],O=T.instance,H=T.currentTarget,T=T.listener,O!==h&&c.isPropagationStopped())break t;h=T,c.currentTarget=H;try{h(c)}catch(P){Al(P)}c.currentTarget=null,h=O}}}}function wt(t,e){var s=e[Go];s===void 0&&(s=e[Go]=new Set);var r=t+"__bubble";s.has(r)||(_m(e,t,2,!1),s.add(r))}function Du(t,e,s){var r=0;e&&(r|=4),_m(s,t,r,e)}var Bl="_reactListening"+Math.random().toString(36).slice(2);function Ru(t){if(!t[Bl]){t[Bl]=!0,uf.forEach(function(s){s!=="selectionchange"&&(xv.has(s)||Du(s,!1,t),Du(s,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Bl]||(e[Bl]=!0,Du("selectionchange",!1,e))}}function _m(t,e,s,r){switch(Hm(e)){case 2:var c=Pv;break;case 8:c=Kv;break;default:c=Zu}s=c.bind(null,e,s,t),c=void 0,!tc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(c=!0),r?c!==void 0?t.addEventListener(e,s,{capture:!0,passive:c}):t.addEventListener(e,s,!0):c!==void 0?t.addEventListener(e,s,{passive:c}):t.addEventListener(e,s,!1)}function ku(t,e,s,r,c){var h=r;if((e&1)===0&&(e&2)===0&&r!==null)t:for(;;){if(r===null)return;var _=r.tag;if(_===3||_===4){var T=r.stateNode.containerInfo;if(T===c)break;if(_===4)for(_=r.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===c)return;_=_.return}for(;T!==null;){if(_=gi(T),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){r=h=_;continue t}T=T.parentNode}}r=r.return}wf(function(){var H=h,P=Jo(s),J=[];t:{var G=Jf.get(t);if(G!==void 0){var X=$r,gt=t;switch(t){case"keypress":if(Kr(s)===0)break t;case"keydown":case"keyup":X=_0;break;case"focusin":gt="focus",X=ic;break;case"focusout":gt="blur",X=ic;break;case"beforeblur":case"afterblur":X=ic;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Nf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=a0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=b0;break;case Ff:case Wf:case Pf:X=o0;break;case Kf:X=T0;break;case"scroll":case"scrollend":X=s0;break;case"wheel":X=w0;break;case"copy":case"cut":case"paste":X=u0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Of;break;case"toggle":case"beforetoggle":X=C0}var dt=(e&4)!==0,qt=!dt&&(t==="scroll"||t==="scrollend"),q=dt?G!==null?G+"Capture":null:G;dt=[];for(var z=H,B;z!==null;){var K=z;if(B=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||B===null||q===null||(K=Ea(z,q),K!=null&&dt.push(ur(z,K,B))),qt)break;z=z.return}0<dt.length&&(G=new X(G,gt,null,s,P),J.push({event:G,listeners:dt}))}}if((e&7)===0){t:{if(G=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",G&&s!==Ko&&(gt=s.relatedTarget||s.fromElement)&&(gi(gt)||gt[mi]))break t;if((X||G)&&(G=P.window===P?P:(G=P.ownerDocument)?G.defaultView||G.parentWindow:window,X?(gt=s.relatedTarget||s.toElement,X=H,gt=gt?gi(gt):null,gt!==null&&(qt=u(gt),dt=gt.tag,gt!==qt||dt!==5&&dt!==27&&dt!==6)&&(gt=null)):(X=null,gt=H),X!==gt)){if(dt=Nf,K="onMouseLeave",q="onMouseEnter",z="mouse",(t==="pointerout"||t==="pointerover")&&(dt=Of,K="onPointerLeave",q="onPointerEnter",z="pointer"),qt=X==null?G:Na(X),B=gt==null?G:Na(gt),G=new dt(K,z+"leave",X,s,P),G.target=qt,G.relatedTarget=B,K=null,gi(P)===H&&(dt=new dt(q,z+"enter",gt,s,P),dt.target=B,dt.relatedTarget=qt,K=dt),qt=K,X&&gt)e:{for(dt=X,q=gt,z=0,B=dt;B;B=Pi(B))z++;for(B=0,K=q;K;K=Pi(K))B++;for(;0<z-B;)dt=Pi(dt),z--;for(;0<B-z;)q=Pi(q),B--;for(;z--;){if(dt===q||q!==null&&dt===q.alternate)break e;dt=Pi(dt),q=Pi(q)}dt=null}else dt=null;X!==null&&vm(J,G,X,dt,!1),gt!==null&&qt!==null&&vm(J,qt,gt,dt,!0)}}t:{if(G=H?Na(H):window,X=G.nodeName&&G.nodeName.toLowerCase(),X==="select"||X==="input"&&G.type==="file")var ht=qf;else if(zf(G))if(Uf)ht=V0;else{ht=j0;var Tt=k0}else X=G.nodeName,!X||X.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&Po(H.elementType)&&(ht=qf):ht=z0;if(ht&&(ht=ht(t,H))){Vf(J,ht,s,P);break t}Tt&&Tt(t,G,H),t==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&Wo(G,"number",G.value)}switch(Tt=H?Na(H):window,t){case"focusin":(zf(Tt)||Tt.contentEditable==="true")&&(Ci=Tt,uc=H,Va=null);break;case"focusout":Va=uc=Ci=null;break;case"mousedown":hc=!0;break;case"contextmenu":case"mouseup":case"dragend":hc=!1,Zf(J,s,P);break;case"selectionchange":if(U0)break;case"keydown":case"keyup":Zf(J,s,P)}var ft;if(rc)t:{switch(t){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Ai?kf(t,s)&&(pt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(pt="onCompositionStart");pt&&(Mf&&s.locale!=="ko"&&(Ai||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Ai&&(ft=Af()):(us=P,ec="value"in us?us.value:us.textContent,Ai=!0)),Tt=Ll(H,pt),0<Tt.length&&(pt=new Ef(pt,t,null,s,P),J.push({event:pt,listeners:Tt}),ft?pt.data=ft:(ft=jf(s),ft!==null&&(pt.data=ft)))),(ft=E0?O0(t,s):M0(t,s))&&(pt=Ll(H,"onBeforeInput"),0<pt.length&&(Tt=new Ef("onBeforeInput","beforeinput",null,s,P),J.push({event:Tt,listeners:pt}),Tt.data=ft)),bv(J,t,H,s,P)}gm(J,e)})}function ur(t,e,s){return{instance:t,listener:e,currentTarget:s}}function Ll(t,e){for(var s=e+"Capture",r=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Ea(t,s),c!=null&&r.unshift(ur(t,c,h)),c=Ea(t,e),c!=null&&r.push(ur(t,c,h))),t.tag===3)return r;t=t.return}return[]}function Pi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function vm(t,e,s,r,c){for(var h=e._reactName,_=[];s!==null&&s!==r;){var T=s,O=T.alternate,H=T.stateNode;if(T=T.tag,O!==null&&O===r)break;T!==5&&T!==26&&T!==27||H===null||(O=H,c?(H=Ea(s,h),H!=null&&_.unshift(ur(s,H,O))):c||(H=Ea(s,h),H!=null&&_.push(ur(s,H,O)))),s=s.return}_.length!==0&&t.push({event:e,listeners:_})}var wv=/\r\n?/g,Av=/\u0000|\uFFFD/g;function ym(t){return(typeof t=="string"?t:""+t).replace(wv,`
`).replace(Av,"")}function bm(t,e){return e=ym(e),ym(t)===e}function Hl(){}function Vt(t,e,s,r,c,h){switch(s){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Ti(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Ti(t,""+r);break;case"className":Zr(t,"class",r);break;case"tabIndex":Zr(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Zr(t,s,r);break;case"style":Tf(t,r,h);break;case"data":if(e!=="object"){Zr(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||s!=="href")){t.removeAttribute(s);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(s);break}r=Wr(""+r),t.setAttribute(s,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(s==="formAction"?(e!=="input"&&Vt(t,e,"name",c.name,c,null),Vt(t,e,"formEncType",c.formEncType,c,null),Vt(t,e,"formMethod",c.formMethod,c,null),Vt(t,e,"formTarget",c.formTarget,c,null)):(Vt(t,e,"encType",c.encType,c,null),Vt(t,e,"method",c.method,c,null),Vt(t,e,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(s);break}r=Wr(""+r),t.setAttribute(s,r);break;case"onClick":r!=null&&(t.onclick=Hl);break;case"onScroll":r!=null&&wt("scroll",t);break;case"onScrollEnd":r!=null&&wt("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(s=r.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}s=Wr(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(s,""+r):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":r===!0?t.setAttribute(s,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(s,r):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(s,r):t.removeAttribute(s);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(s):t.setAttribute(s,r);break;case"popover":wt("beforetoggle",t),wt("toggle",t),Ir(t,"popover",r);break;case"xlinkActuate":Un(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Un(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Un(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Un(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Un(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Un(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Un(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Un(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Un(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Ir(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=e0.get(s)||s,Ir(t,s,r))}}function ju(t,e,s,r,c,h){switch(s){case"style":Tf(t,r,h);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(s=r.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof r=="string"?Ti(t,r):(typeof r=="number"||typeof r=="bigint")&&Ti(t,""+r);break;case"onScroll":r!=null&&wt("scroll",t);break;case"onScrollEnd":r!=null&&wt("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Hl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hf.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),e=s.slice(2,c?s.length-7:void 0),h=t[je]||null,h=h!=null?h[s]:null,typeof h=="function"&&t.removeEventListener(e,h,c),typeof r=="function")){typeof h!="function"&&h!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(e,r,c);break t}s in t?t[s]=r:r===!0?t.setAttribute(s,""):Ir(t,s,r)}}}function Te(t,e,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",t),wt("load",t);var r=!1,c=!1,h;for(h in s)if(s.hasOwnProperty(h)){var _=s[h];if(_!=null)switch(h){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,e));default:Vt(t,e,h,_,s,null)}}c&&Vt(t,e,"srcSet",s.srcSet,s,null),r&&Vt(t,e,"src",s.src,s,null);return;case"input":wt("invalid",t);var T=h=_=c=null,O=null,H=null;for(r in s)if(s.hasOwnProperty(r)){var P=s[r];if(P!=null)switch(r){case"name":c=P;break;case"type":_=P;break;case"checked":O=P;break;case"defaultChecked":H=P;break;case"value":h=P;break;case"defaultValue":T=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,e));break;default:Vt(t,e,r,P,s,null)}}vf(t,h,T,O,H,_,c,!1),Qr(t);return;case"select":wt("invalid",t),r=_=h=null;for(c in s)if(s.hasOwnProperty(c)&&(T=s[c],T!=null))switch(c){case"value":h=T;break;case"defaultValue":_=T;break;case"multiple":r=T;default:Vt(t,e,c,T,s,null)}e=h,s=_,t.multiple=!!r,e!=null?Si(t,!!r,e,!1):s!=null&&Si(t,!!r,s,!0);return;case"textarea":wt("invalid",t),h=c=r=null;for(_ in s)if(s.hasOwnProperty(_)&&(T=s[_],T!=null))switch(_){case"value":r=T;break;case"defaultValue":c=T;break;case"children":h=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Vt(t,e,_,T,s,null)}bf(t,r,c,h),Qr(t);return;case"option":for(O in s)if(s.hasOwnProperty(O)&&(r=s[O],r!=null))switch(O){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Vt(t,e,O,r,s,null)}return;case"dialog":wt("beforetoggle",t),wt("toggle",t),wt("cancel",t),wt("close",t);break;case"iframe":case"object":wt("load",t);break;case"video":case"audio":for(r=0;r<cr.length;r++)wt(cr[r],t);break;case"image":wt("error",t),wt("load",t);break;case"details":wt("toggle",t);break;case"embed":case"source":case"link":wt("error",t),wt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in s)if(s.hasOwnProperty(H)&&(r=s[H],r!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,e));default:Vt(t,e,H,r,s,null)}return;default:if(Po(e)){for(P in s)s.hasOwnProperty(P)&&(r=s[P],r!==void 0&&ju(t,e,P,r,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(r=s[T],r!=null&&Vt(t,e,T,r,s,null))}function Cv(t,e,s,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,_=null,T=null,O=null,H=null,P=null;for(X in s){var J=s[X];if(s.hasOwnProperty(X)&&J!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":O=J;default:r.hasOwnProperty(X)||Vt(t,e,X,null,r,J)}}for(var G in r){var X=r[G];if(J=s[G],r.hasOwnProperty(G)&&(X!=null||J!=null))switch(G){case"type":h=X;break;case"name":c=X;break;case"checked":H=X;break;case"defaultChecked":P=X;break;case"value":_=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,e));break;default:X!==J&&Vt(t,e,G,X,r,J)}}Fo(t,_,T,O,H,P,h,c);return;case"select":X=_=T=G=null;for(h in s)if(O=s[h],s.hasOwnProperty(h)&&O!=null)switch(h){case"value":break;case"multiple":X=O;default:r.hasOwnProperty(h)||Vt(t,e,h,null,r,O)}for(c in r)if(h=r[c],O=s[c],r.hasOwnProperty(c)&&(h!=null||O!=null))switch(c){case"value":G=h;break;case"defaultValue":T=h;break;case"multiple":_=h;default:h!==O&&Vt(t,e,c,h,r,O)}e=T,s=_,r=X,G!=null?Si(t,!!s,G,!1):!!r!=!!s&&(e!=null?Si(t,!!s,e,!0):Si(t,!!s,s?[]:"",!1));return;case"textarea":X=G=null;for(T in s)if(c=s[T],s.hasOwnProperty(T)&&c!=null&&!r.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Vt(t,e,T,null,r,c)}for(_ in r)if(c=r[_],h=s[_],r.hasOwnProperty(_)&&(c!=null||h!=null))switch(_){case"value":G=c;break;case"defaultValue":X=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==h&&Vt(t,e,_,c,r,h)}yf(t,G,X);return;case"option":for(var gt in s)if(G=s[gt],s.hasOwnProperty(gt)&&G!=null&&!r.hasOwnProperty(gt))switch(gt){case"selected":t.selected=!1;break;default:Vt(t,e,gt,null,r,G)}for(O in r)if(G=r[O],X=s[O],r.hasOwnProperty(O)&&G!==X&&(G!=null||X!=null))switch(O){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Vt(t,e,O,G,r,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in s)G=s[dt],s.hasOwnProperty(dt)&&G!=null&&!r.hasOwnProperty(dt)&&Vt(t,e,dt,null,r,G);for(H in r)if(G=r[H],X=s[H],r.hasOwnProperty(H)&&G!==X&&(G!=null||X!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,e));break;default:Vt(t,e,H,G,r,X)}return;default:if(Po(e)){for(var qt in s)G=s[qt],s.hasOwnProperty(qt)&&G!==void 0&&!r.hasOwnProperty(qt)&&ju(t,e,qt,void 0,r,G);for(P in r)G=r[P],X=s[P],!r.hasOwnProperty(P)||G===X||G===void 0&&X===void 0||ju(t,e,P,G,r,X);return}}for(var q in s)G=s[q],s.hasOwnProperty(q)&&G!=null&&!r.hasOwnProperty(q)&&Vt(t,e,q,null,r,G);for(J in r)G=r[J],X=s[J],!r.hasOwnProperty(J)||G===X||G==null&&X==null||Vt(t,e,J,G,r,X)}var zu=null,Vu=null;function Yl(t){return t.nodeType===9?t:t.ownerDocument}function Sm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tm(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function qu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Uu=null;function Nv(){var t=window.event;return t&&t.type==="popstate"?t===Uu?!1:(Uu=t,!0):(Uu=null,!1)}var xm=typeof setTimeout=="function"?setTimeout:void 0,Ev=typeof clearTimeout=="function"?clearTimeout:void 0,wm=typeof Promise=="function"?Promise:void 0,Ov=typeof queueMicrotask=="function"?queueMicrotask:typeof wm<"u"?function(t){return wm.resolve(null).then(t).catch(Mv)}:xm;function Mv(t){setTimeout(function(){throw t})}function Cs(t){return t==="head"}function Am(t,e){var s=e,r=0,c=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(0<r&&8>r){s=r;var _=t.ownerDocument;if(s&1&&hr(_.documentElement),s&2&&hr(_.body),s&4)for(s=_.head,hr(s),_=s.firstChild;_;){var T=_.nextSibling,O=_.nodeName;_[Ca]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&_.rel.toLowerCase()==="stylesheet"||s.removeChild(_),_=T}}if(c===0){t.removeChild(h),yr(e);return}c--}else s==="$"||s==="$?"||s==="$!"?c++:r=s.charCodeAt(0)-48;else r=0;s=h}while(s);yr(e)}function Bu(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var s=e;switch(e=e.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Bu(s),Xo(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Dv(t,e,s,r){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Ca])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=vn(t.nextSibling),t===null)break}return null}function Rv(t,e,s){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=vn(t.nextSibling),t===null))return null;return t}function Lu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function kv(t,e){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")e();else{var r=function(){e(),s.removeEventListener("DOMContentLoaded",r)};s.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function vn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Hu=null;function Cm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return t;e--}else s==="/$"&&e++}t=t.previousSibling}return null}function Nm(t,e,s){switch(e=Yl(s),t){case"html":if(t=e.documentElement,!t)throw Error(a(452));return t;case"head":if(t=e.head,!t)throw Error(a(453));return t;case"body":if(t=e.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function hr(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Xo(t)}var cn=new Map,Em=new Set;function Gl(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Jn=Y.d;Y.d={f:jv,r:zv,D:Vv,C:qv,L:Uv,m:Bv,X:Hv,S:Lv,M:Yv};function jv(){var t=Jn.f(),e=jl();return t||e}function zv(t){var e=_i(t);e!==null&&e.tag===5&&e.type==="form"?Fd(e):Jn.r(t)}var Ki=typeof document>"u"?null:document;function Om(t,e,s){var r=Ki;if(r&&typeof e=="string"&&e){var c=en(e);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Em.has(c)||(Em.add(c),t={rel:t,crossOrigin:s,href:e},r.querySelector(c)===null&&(e=r.createElement("link"),Te(e,"link",t),fe(e),r.head.appendChild(e)))}}function Vv(t){Jn.D(t),Om("dns-prefetch",t,null)}function qv(t,e){Jn.C(t,e),Om("preconnect",t,e)}function Uv(t,e,s){Jn.L(t,e,s);var r=Ki;if(r&&t&&e){var c='link[rel="preload"][as="'+en(e)+'"]';e==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+en(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+en(s.imageSizes)+'"]')):c+='[href="'+en(t)+'"]';var h=c;switch(e){case"style":h=Ji(t);break;case"script":h=$i(t)}cn.has(h)||(t=g({rel:"preload",href:e==="image"&&s&&s.imageSrcSet?void 0:t,as:e},s),cn.set(h,t),r.querySelector(c)!==null||e==="style"&&r.querySelector(fr(h))||e==="script"&&r.querySelector(dr(h))||(e=r.createElement("link"),Te(e,"link",t),fe(e),r.head.appendChild(e)))}}function Bv(t,e){Jn.m(t,e);var s=Ki;if(s&&t){var r=e&&typeof e.as=="string"?e.as:"script",c='link[rel="modulepreload"][as="'+en(r)+'"][href="'+en(t)+'"]',h=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=$i(t)}if(!cn.has(h)&&(t=g({rel:"modulepreload",href:t},e),cn.set(h,t),s.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(dr(h)))return}r=s.createElement("link"),Te(r,"link",t),fe(r),s.head.appendChild(r)}}}function Lv(t,e,s){Jn.S(t,e,s);var r=Ki;if(r&&t){var c=vi(r).hoistableStyles,h=Ji(t);e=e||"default";var _=c.get(h);if(!_){var T={loading:0,preload:null};if(_=r.querySelector(fr(h)))T.loading=5;else{t=g({rel:"stylesheet",href:t,"data-precedence":e},s),(s=cn.get(h))&&Yu(t,s);var O=_=r.createElement("link");fe(O),Te(O,"link",t),O._p=new Promise(function(H,P){O.onload=H,O.onerror=P}),O.addEventListener("load",function(){T.loading|=1}),O.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Xl(_,e,r)}_={type:"stylesheet",instance:_,count:1,state:T},c.set(h,_)}}}function Hv(t,e){Jn.X(t,e);var s=Ki;if(s&&t){var r=vi(s).hoistableScripts,c=$i(t),h=r.get(c);h||(h=s.querySelector(dr(c)),h||(t=g({src:t,async:!0},e),(e=cn.get(c))&&Gu(t,e),h=s.createElement("script"),fe(h),Te(h,"link",t),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(c,h))}}function Yv(t,e){Jn.M(t,e);var s=Ki;if(s&&t){var r=vi(s).hoistableScripts,c=$i(t),h=r.get(c);h||(h=s.querySelector(dr(c)),h||(t=g({src:t,async:!0,type:"module"},e),(e=cn.get(c))&&Gu(t,e),h=s.createElement("script"),fe(h),Te(h,"link",t),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(c,h))}}function Mm(t,e,s,r){var c=(c=ot.current)?Gl(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(e=Ji(s.href),s=vi(c).hoistableStyles,r=s.get(e),r||(r={type:"style",instance:null,count:0,state:null},s.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ji(s.href);var h=vi(c).hoistableStyles,_=h.get(t);if(_||(c=c.ownerDocument||c,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,_),(h=c.querySelector(fr(t)))&&!h._p&&(_.instance=h,_.state.loading=5),cn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},cn.set(t,s),h||Gv(c,t,s,_.state))),e&&r===null)throw Error(a(528,""));return _}if(e&&r!==null)throw Error(a(529,""));return null;case"script":return e=s.async,s=s.src,typeof s=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=$i(s),s=vi(c).hoistableScripts,r=s.get(e),r||(r={type:"script",instance:null,count:0,state:null},s.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ji(t){return'href="'+en(t)+'"'}function fr(t){return'link[rel="stylesheet"]['+t+"]"}function Dm(t){return g({},t,{"data-precedence":t.precedence,precedence:null})}function Gv(t,e,s,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Te(e,"link",s),fe(e),t.head.appendChild(e))}function $i(t){return'[src="'+en(t)+'"]'}function dr(t){return"script[async]"+t}function Rm(t,e,s){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+en(s.href)+'"]');if(r)return e.instance=r,fe(r),r;var c=g({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),fe(r),Te(r,"style",c),Xl(r,s.precedence,t),e.instance=r;case"stylesheet":c=Ji(s.href);var h=t.querySelector(fr(c));if(h)return e.state.loading|=4,e.instance=h,fe(h),h;r=Dm(s),(c=cn.get(c))&&Yu(r,c),h=(t.ownerDocument||t).createElement("link"),fe(h);var _=h;return _._p=new Promise(function(T,O){_.onload=T,_.onerror=O}),Te(h,"link",r),e.state.loading|=4,Xl(h,s.precedence,t),e.instance=h;case"script":return h=$i(s.src),(c=t.querySelector(dr(h)))?(e.instance=c,fe(c),c):(r=s,(c=cn.get(h))&&(r=g({},s),Gu(r,c)),t=t.ownerDocument||t,c=t.createElement("script"),fe(c),Te(c,"link",r),t.head.appendChild(c),e.instance=c);case"void":return null;default:throw Error(a(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(r=e.instance,e.state.loading|=4,Xl(r,s.precedence,t));return e.instance}function Xl(t,e,s){for(var r=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,h=c,_=0;_<r.length;_++){var T=r[_];if(T.dataset.precedence===e)h=T;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(e=s.nodeType===9?s.head:s,e.insertBefore(t,e.firstChild))}function Yu(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Gu(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Il=null;function km(t,e,s){if(Il===null){var r=new Map,c=Il=new Map;c.set(s,r)}else c=Il,r=c.get(s),r||(r=new Map,c.set(s,r));if(r.has(t))return r;for(r.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var h=s[c];if(!(h[Ca]||h[Ae]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var _=h.getAttribute(e)||"";_=t+_;var T=r.get(_);T?T.push(h):r.set(_,[h])}}return r}function jm(t,e,s){t=t.ownerDocument||t,t.head.insertBefore(s,e==="title"?t.querySelector("head > title"):null)}function Xv(t,e,s){if(s===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function zm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var pr=null;function Iv(){}function Zv(t,e,s){if(pr===null)throw Error(a(475));var r=pr;if(e.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var c=Ji(s.href),h=t.querySelector(fr(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=Zl.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=h,fe(h);return}h=t.ownerDocument||t,s=Dm(s),(c=cn.get(c))&&Yu(s,c),h=h.createElement("link"),fe(h);var _=h;_._p=new Promise(function(T,O){_.onload=T,_.onerror=O}),Te(h,"link",s),e.instance=h}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(r.count++,e=Zl.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function Qv(){if(pr===null)throw Error(a(475));var t=pr;return t.stylesheets&&t.count===0&&Xu(t,t.stylesheets),0<t.count?function(e){var s=setTimeout(function(){if(t.stylesheets&&Xu(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Zl(){if(this.count--,this.count===0){if(this.stylesheets)Xu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ql=null;function Xu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ql=new Map,e.forEach(Fv,t),Ql=null,Zl.call(t))}function Fv(t,e){if(!(e.state.loading&4)){var s=Ql.get(t);if(s)var r=s.get(null);else{s=new Map,Ql.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var _=c[h];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),r=_)}r&&s.set(null,r)}c=e.instance,_=c.getAttribute("data-precedence"),h=s.get(_)||r,h===r&&s.set(null,c),s.set(_,c),this.count++,r=Zl.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),e.state.loading|=4}}var mr={$$typeof:M,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function Wv(t,e,s,r,c,h,_,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lo(0),this.hiddenUpdates=Lo(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Vm(t,e,s,r,c,h,_,T,O,H,P,J){return t=new Wv(t,e,s,_,T,O,H,J),e=1,h===!0&&(e|=24),h=Ge(3,null,null,e),t.current=h,h.stateNode=t,e=Ac(),e.refCount++,t.pooledCache=e,e.refCount++,h.memoizedState={element:r,isDehydrated:s,cache:e},Oc(h),t}function qm(t){return t?(t=Mi,t):Mi}function Um(t,e,s,r,c,h){c=qm(c),r.context===null?r.context=c:r.pendingContext=c,r=ds(e),r.payload={element:s},h=h===void 0?null:h,h!==null&&(r.callback=h),s=ps(t,r,e),s!==null&&(Fe(s,t,e),Ia(s,t,e))}function Bm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<e?s:e}}function Iu(t,e){Bm(t,e),(t=t.alternate)&&Bm(t,e)}function Lm(t){if(t.tag===13){var e=Oi(t,67108864);e!==null&&Fe(e,t,67108864),Iu(t,67108864)}}var Fl=!0;function Pv(t,e,s,r){var c=k.T;k.T=null;var h=Y.p;try{Y.p=2,Zu(t,e,s,r)}finally{Y.p=h,k.T=c}}function Kv(t,e,s,r){var c=k.T;k.T=null;var h=Y.p;try{Y.p=8,Zu(t,e,s,r)}finally{Y.p=h,k.T=c}}function Zu(t,e,s,r){if(Fl){var c=Qu(r);if(c===null)ku(t,e,r,Wl,s),Ym(t,r);else if($v(c,t,e,s,r))r.stopPropagation();else if(Ym(t,r),e&4&&-1<Jv.indexOf(t)){for(;c!==null;){var h=_i(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var _=Gs(h.pendingLanes);if(_!==0){var T=h;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var O=1<<31-He(_);T.entanglements[1]|=O,_&=~O}Dn(h),(kt&6)===0&&(Rl=Mt()+500,or(0))}}break;case 13:T=Oi(h,2),T!==null&&Fe(T,h,2),jl(),Iu(h,2)}if(h=Qu(r),h===null&&ku(t,e,r,Wl,s),h===c)break;c=h}c!==null&&r.stopPropagation()}else ku(t,e,r,null,s)}}function Qu(t){return t=Jo(t),Fu(t)}var Wl=null;function Fu(t){if(Wl=null,t=gi(t),t!==null){var e=u(t);if(e===null)t=null;else{var s=e.tag;if(s===13){if(t=p(e),t!==null)return t;t=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Wl=t,null}function Hm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yt()){case Ct:return 2;case Gt:return 8;case ye:case Cn:return 32;case ls:return 268435456;default:return 32}default:return 32}}var Wu=!1,Ns=null,Es=null,Os=null,gr=new Map,_r=new Map,Ms=[],Jv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ym(t,e){switch(t){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":gr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_r.delete(e.pointerId)}}function vr(t,e,s,r,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:e,domEventName:s,eventSystemFlags:r,nativeEvent:h,targetContainers:[c]},e!==null&&(e=_i(e),e!==null&&Lm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,c!==null&&e.indexOf(c)===-1&&e.push(c),t)}function $v(t,e,s,r,c){switch(e){case"focusin":return Ns=vr(Ns,t,e,s,r,c),!0;case"dragenter":return Es=vr(Es,t,e,s,r,c),!0;case"mouseover":return Os=vr(Os,t,e,s,r,c),!0;case"pointerover":var h=c.pointerId;return gr.set(h,vr(gr.get(h)||null,t,e,s,r,c)),!0;case"gotpointercapture":return h=c.pointerId,_r.set(h,vr(_r.get(h)||null,t,e,s,r,c)),!0}return!1}function Gm(t){var e=gi(t.target);if(e!==null){var s=u(e);if(s!==null){if(e=s.tag,e===13){if(e=p(s),e!==null){t.blockedOn=e,Z_(t.priority,function(){if(s.tag===13){var r=Qe();r=Ho(r);var c=Oi(s,r);c!==null&&Fe(c,s,r),Iu(s,r)}});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var s=Qu(t.nativeEvent);if(s===null){s=t.nativeEvent;var r=new s.constructor(s.type,s);Ko=r,s.target.dispatchEvent(r),Ko=null}else return e=_i(s),e!==null&&Lm(e),t.blockedOn=s,!1;e.shift()}return!0}function Xm(t,e,s){Pl(t)&&s.delete(e)}function ty(){Wu=!1,Ns!==null&&Pl(Ns)&&(Ns=null),Es!==null&&Pl(Es)&&(Es=null),Os!==null&&Pl(Os)&&(Os=null),gr.forEach(Xm),_r.forEach(Xm)}function Kl(t,e){t.blockedOn===e&&(t.blockedOn=null,Wu||(Wu=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,ty)))}var Jl=null;function Im(t){Jl!==t&&(Jl=t,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Jl===t&&(Jl=null);for(var e=0;e<t.length;e+=3){var s=t[e],r=t[e+1],c=t[e+2];if(typeof r!="function"){if(Fu(r||s)===null)continue;break}var h=_i(s);h!==null&&(t.splice(e,3),e-=3,Fc(h,{pending:!0,data:c,method:s.method,action:r},r,c))}}))}function yr(t){function e(O){return Kl(O,t)}Ns!==null&&Kl(Ns,t),Es!==null&&Kl(Es,t),Os!==null&&Kl(Os,t),gr.forEach(e),_r.forEach(e);for(var s=0;s<Ms.length;s++){var r=Ms[s];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Ms.length&&(s=Ms[0],s.blockedOn===null);)Gm(s),s.blockedOn===null&&Ms.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(r=0;r<s.length;r+=3){var c=s[r],h=s[r+1],_=c[je]||null;if(typeof h=="function")_||Im(s);else if(_){var T=null;if(h&&h.hasAttribute("formAction")){if(c=h,_=h[je]||null)T=_.formAction;else if(Fu(c)!==null)continue}else T=_.action;typeof T=="function"?s[r+1]=T:(s.splice(r,3),r-=3),Im(s)}}}function Pu(t){this._internalRoot=t}$l.prototype.render=Pu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(a(409));var s=e.current,r=Qe();Um(s,r,t,e,null,null)},$l.prototype.unmount=Pu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Um(t.current,2,null,t,null,null),jl(),e[mi]=null}};function $l(t){this._internalRoot=t}$l.prototype.unstable_scheduleHydration=function(t){if(t){var e=of();t={blockedOn:null,target:t,priority:e};for(var s=0;s<Ms.length&&e!==0&&e<Ms[s].priority;s++);Ms.splice(s,0,t),s===0&&Gm(t)}};var Zm=n.version;if(Zm!=="19.1.0")throw Error(a(527,Zm,"19.1.0"));Y.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=m(e),t=t!==null?d(t):null,t=t===null?null:t.stateNode,t};var ey={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var to=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!to.isDisabled&&to.supportsFiber)try{Ys=to.inject(ey),Le=to}catch{}}return Sr.createRoot=function(t,e){if(!o(t))throw Error(a(299));var s=!1,r="",c=op,h=cp,_=up,T=null;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(c=e.onUncaughtError),e.onCaughtError!==void 0&&(h=e.onCaughtError),e.onRecoverableError!==void 0&&(_=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(T=e.unstable_transitionCallbacks)),e=Vm(t,1,!1,null,null,s,r,c,h,_,T,null),t[mi]=e.current,Ru(t),new Pu(e)},Sr.hydrateRoot=function(t,e,s){if(!o(t))throw Error(a(299));var r=!1,c="",h=op,_=cp,T=up,O=null,H=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(O=s.unstable_transitionCallbacks),s.formState!==void 0&&(H=s.formState)),e=Vm(t,1,!0,e,s??null,r,c,h,_,T,O,H),e.context=qm(null),s=e.current,r=Qe(),r=Ho(r),c=ds(r),c.callback=null,ps(s,c,r),s=r,e.current.lanes=s,Aa(e,s),Dn(e),t[mi]=e.current,Ru(t),new $l(e)},Sr.version="19.1.0",Sr}var ng;function hy(){if(ng)return $u.exports;ng=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),$u.exports=uy(),$u.exports}var fy=hy();const Cg=ut.createContext(null),Ng=()=>{const l=ut.useContext(Cg);if(!l)throw new Error("AppContext must be used within AppProvider");return l},dy=({children:l})=>{const[n,i]=ut.useState("rhythm");return w.jsx(Cg.Provider,{value:{mode:n,setMode:i},children:l})},Eg="15.1.22",sg=(l,n,i)=>({endTime:n,insertTime:i,type:"exponentialRampToValue",value:l}),ig=(l,n,i)=>({endTime:n,insertTime:i,type:"linearRampToValue",value:l}),rh=(l,n)=>({startTime:n,type:"setValue",value:l}),Og=(l,n,i)=>({duration:i,startTime:n,type:"setValueCurve",values:l}),Mg=(l,n,{startTime:i,target:a,timeConstant:o})=>a+(n-a)*Math.exp((i-l)/o),ea=l=>l.type==="exponentialRampToValue",oo=l=>l.type==="linearRampToValue",ks=l=>ea(l)||oo(l),vh=l=>l.type==="setValue",$n=l=>l.type==="setValueCurve",co=(l,n,i,a)=>{const o=l[n];return o===void 0?a:ks(o)||vh(o)?o.value:$n(o)?o.values[o.values.length-1]:Mg(i,co(l,n-1,o.startTime,a),o)},ag=(l,n,i,a,o)=>i===void 0?[a.insertTime,o]:ks(i)?[i.endTime,i.value]:vh(i)?[i.startTime,i.value]:$n(i)?[i.startTime+i.duration,i.values[i.values.length-1]]:[i.startTime,co(l,n-1,i.startTime,o)],lh=l=>l.type==="cancelAndHold",oh=l=>l.type==="cancelScheduledValues",Rs=l=>lh(l)||oh(l)?l.cancelTime:ea(l)||oo(l)?l.endTime:l.startTime,rg=(l,n,i,{endTime:a,value:o})=>i===o?o:0<i&&0<o||i<0&&o<0?i*(o/i)**((l-n)/(a-n)):0,lg=(l,n,i,{endTime:a,value:o})=>i+(l-n)/(a-n)*(o-i),py=(l,n)=>{const i=Math.floor(n),a=Math.ceil(n);return i===a?l[i]:(1-(n-i))*l[i]+(1-(a-n))*l[a]},my=(l,{duration:n,startTime:i,values:a})=>{const o=(l-i)/n*(a.length-1);return py(a,o)},eo=l=>l.type==="setTarget";class gy{constructor(n){this._automationEvents=[],this._currenTime=0,this._defaultValue=n}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(n){const i=Rs(n);if(lh(n)||oh(n)){const a=this._automationEvents.findIndex(u=>oh(n)&&$n(u)?u.startTime+u.duration>=i:Rs(u)>=i),o=this._automationEvents[a];if(a!==-1&&(this._automationEvents=this._automationEvents.slice(0,a)),lh(n)){const u=this._automationEvents[this._automationEvents.length-1];if(o!==void 0&&ks(o)){if(u!==void 0&&eo(u))throw new Error("The internal list is malformed.");const p=u===void 0?o.insertTime:$n(u)?u.startTime+u.duration:Rs(u),f=u===void 0?this._defaultValue:$n(u)?u.values[u.values.length-1]:u.value,m=ea(o)?rg(i,p,f,o):lg(i,p,f,o),d=ea(o)?sg(m,i,this._currenTime):ig(m,i,this._currenTime);this._automationEvents.push(d)}if(u!==void 0&&eo(u)&&this._automationEvents.push(rh(this.getValue(i),i)),u!==void 0&&$n(u)&&u.startTime+u.duration>i){const p=i-u.startTime,f=(u.values.length-1)/u.duration,m=Math.max(2,1+Math.ceil(p*f)),d=p/(m-1)*f,g=u.values.slice(0,m);if(d<1)for(let v=1;v<m;v+=1){const b=d*v%1;g[v]=u.values[v-1]*(1-b)+u.values[v]*b}this._automationEvents[this._automationEvents.length-1]=Og(g,u.startTime,p)}}}else{const a=this._automationEvents.findIndex(p=>Rs(p)>i),o=a===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[a-1];if(o!==void 0&&$n(o)&&Rs(o)+o.duration>i)return!1;const u=ea(n)?sg(n.value,n.endTime,this._currenTime):oo(n)?ig(n.value,i,this._currenTime):n;if(a===-1)this._automationEvents.push(u);else{if($n(n)&&i+n.duration>Rs(this._automationEvents[a]))return!1;this._automationEvents.splice(a,0,u)}}return!0}flush(n){const i=this._automationEvents.findIndex(a=>Rs(a)>n);if(i>1){const a=this._automationEvents.slice(i-1),o=a[0];eo(o)&&a.unshift(rh(co(this._automationEvents,i-2,o.startTime,this._defaultValue),o.startTime)),this._automationEvents=a}}getValue(n){if(this._automationEvents.length===0)return this._defaultValue;const i=this._automationEvents.findIndex(p=>Rs(p)>n),a=this._automationEvents[i],o=(i===-1?this._automationEvents.length:i)-1,u=this._automationEvents[o];if(u!==void 0&&eo(u)&&(a===void 0||!ks(a)||a.insertTime>n))return Mg(n,co(this._automationEvents,o-1,u.startTime,this._defaultValue),u);if(u!==void 0&&vh(u)&&(a===void 0||!ks(a)))return u.value;if(u!==void 0&&$n(u)&&(a===void 0||!ks(a)||u.startTime+u.duration>n))return n<u.startTime+u.duration?my(n,u):u.values[u.values.length-1];if(u!==void 0&&ks(u)&&(a===void 0||!ks(a)))return u.value;if(a!==void 0&&ea(a)){const[p,f]=ag(this._automationEvents,o,u,a,this._defaultValue);return rg(n,p,f,a)}if(a!==void 0&&oo(a)){const[p,f]=ag(this._automationEvents,o,u,a,this._defaultValue);return lg(n,p,f,a)}return this._defaultValue}}const _y=l=>({cancelTime:l,type:"cancelAndHold"}),vy=l=>({cancelTime:l,type:"cancelScheduledValues"}),yy=(l,n)=>({endTime:n,type:"exponentialRampToValue",value:l}),by=(l,n)=>({endTime:n,type:"linearRampToValue",value:l}),Sy=(l,n,i)=>({startTime:n,target:l,timeConstant:i,type:"setTarget"}),Ty=()=>new DOMException("","AbortError"),xy=l=>(n,i,[a,o,u],p)=>{l(n[o],[i,a,u],f=>f[0]===i&&f[1]===a,p)},wy=l=>(n,i,a)=>{const o=[];for(let u=0;u<a.numberOfInputs;u+=1)o.push(new Set);l.set(n,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:i})},Ay=l=>(n,i)=>{l.set(n,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:i})},ra=new WeakSet,Dg=new WeakMap,yh=new WeakMap,Rg=new WeakMap,bh=new WeakMap,So=new WeakMap,kg=new WeakMap,ch=new WeakMap,uh=new WeakMap,hh=new WeakMap,jg={construct(){return jg}},Cy=l=>{try{const n=new Proxy(l,jg);new n}catch{return!1}return!0},og=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,cg=(l,n)=>{const i=[];let a=l.replace(/^[\s]+/,""),o=a.match(og);for(;o!==null;){const u=o[1].slice(1,-1),p=o[0].replace(/([\s]+)?;?$/,"").replace(u,new URL(u,n).toString());i.push(p),a=a.slice(o[0].length).replace(/^[\s]+/,""),o=a.match(og)}return[i.join(";"),a]},ug=l=>{if(l!==void 0&&!Array.isArray(l))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},hg=l=>{if(!Cy(l))throw new TypeError("The given value for processorCtor should be a constructor.");if(l.prototype===null||typeof l.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},Ny=(l,n,i,a,o,u,p,f,m,d,g,v,b)=>{let y=0;return(S,x,A={credentials:"omit"})=>{const E=g.get(S);if(E!==void 0&&E.has(x))return Promise.resolve();const D=d.get(S);if(D!==void 0){const C=D.get(x);if(C!==void 0)return C}const M=u(S),U=M.audioWorklet===void 0?o(x).then(([C,j])=>{const[V,R]=cg(C,j),Q=`${V};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${R}
})})(window,'_AWGS')`;return i(Q)}).then(()=>{const C=b._AWGS.pop();if(C===void 0)throw new SyntaxError;a(M.currentTime,M.sampleRate,()=>C(class{},void 0,(j,V)=>{if(j.trim()==="")throw n();const R=uh.get(M);if(R!==void 0){if(R.has(j))throw n();hg(V),ug(V.parameterDescriptors),R.set(j,V)}else hg(V),ug(V.parameterDescriptors),uh.set(M,new Map([[j,V]]))},M.sampleRate,void 0,void 0))}):Promise.all([o(x),Promise.resolve(l(v,v))]).then(([[C,j],V])=>{const R=y+1;y=R;const[Q,F]=cg(C,j),et=`${Q};((AudioWorkletProcessor,registerProcessor)=>{${F}
})(${V?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${V?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${V?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${R}',class extends AudioWorkletProcessor{process(){return !1}})`,it=new Blob([et],{type:"application/javascript; charset=utf-8"}),k=URL.createObjectURL(it);return M.audioWorklet.addModule(k,A).then(()=>{if(f(M))return M;const Y=p(M);return Y.audioWorklet.addModule(k,A).then(()=>Y)}).then(Y=>{if(m===null)throw new SyntaxError;try{new m(Y,`__sac${R}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(k))});return D===void 0?d.set(S,new Map([[x,U]])):D.set(x,U),U.then(()=>{const C=g.get(S);C===void 0?g.set(S,new Set([x])):C.add(x)}).finally(()=>{const C=d.get(S);C!==void 0&&C.delete(x)}),U}},Sn=(l,n)=>{const i=l.get(n);if(i===void 0)throw new Error("A value with the given key could not be found.");return i},To=(l,n)=>{const i=Array.from(l).filter(n);if(i.length>1)throw Error("More than one element was found.");if(i.length===0)throw Error("No element was found.");const[a]=i;return l.delete(a),a},zg=(l,n,i,a)=>{const o=Sn(l,n),u=To(o,p=>p[0]===i&&p[1]===a);return o.size===0&&l.delete(n),u},Or=l=>Sn(kg,l),la=l=>{if(ra.has(l))throw new Error("The AudioNode is already stored.");ra.add(l),Or(l).forEach(n=>n(!0))},Vg=l=>"port"in l,Mr=l=>{if(!ra.has(l))throw new Error("The AudioNode is not stored.");ra.delete(l),Or(l).forEach(n=>n(!1))},fh=(l,n)=>{!Vg(l)&&n.every(i=>i.size===0)&&Mr(l)},Ey=(l,n,i,a,o,u,p,f,m,d,g,v,b)=>{const y=new WeakMap;return(S,x,A,E,D)=>{const{activeInputs:M,passiveInputs:U}=u(x),{outputs:C}=u(S),j=f(S),V=R=>{const Q=m(x),F=m(S);if(R){const Z=zg(U,S,A,E);l(M,S,Z,!1),!D&&!v(S)&&i(F,Q,A,E),b(x)&&la(x)}else{const Z=a(M,S,A,E);n(U,E,Z,!1),!D&&!v(S)&&o(F,Q,A,E);const I=p(x);if(I===0)g(x)&&fh(x,M);else{const st=y.get(x);st!==void 0&&clearTimeout(st),y.set(x,setTimeout(()=>{g(x)&&fh(x,M)},I*1e3))}}};return d(C,[x,A,E],R=>R[0]===x&&R[1]===A&&R[2]===E,!0)?(j.add(V),g(S)?l(M,S,[A,E,V],!0):n(U,E,[S,A,V],!0),!0):!1}},Oy=l=>(n,i,[a,o,u],p)=>{const f=n.get(a);f===void 0?n.set(a,new Set([[o,i,u]])):l(f,[o,i,u],m=>m[0]===o&&m[1]===i,p)},My=l=>(n,i)=>{const a=l(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.connect(a).connect(n.destination);const o=()=>{i.removeEventListener("ended",o),i.disconnect(a),a.disconnect()};i.addEventListener("ended",o)},Dy=l=>(n,i)=>{l(n).add(i)},Ry={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},ky=(l,n,i,a,o,u)=>class extends l{constructor(f,m){const d=o(f),g={...Ry,...m},v=a(d,g),b=u(d)?n():null;super(f,!1,v,b),this._nativeAnalyserNode=v}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(f){this._nativeAnalyserNode.fftSize=f}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(f){const m=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=f,!(f>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=m,i()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(f){const m=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=f,!(this._nativeAnalyserNode.maxDecibels>f))throw this._nativeAnalyserNode.minDecibels=m,i()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(f){this._nativeAnalyserNode.smoothingTimeConstant=f}getByteFrequencyData(f){this._nativeAnalyserNode.getByteFrequencyData(f)}getByteTimeDomainData(f){this._nativeAnalyserNode.getByteTimeDomainData(f)}getFloatFrequencyData(f){this._nativeAnalyserNode.getFloatFrequencyData(f)}getFloatTimeDomainData(f){this._nativeAnalyserNode.getFloatTimeDomainData(f)}},Oe=(l,n)=>l.context===n,jy=(l,n,i)=>()=>{const a=new WeakMap,o=async(u,p)=>{let f=n(u);if(!Oe(f,p)){const d={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,fftSize:f.fftSize,maxDecibels:f.maxDecibels,minDecibels:f.minDecibels,smoothingTimeConstant:f.smoothingTimeConstant};f=l(p,d)}return a.set(p,f),await i(u,p,f),f};return{render(u,p){const f=a.get(p);return f!==void 0?Promise.resolve(f):o(u,p)}}},uo=l=>{try{l.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},jn=()=>new DOMException("","IndexSizeError"),Sh=l=>{l.getChannelData=(n=>i=>{try{return n.call(l,i)}catch(a){throw a.code===12?jn():a}})(l.getChannelData)},zy={numberOfChannels:1},Vy=(l,n,i,a,o,u,p,f)=>{let m=null;return class qg{constructor(g){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:v,numberOfChannels:b,sampleRate:y}={...zy,...g};m===null&&(m=new o(1,1,44100));const S=a!==null&&n(u,u)?new a({length:v,numberOfChannels:b,sampleRate:y}):m.createBuffer(b,v,y);if(S.numberOfChannels===0)throw i();return typeof S.copyFromChannel!="function"?(p(S),Sh(S)):n(uo,()=>uo(S))||f(S),l.add(S),S}static[Symbol.hasInstance](g){return g!==null&&typeof g=="object"&&Object.getPrototypeOf(g)===qg.prototype||l.has(g)}}},We=-34028234663852886e22,De=34028234663852886e22,ts=l=>ra.has(l),qy={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Uy=(l,n,i,a,o,u,p,f)=>class extends l{constructor(d,g){const v=u(d),b={...qy,...g},y=o(v,b),S=p(v),x=S?n():null;super(d,!1,y,x),this._audioBufferSourceNodeRenderer=x,this._isBufferNullified=!1,this._isBufferSet=b.buffer!==null,this._nativeAudioBufferSourceNode=y,this._onended=null,this._playbackRate=i(this,S,y.playbackRate,De,We)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(d){if(this._nativeAudioBufferSourceNode.buffer=d,d!==null){if(this._isBufferSet)throw a();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(d){this._nativeAudioBufferSourceNode.loop=d}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(d){this._nativeAudioBufferSourceNode.loopEnd=d}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(d){this._nativeAudioBufferSourceNode.loopStart=d}get onended(){return this._onended}set onended(d){const g=typeof d=="function"?f(this,d):null;this._nativeAudioBufferSourceNode.onended=g;const v=this._nativeAudioBufferSourceNode.onended;this._onended=v!==null&&v===g?d:v}get playbackRate(){return this._playbackRate}start(d=0,g=0,v){if(this._nativeAudioBufferSourceNode.start(d,g,v),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=v===void 0?[d,g]:[d,g,v]),this.context.state!=="closed"){la(this);const b=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",b),ts(this)&&Mr(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",b)}}stop(d=0){this._nativeAudioBufferSourceNode.stop(d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=d)}},By=(l,n,i,a,o)=>()=>{const u=new WeakMap;let p=null,f=null;const m=async(d,g)=>{let v=i(d);const b=Oe(v,g);if(!b){const y={buffer:v.buffer,channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,loop:v.loop,loopEnd:v.loopEnd,loopStart:v.loopStart,playbackRate:v.playbackRate.value};v=n(g,y),p!==null&&v.start(...p),f!==null&&v.stop(f)}return u.set(g,v),b?await l(g,d.playbackRate,v.playbackRate):await a(g,d.playbackRate,v.playbackRate),await o(d,g,v),v};return{set start(d){p=d},set stop(d){f=d},render(d,g){const v=u.get(g);return v!==void 0?Promise.resolve(v):m(d,g)}}},Ly=l=>"playbackRate"in l,Hy=l=>"frequency"in l&&"gain"in l,Yy=l=>"offset"in l,Gy=l=>!("frequency"in l)&&"gain"in l,Xy=l=>"detune"in l&&"frequency"in l&&!("gain"in l),Iy=l=>"pan"in l,Re=l=>Sn(Dg,l),Dr=l=>Sn(Rg,l),dh=(l,n)=>{const{activeInputs:i}=Re(l);i.forEach(o=>o.forEach(([u])=>{n.includes(l)||dh(u,[...n,l])}));const a=Ly(l)?[l.playbackRate]:Vg(l)?Array.from(l.parameters.values()):Hy(l)?[l.Q,l.detune,l.frequency,l.gain]:Yy(l)?[l.offset]:Gy(l)?[l.gain]:Xy(l)?[l.detune,l.frequency]:Iy(l)?[l.pan]:[];for(const o of a){const u=Dr(o);u!==void 0&&u.activeInputs.forEach(([p])=>dh(p,n))}ts(l)&&Mr(l)},Ug=l=>{dh(l.destination,[])},Zy=l=>l===void 0||typeof l=="number"||typeof l=="string"&&(l==="balanced"||l==="interactive"||l==="playback"),Qy=(l,n,i,a,o,u,p,f,m)=>class extends l{constructor(g={}){if(m===null)throw new Error("Missing the native AudioContext constructor.");let v;try{v=new m(g)}catch(S){throw S.code===12&&S.message==="sampleRate is not in range"?i():S}if(v===null)throw a();if(!Zy(g.latencyHint))throw new TypeError(`The provided value '${g.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(g.sampleRate!==void 0&&v.sampleRate!==g.sampleRate)throw i();super(v,2);const{latencyHint:b}=g,{sampleRate:y}=v;if(this._baseLatency=typeof v.baseLatency=="number"?v.baseLatency:b==="balanced"?512/y:b==="interactive"||b===void 0?256/y:b==="playback"?1024/y:Math.max(2,Math.min(128,Math.round(b*y/128)))*128/y,this._nativeAudioContext=v,m.name==="webkitAudioContext"?(this._nativeGainNode=v.createGain(),this._nativeOscillatorNode=v.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(v.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,v.state==="running"){this._state="suspended";const S=()=>{this._state==="suspended"&&(this._state=null),v.removeEventListener("statechange",S)};v.addEventListener("statechange",S)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw n()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Ug(this)}))}createMediaElementSource(g){return new o(this,{mediaElement:g})}createMediaStreamDestination(){return new u(this)}createMediaStreamSource(g){return new p(this,{mediaStream:g})}createMediaStreamTrackSource(g){return new f(this,{mediaStreamTrack:g})}resume(){return this._state==="suspended"?new Promise((g,v)=>{const b=()=>{this._nativeAudioContext.removeEventListener("statechange",b),this._nativeAudioContext.state==="running"?g():this.resume().then(g,v)};this._nativeAudioContext.addEventListener("statechange",b)}):this._nativeAudioContext.resume().catch(g=>{throw g===void 0||g.code===15?n():g})}suspend(){return this._nativeAudioContext.suspend().catch(g=>{throw g===void 0?n():g})}},Fy=(l,n,i,a,o,u,p,f)=>class extends l{constructor(d,g){const v=u(d),b=p(v),y=o(v,g,b),S=b?n(f):null;super(d,!1,y,S),this._isNodeOfNativeOfflineAudioContext=b,this._nativeAudioDestinationNode=y}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(d){if(this._isNodeOfNativeOfflineAudioContext)throw a();if(d>this._nativeAudioDestinationNode.maxChannelCount)throw i();this._nativeAudioDestinationNode.channelCount=d}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(d){if(this._isNodeOfNativeOfflineAudioContext)throw a();this._nativeAudioDestinationNode.channelCountMode=d}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},Wy=l=>{const n=new WeakMap,i=async(a,o)=>{const u=o.destination;return n.set(o,u),await l(a,o,u),u};return{render(a,o){const u=n.get(o);return u!==void 0?Promise.resolve(u):i(a,o)}}},Py=(l,n,i,a,o,u,p,f)=>(m,d)=>{const g=d.listener,v=()=>{const C=new Float32Array(1),j=n(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),V=p(d);let R=!1,Q=[0,0,-1,0,1,0],F=[0,0,0];const Z=()=>{if(R)return;R=!0;const it=a(d,256,9,0);it.onaudioprocess=({inputBuffer:k})=>{const Y=[u(k,C,0),u(k,C,1),u(k,C,2),u(k,C,3),u(k,C,4),u(k,C,5)];Y.some((nt,N)=>nt!==Q[N])&&(g.setOrientation(...Y),Q=Y);const $=[u(k,C,6),u(k,C,7),u(k,C,8)];$.some((nt,N)=>nt!==F[N])&&(g.setPosition(...$),F=$)},j.connect(it)},I=it=>k=>{k!==Q[it]&&(Q[it]=k,g.setOrientation(...Q))},st=it=>k=>{k!==F[it]&&(F[it]=k,g.setPosition(...F))},et=(it,k,Y)=>{const $=i(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:k});$.connect(j,0,it),$.start(),Object.defineProperty($.offset,"defaultValue",{get(){return k}});const nt=l({context:m},V,$.offset,De,We);return f(nt,"value",N=>()=>N.call(nt),N=>L=>{try{N.call(nt,L)}catch(tt){if(tt.code!==9)throw tt}Z(),V&&Y(L)}),nt.cancelAndHoldAtTime=(N=>V?()=>{throw o()}:(...L)=>{const tt=N.apply(nt,L);return Z(),tt})(nt.cancelAndHoldAtTime),nt.cancelScheduledValues=(N=>V?()=>{throw o()}:(...L)=>{const tt=N.apply(nt,L);return Z(),tt})(nt.cancelScheduledValues),nt.exponentialRampToValueAtTime=(N=>V?()=>{throw o()}:(...L)=>{const tt=N.apply(nt,L);return Z(),tt})(nt.exponentialRampToValueAtTime),nt.linearRampToValueAtTime=(N=>V?()=>{throw o()}:(...L)=>{const tt=N.apply(nt,L);return Z(),tt})(nt.linearRampToValueAtTime),nt.setTargetAtTime=(N=>V?()=>{throw o()}:(...L)=>{const tt=N.apply(nt,L);return Z(),tt})(nt.setTargetAtTime),nt.setValueAtTime=(N=>V?()=>{throw o()}:(...L)=>{const tt=N.apply(nt,L);return Z(),tt})(nt.setValueAtTime),nt.setValueCurveAtTime=(N=>V?()=>{throw o()}:(...L)=>{const tt=N.apply(nt,L);return Z(),tt})(nt.setValueCurveAtTime),nt};return{forwardX:et(0,0,I(0)),forwardY:et(1,0,I(1)),forwardZ:et(2,-1,I(2)),positionX:et(6,0,st(0)),positionY:et(7,0,st(1)),positionZ:et(8,0,st(2)),upX:et(3,0,I(3)),upY:et(4,1,I(4)),upZ:et(5,0,I(5))}},{forwardX:b,forwardY:y,forwardZ:S,positionX:x,positionY:A,positionZ:E,upX:D,upY:M,upZ:U}=g.forwardX===void 0?v():g;return{get forwardX(){return b},get forwardY(){return y},get forwardZ(){return S},get positionX(){return x},get positionY(){return A},get positionZ(){return E},get upX(){return D},get upY(){return M},get upZ(){return U}}},ho=l=>"context"in l,Rr=l=>ho(l[0]),fi=(l,n,i,a)=>{for(const o of l)if(i(o)){if(a)return!1;throw Error("The set contains at least one similar element.")}return l.add(n),!0},fg=(l,n,[i,a],o)=>{fi(l,[n,i,a],u=>u[0]===n&&u[1]===i,o)},dg=(l,[n,i,a],o)=>{const u=l.get(n);u===void 0?l.set(n,new Set([[i,a]])):fi(u,[i,a],p=>p[0]===i,o)},pa=l=>"inputs"in l,fo=(l,n,i,a)=>{if(pa(n)){const o=n.inputs[a];return l.connect(o,i,0),[o,i,0]}return l.connect(n,i,a),[n,i,a]},Bg=(l,n,i)=>{for(const a of l)if(a[0]===n&&a[1]===i)return l.delete(a),a;return null},Ky=(l,n,i)=>To(l,a=>a[0]===n&&a[1]===i),Lg=(l,n)=>{if(!Or(l).delete(n))throw new Error("Missing the expected event listener.")},Hg=(l,n,i)=>{const a=Sn(l,n),o=To(a,u=>u[0]===i);return a.size===0&&l.delete(n),o},po=(l,n,i,a)=>{pa(n)?l.disconnect(n.inputs[a],i,0):l.disconnect(n,i,a)},It=l=>Sn(yh,l),Tr=l=>Sn(bh,l),ui=l=>ch.has(l),ro=l=>!ra.has(l),pg=(l,n)=>new Promise(i=>{if(n!==null)i(!0);else{const a=l.createScriptProcessor(256,1,1),o=l.createGain(),u=l.createBuffer(1,2,44100),p=u.getChannelData(0);p[0]=1,p[1]=1;const f=l.createBufferSource();f.buffer=u,f.loop=!0,f.connect(a).connect(l.destination),f.connect(o),f.disconnect(o),a.onaudioprocess=m=>{const d=m.inputBuffer.getChannelData(0);Array.prototype.some.call(d,g=>g===1)?i(!0):i(!1),f.stop(),a.onaudioprocess=null,f.disconnect(a),a.disconnect(l.destination)},f.start()}}),sh=(l,n)=>{const i=new Map;for(const a of l)for(const o of a){const u=i.get(o);i.set(o,u===void 0?1:u+1)}i.forEach((a,o)=>n(o,a))},mo=l=>"context"in l,Jy=l=>{const n=new Map;l.connect=(i=>(a,o=0,u=0)=>{const p=mo(a)?i(a,o,u):i(a,o),f=n.get(a);return f===void 0?n.set(a,[{input:u,output:o}]):f.every(m=>m.input!==u||m.output!==o)&&f.push({input:u,output:o}),p})(l.connect.bind(l)),l.disconnect=(i=>(a,o,u)=>{if(i.apply(l),a===void 0)n.clear();else if(typeof a=="number")for(const[p,f]of n){const m=f.filter(d=>d.output!==a);m.length===0?n.delete(p):n.set(p,m)}else if(n.has(a))if(o===void 0)n.delete(a);else{const p=n.get(a);if(p!==void 0){const f=p.filter(m=>m.output!==o&&(m.input!==u||u===void 0));f.length===0?n.delete(a):n.set(a,f)}}for(const[p,f]of n)f.forEach(m=>{mo(p)?l.connect(p,m.output,m.input):l.connect(p,m.output)})})(l.disconnect)},$y=(l,n,i,a)=>{const{activeInputs:o,passiveInputs:u}=Dr(n),{outputs:p}=Re(l),f=Or(l),m=d=>{const g=It(l),v=Tr(n);if(d){const b=Hg(u,l,i);fg(o,l,b,!1),!a&&!ui(l)&&g.connect(v,i)}else{const b=Ky(o,l,i);dg(u,b,!1),!a&&!ui(l)&&g.disconnect(v,i)}};return fi(p,[n,i],d=>d[0]===n&&d[1]===i,!0)?(f.add(m),ts(l)?fg(o,l,[i,m],!0):dg(u,[l,i,m],!0),!0):!1},tb=(l,n,i,a)=>{const{activeInputs:o,passiveInputs:u}=Re(n),p=Bg(o[a],l,i);return p===null?[zg(u,l,i,a)[2],!1]:[p[2],!0]},eb=(l,n,i)=>{const{activeInputs:a,passiveInputs:o}=Dr(n),u=Bg(a,l,i);return u===null?[Hg(o,l,i)[1],!1]:[u[2],!0]},Th=(l,n,i,a,o)=>{const[u,p]=tb(l,i,a,o);if(u!==null&&(Lg(l,u),p&&!n&&!ui(l)&&po(It(l),It(i),a,o)),ts(i)){const{activeInputs:f}=Re(i);fh(i,f)}},xh=(l,n,i,a)=>{const[o,u]=eb(l,i,a);o!==null&&(Lg(l,o),u&&!n&&!ui(l)&&It(l).disconnect(Tr(i),a))},nb=(l,n)=>{const i=Re(l),a=[];for(const o of i.outputs)Rr(o)?Th(l,n,...o):xh(l,n,...o),a.push(o[0]);return i.outputs.clear(),a},sb=(l,n,i)=>{const a=Re(l),o=[];for(const u of a.outputs)u[1]===i&&(Rr(u)?Th(l,n,...u):xh(l,n,...u),o.push(u[0]),a.outputs.delete(u));return o},ib=(l,n,i,a,o)=>{const u=Re(l);return Array.from(u.outputs).filter(p=>p[0]===i&&(a===void 0||p[1]===a)&&(o===void 0||p[2]===o)).map(p=>(Rr(p)?Th(l,n,...p):xh(l,n,...p),u.outputs.delete(p),p[0]))},ab=(l,n,i,a,o,u,p,f,m,d,g,v,b,y,S,x)=>class extends d{constructor(E,D,M,U){super(M),this._context=E,this._nativeAudioNode=M;const C=g(E);v(C)&&i(pg,()=>pg(C,x))!==!0&&Jy(M),yh.set(this,M),kg.set(this,new Set),E.state!=="closed"&&D&&la(this),l(this,U,M)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(E){this._nativeAudioNode.channelCount=E}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(E){this._nativeAudioNode.channelCountMode=E}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(E){this._nativeAudioNode.channelInterpretation=E}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(E,D=0,M=0){if(D<0||D>=this._nativeAudioNode.numberOfOutputs)throw o();const U=g(this._context),C=S(U);if(b(E)||y(E))throw u();if(ho(E)){const R=It(E);try{const F=fo(this._nativeAudioNode,R,D,M),Z=ro(this);(C||Z)&&this._nativeAudioNode.disconnect(...F),this.context.state!=="closed"&&!Z&&ro(E)&&la(E)}catch(F){throw F.code===12?u():F}if(n(this,E,D,M,C)){const F=m([this],E);sh(F,a(C))}return E}const j=Tr(E);if(j.name==="playbackRate"&&j.maxValue===1024)throw p();try{this._nativeAudioNode.connect(j,D),(C||ro(this))&&this._nativeAudioNode.disconnect(j,D)}catch(R){throw R.code===12?u():R}if($y(this,E,D,C)){const R=m([this],E);sh(R,a(C))}}disconnect(E,D,M){let U;const C=g(this._context),j=S(C);if(E===void 0)U=nb(this,j);else if(typeof E=="number"){if(E<0||E>=this.numberOfOutputs)throw o();U=sb(this,j,E)}else{if(D!==void 0&&(D<0||D>=this.numberOfOutputs)||ho(E)&&M!==void 0&&(M<0||M>=E.numberOfInputs))throw o();if(U=ib(this,j,E,D,M),U.length===0)throw u()}for(const V of U){const R=m([this],V);sh(R,f)}}},rb=(l,n,i,a,o,u,p,f,m,d,g,v,b)=>(y,S,x,A=null,E=null)=>{const D=x.value,M=new gy(D),U=S?a(M):null,C={get defaultValue(){return D},get maxValue(){return A===null?x.maxValue:A},get minValue(){return E===null?x.minValue:E},get value(){return x.value},set value(j){x.value=j,C.setValueAtTime(j,y.context.currentTime)},cancelAndHoldAtTime(j){if(typeof x.cancelAndHoldAtTime=="function")U===null&&M.flush(y.context.currentTime),M.add(o(j)),x.cancelAndHoldAtTime(j);else{const V=Array.from(M).pop();U===null&&M.flush(y.context.currentTime),M.add(o(j));const R=Array.from(M).pop();x.cancelScheduledValues(j),V!==R&&R!==void 0&&(R.type==="exponentialRampToValue"?x.exponentialRampToValueAtTime(R.value,R.endTime):R.type==="linearRampToValue"?x.linearRampToValueAtTime(R.value,R.endTime):R.type==="setValue"?x.setValueAtTime(R.value,R.startTime):R.type==="setValueCurve"&&x.setValueCurveAtTime(R.values,R.startTime,R.duration))}return C},cancelScheduledValues(j){return U===null&&M.flush(y.context.currentTime),M.add(u(j)),x.cancelScheduledValues(j),C},exponentialRampToValueAtTime(j,V){if(j===0)throw new RangeError;if(!Number.isFinite(V)||V<0)throw new RangeError;const R=y.context.currentTime;return U===null&&M.flush(R),Array.from(M).length===0&&(M.add(d(D,R)),x.setValueAtTime(D,R)),M.add(p(j,V)),x.exponentialRampToValueAtTime(j,V),C},linearRampToValueAtTime(j,V){const R=y.context.currentTime;return U===null&&M.flush(R),Array.from(M).length===0&&(M.add(d(D,R)),x.setValueAtTime(D,R)),M.add(f(j,V)),x.linearRampToValueAtTime(j,V),C},setTargetAtTime(j,V,R){return U===null&&M.flush(y.context.currentTime),M.add(m(j,V,R)),x.setTargetAtTime(j,V,R),C},setValueAtTime(j,V){return U===null&&M.flush(y.context.currentTime),M.add(d(j,V)),x.setValueAtTime(j,V),C},setValueCurveAtTime(j,V,R){const Q=j instanceof Float32Array?j:new Float32Array(j);if(v!==null&&v.name==="webkitAudioContext"){const F=V+R,Z=y.context.sampleRate,I=Math.ceil(V*Z),st=Math.floor(F*Z),et=st-I,it=new Float32Array(et);for(let Y=0;Y<et;Y+=1){const $=(Q.length-1)/R*((I+Y)/Z-V),nt=Math.floor($),N=Math.ceil($);it[Y]=nt===N?Q[nt]:(1-($-nt))*Q[nt]+(1-(N-$))*Q[N]}U===null&&M.flush(y.context.currentTime),M.add(g(it,V,R)),x.setValueCurveAtTime(it,V,R);const k=st/Z;k<F&&b(C,it[it.length-1],k),b(C,Q[Q.length-1],F)}else U===null&&M.flush(y.context.currentTime),M.add(g(Q,V,R)),x.setValueCurveAtTime(Q,V,R);return C}};return i.set(C,x),n.set(C,y),l(C,U),C},lb=l=>({replay(n){for(const i of l)if(i.type==="exponentialRampToValue"){const{endTime:a,value:o}=i;n.exponentialRampToValueAtTime(o,a)}else if(i.type==="linearRampToValue"){const{endTime:a,value:o}=i;n.linearRampToValueAtTime(o,a)}else if(i.type==="setTarget"){const{startTime:a,target:o,timeConstant:u}=i;n.setTargetAtTime(o,a,u)}else if(i.type==="setValue"){const{startTime:a,value:o}=i;n.setValueAtTime(o,a)}else if(i.type==="setValueCurve"){const{duration:a,startTime:o,values:u}=i;n.setValueCurveAtTime(u,o,a)}else throw new Error("Can't apply an unknown automation.")}});class Yg{constructor(n){this._map=new Map(n)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(n,i=null){return this._map.forEach((a,o)=>n.call(i,a,o,this))}get(n){return this._map.get(n)}has(n){return this._map.has(n)}keys(){return this._map.keys()}values(){return this._map.values()}}const ob={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},cb=(l,n,i,a,o,u,p,f,m,d,g,v,b,y)=>class extends n{constructor(x,A,E){var D;const M=f(x),U=m(M),C=g({...ob,...E});b(C);const j=uh.get(M),V=j==null?void 0:j.get(A),R=U||M.state!=="closed"?M:(D=p(M))!==null&&D!==void 0?D:M,Q=o(R,U?null:x.baseLatency,d,A,V,C),F=U?a(A,C,V):null;super(x,!0,Q,F);const Z=[];Q.parameters.forEach((st,et)=>{const it=i(this,U,st);Z.push([et,it])}),this._nativeAudioWorkletNode=Q,this._onprocessorerror=null,this._parameters=new Yg(Z),U&&l(M,this);const{activeInputs:I}=u(this);v(Q,I)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(x){const A=typeof x=="function"?y(this,x):null;this._nativeAudioWorkletNode.onprocessorerror=A;const E=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=E!==null&&E===A?x:E}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function go(l,n,i,a,o){if(typeof l.copyFromChannel=="function")n[i].byteLength===0&&(n[i]=new Float32Array(128)),l.copyFromChannel(n[i],a,o);else{const u=l.getChannelData(a);if(n[i].byteLength===0)n[i]=u.slice(o,o+128);else{const p=new Float32Array(u.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);n[i].set(p)}}}const Gg=(l,n,i,a,o)=>{typeof l.copyToChannel=="function"?n[i].byteLength!==0&&l.copyToChannel(n[i],a,o):n[i].byteLength!==0&&l.getChannelData(a).set(n[i],o)},_o=(l,n)=>{const i=[];for(let a=0;a<l;a+=1){const o=[],u=typeof n=="number"?n:n[a];for(let p=0;p<u;p+=1)o.push(new Float32Array(128));i.push(o)}return i},ub=(l,n)=>{const i=Sn(hh,l),a=It(n);return Sn(i,a)},hb=async(l,n,i,a,o,u,p)=>{const f=n===null?Math.ceil(l.context.length/128)*128:n.length,m=a.channelCount*a.numberOfInputs,d=o.reduce((A,E)=>A+E,0),g=d===0?null:i.createBuffer(d,f,i.sampleRate);if(u===void 0)throw new Error("Missing the processor constructor.");const v=Re(l),b=await ub(i,l),y=_o(a.numberOfInputs,a.channelCount),S=_o(a.numberOfOutputs,o),x=Array.from(l.parameters.keys()).reduce((A,E)=>({...A,[E]:new Float32Array(128)}),{});for(let A=0;A<f;A+=128){if(a.numberOfInputs>0&&n!==null)for(let E=0;E<a.numberOfInputs;E+=1)for(let D=0;D<a.channelCount;D+=1)go(n,y[E],D,D,A);u.parameterDescriptors!==void 0&&n!==null&&u.parameterDescriptors.forEach(({name:E},D)=>{go(n,x,E,m+D,A)});for(let E=0;E<a.numberOfInputs;E+=1)for(let D=0;D<o[E];D+=1)S[E][D].byteLength===0&&(S[E][D]=new Float32Array(128));try{const E=y.map((M,U)=>v.activeInputs[U].size===0?[]:M),D=p(A/i.sampleRate,i.sampleRate,()=>b.process(E,S,x));if(g!==null)for(let M=0,U=0;M<a.numberOfOutputs;M+=1){for(let C=0;C<o[M];C+=1)Gg(g,S[M],C,U+C,A);U+=o[M]}if(!D)break}catch(E){l.dispatchEvent(new ErrorEvent("processorerror",{colno:E.colno,filename:E.filename,lineno:E.lineno,message:E.message}));break}}return g},fb=(l,n,i,a,o,u,p,f,m,d,g,v,b,y,S,x)=>(A,E,D)=>{const M=new WeakMap;let U=null;const C=async(j,V)=>{let R=g(j),Q=null;const F=Oe(R,V),Z=Array.isArray(E.outputChannelCount)?E.outputChannelCount:Array.from(E.outputChannelCount);if(v===null){const I=Z.reduce((k,Y)=>k+Y,0),st=o(V,{channelCount:Math.max(1,I),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,I)}),et=[];for(let k=0;k<j.numberOfOutputs;k+=1)et.push(a(V,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Z[k]}));const it=p(V,{channelCount:E.channelCount,channelCountMode:E.channelCountMode,channelInterpretation:E.channelInterpretation,gain:1});it.connect=n.bind(null,et),it.disconnect=m.bind(null,et),Q=[st,et,it]}else F||(R=new v(V,A));if(M.set(V,Q===null?R:Q[2]),Q!==null){if(U===null){if(D===void 0)throw new Error("Missing the processor constructor.");if(b===null)throw new Error("Missing the native OfflineAudioContext constructor.");const Y=j.channelCount*j.numberOfInputs,$=D.parameterDescriptors===void 0?0:D.parameterDescriptors.length,nt=Y+$;U=hb(j,nt===0?null:await(async()=>{const L=new b(nt,Math.ceil(j.context.length/128)*128,V.sampleRate),tt=[],W=[];for(let ot=0;ot<E.numberOfInputs;ot+=1)tt.push(p(L,{channelCount:E.channelCount,channelCountMode:E.channelCountMode,channelInterpretation:E.channelInterpretation,gain:1})),W.push(o(L,{channelCount:E.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:E.channelCount}));const rt=await Promise.all(Array.from(j.parameters.values()).map(async ot=>{const Rt=u(L,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ot.value});return await y(L,ot,Rt.offset),Rt})),at=a(L,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,Y+$)});for(let ot=0;ot<E.numberOfInputs;ot+=1){tt[ot].connect(W[ot]);for(let Rt=0;Rt<E.channelCount;Rt+=1)W[ot].connect(at,Rt,ot*E.channelCount+Rt)}for(const[ot,Rt]of rt.entries())Rt.connect(at,0,Y+ot),Rt.start(0);return at.connect(L.destination),await Promise.all(tt.map(ot=>S(j,L,ot))),x(L)})(),V,E,Z,D,d)}const I=await U,st=i(V,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[et,it,k]=Q;I!==null&&(st.buffer=I,st.start(0)),st.connect(et);for(let Y=0,$=0;Y<j.numberOfOutputs;Y+=1){const nt=it[Y];for(let N=0;N<Z[Y];N+=1)et.connect(nt,$+N,N);$+=Z[Y]}return k}if(F)for(const[I,st]of j.parameters.entries())await l(V,st,R.parameters.get(I));else for(const[I,st]of j.parameters.entries())await y(V,st,R.parameters.get(I));return await S(j,V,R),R};return{render(j,V){f(V,j);const R=M.get(V);return R!==void 0?Promise.resolve(R):C(j,V)}}},db=(l,n,i,a,o,u,p,f,m,d,g,v,b,y,S,x,A,E,D,M)=>class extends S{constructor(C,j){super(C,j),this._nativeContext=C,this._audioWorklet=l===void 0?void 0:{addModule:(V,R)=>l(this,V,R)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new n(this)}createBiquadFilter(){return new o(this)}createBuffer(C,j,V){return new i({length:j,numberOfChannels:C,sampleRate:V})}createBufferSource(){return new a(this)}createChannelMerger(C=6){return new u(this,{numberOfInputs:C})}createChannelSplitter(C=6){return new p(this,{numberOfOutputs:C})}createConstantSource(){return new f(this)}createConvolver(){return new m(this)}createDelay(C=1){return new g(this,{maxDelayTime:C})}createDynamicsCompressor(){return new v(this)}createGain(){return new b(this)}createIIRFilter(C,j){return new y(this,{feedback:j,feedforward:C})}createOscillator(){return new x(this)}createPanner(){return new A(this)}createPeriodicWave(C,j,V={disableNormalization:!1}){return new E(this,{...V,imag:j,real:C})}createStereoPanner(){return new D(this)}createWaveShaper(){return new M(this)}decodeAudioData(C,j,V){return d(this._nativeContext,C).then(R=>(typeof j=="function"&&j(R),R),R=>{throw typeof V=="function"&&V(R),R})}},pb={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},mb=(l,n,i,a,o,u,p,f)=>class extends l{constructor(d,g){const v=u(d),b={...pb,...g},y=o(v,b),S=p(v),x=S?i():null;super(d,!1,y,x),this._Q=n(this,S,y.Q,De,We),this._detune=n(this,S,y.detune,1200*Math.log2(De),-1200*Math.log2(De)),this._frequency=n(this,S,y.frequency,d.sampleRate/2,0),this._gain=n(this,S,y.gain,40*Math.log10(De),We),this._nativeBiquadFilterNode=y,f(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(d){this._nativeBiquadFilterNode.type=d}getFrequencyResponse(d,g,v){try{this._nativeBiquadFilterNode.getFrequencyResponse(d,g,v)}catch(b){throw b.code===11?a():b}if(d.length!==g.length||g.length!==v.length)throw a()}},gb=(l,n,i,a,o)=>()=>{const u=new WeakMap,p=async(f,m)=>{let d=i(f);const g=Oe(d,m);if(!g){const v={Q:d.Q.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,gain:d.gain.value,type:d.type};d=n(m,v)}return u.set(m,d),g?(await l(m,f.Q,d.Q),await l(m,f.detune,d.detune),await l(m,f.frequency,d.frequency),await l(m,f.gain,d.gain)):(await a(m,f.Q,d.Q),await a(m,f.detune,d.detune),await a(m,f.frequency,d.frequency),await a(m,f.gain,d.gain)),await o(f,m,d),d};return{render(f,m){const d=u.get(m);return d!==void 0?Promise.resolve(d):p(f,m)}}},_b=(l,n)=>(i,a)=>{const o=n.get(i);if(o!==void 0)return o;const u=l.get(i);if(u!==void 0)return u;try{const p=a();return p instanceof Promise?(l.set(i,p),p.catch(()=>!1).then(f=>(l.delete(i),n.set(i,f),f))):(n.set(i,p),p)}catch{return n.set(i,!1),!1}},vb={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},yb=(l,n,i,a,o)=>class extends l{constructor(p,f){const m=a(p),d={...vb,...f},g=i(m,d),v=o(m)?n():null;super(p,!1,g,v)}},bb=(l,n,i)=>()=>{const a=new WeakMap,o=async(u,p)=>{let f=n(u);if(!Oe(f,p)){const d={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,numberOfInputs:f.numberOfInputs};f=l(p,d)}return a.set(p,f),await i(u,p,f),f};return{render(u,p){const f=a.get(p);return f!==void 0?Promise.resolve(f):o(u,p)}}},Sb={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},Tb=(l,n,i,a,o,u)=>class extends l{constructor(f,m){const d=a(f),g=u({...Sb,...m}),v=i(d,g),b=o(d)?n():null;super(f,!1,v,b)}},xb=(l,n,i)=>()=>{const a=new WeakMap,o=async(u,p)=>{let f=n(u);if(!Oe(f,p)){const d={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,numberOfOutputs:f.numberOfOutputs};f=l(p,d)}return a.set(p,f),await i(u,p,f),f};return{render(u,p){const f=a.get(p);return f!==void 0?Promise.resolve(f):o(u,p)}}},wb=l=>(n,i,a)=>l(i,n,a),Ab=l=>(n,i,a=0,o=0)=>{const u=n[a];if(u===void 0)throw l();return mo(i)?u.connect(i,0,o):u.connect(i,0)},Cb=l=>(n,i)=>{const a=l(n,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=n.createBuffer(1,2,44100);return a.buffer=o,a.loop=!0,a.connect(i),a.start(),()=>{a.stop(),a.disconnect(i)}},Nb={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Eb=(l,n,i,a,o,u,p)=>class extends l{constructor(m,d){const g=o(m),v={...Nb,...d},b=a(g,v),y=u(g),S=y?i():null;super(m,!1,b,S),this._constantSourceNodeRenderer=S,this._nativeConstantSourceNode=b,this._offset=n(this,y,b.offset,De,We),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(m){const d=typeof m=="function"?p(this,m):null;this._nativeConstantSourceNode.onended=d;const g=this._nativeConstantSourceNode.onended;this._onended=g!==null&&g===d?m:g}start(m=0){if(this._nativeConstantSourceNode.start(m),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=m),this.context.state!=="closed"){la(this);const d=()=>{this._nativeConstantSourceNode.removeEventListener("ended",d),ts(this)&&Mr(this)};this._nativeConstantSourceNode.addEventListener("ended",d)}}stop(m=0){this._nativeConstantSourceNode.stop(m),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=m)}},Ob=(l,n,i,a,o)=>()=>{const u=new WeakMap;let p=null,f=null;const m=async(d,g)=>{let v=i(d);const b=Oe(v,g);if(!b){const y={channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,offset:v.offset.value};v=n(g,y),p!==null&&v.start(p),f!==null&&v.stop(f)}return u.set(g,v),b?await l(g,d.offset,v.offset):await a(g,d.offset,v.offset),await o(d,g,v),v};return{set start(d){p=d},set stop(d){f=d},render(d,g){const v=u.get(g);return v!==void 0?Promise.resolve(v):m(d,g)}}},Mb=l=>n=>(l[0]=n,l[0]),Db={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Rb=(l,n,i,a,o,u)=>class extends l{constructor(f,m){const d=a(f),g={...Db,...m},v=i(d,g),y=o(d)?n():null;super(f,!1,v,y),this._isBufferNullified=!1,this._nativeConvolverNode=v,g.buffer!==null&&u(this,g.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(f){if(this._nativeConvolverNode.buffer=f,f===null&&this._nativeConvolverNode.buffer!==null){const m=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=m.createBuffer(1,1,m.sampleRate),this._isBufferNullified=!0,u(this,0)}else this._isBufferNullified=!1,u(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(f){this._nativeConvolverNode.normalize=f}},kb=(l,n,i)=>()=>{const a=new WeakMap,o=async(u,p)=>{let f=n(u);if(!Oe(f,p)){const d={buffer:f.buffer,channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,disableNormalization:!f.normalize};f=l(p,d)}return a.set(p,f),pa(f)?await i(u,p,f.inputs[0]):await i(u,p,f),f};return{render(u,p){const f=a.get(p);return f!==void 0?Promise.resolve(f):o(u,p)}}},jb=(l,n)=>(i,a,o)=>{if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new n(i,a,o)}catch(u){throw u.name==="SyntaxError"?l():u}},zb=()=>new DOMException("","DataCloneError"),mg=l=>{const{port1:n,port2:i}=new MessageChannel;return new Promise(a=>{const o=()=>{i.onmessage=null,n.close(),i.close(),a()};i.onmessage=()=>o();try{n.postMessage(l,[l])}catch{}finally{o()}})},Vb=(l,n,i,a,o,u,p,f,m,d,g)=>(v,b)=>{const y=p(v)?v:u(v);if(o.has(b)){const S=i();return Promise.reject(S)}try{o.add(b)}catch{}return n(m,()=>m(y))?y.decodeAudioData(b).then(S=>(mg(b).catch(()=>{}),n(f,()=>f(S))||g(S),l.add(S),S)):new Promise((S,x)=>{const A=async()=>{try{await mg(b)}catch{}},E=D=>{x(D),A()};try{y.decodeAudioData(b,D=>{typeof D.copyFromChannel!="function"&&(d(D),Sh(D)),l.add(D),A().then(()=>S(D))},D=>{E(D===null?a():D)})}catch(D){E(D)}})},qb=(l,n,i,a,o,u,p,f)=>(m,d)=>{const g=n.get(m);if(g===void 0)throw new Error("Missing the expected cycle count.");const v=u(m.context),b=f(v);if(g===d){if(n.delete(m),!b&&p(m)){const y=a(m),{outputs:S}=i(m);for(const x of S)if(Rr(x)){const A=a(x[0]);l(y,A,x[1],x[2])}else{const A=o(x[0]);y.connect(A,x[1])}}}else n.set(m,g-d)},Ub={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Bb=(l,n,i,a,o,u,p)=>class extends l{constructor(m,d){const g=o(m),v={...Ub,...d},b=a(g,v),y=u(g),S=y?i(v.maxDelayTime):null;super(m,!1,b,S),this._delayTime=n(this,y,b.delayTime),p(this,v.maxDelayTime)}get delayTime(){return this._delayTime}},Lb=(l,n,i,a,o)=>u=>{const p=new WeakMap,f=async(m,d)=>{let g=i(m);const v=Oe(g,d);if(!v){const b={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,delayTime:g.delayTime.value,maxDelayTime:u};g=n(d,b)}return p.set(d,g),v?await l(d,m.delayTime,g.delayTime):await a(d,m.delayTime,g.delayTime),await o(m,d,g),g};return{render(m,d){const g=p.get(d);return g!==void 0?Promise.resolve(g):f(m,d)}}},Hb=l=>(n,i,a,o)=>l(n[o],u=>u[0]===i&&u[1]===a),Yb=l=>(n,i)=>{l(n).delete(i)},Gb=l=>"delayTime"in l,Xb=(l,n,i)=>function a(o,u){const p=ho(u)?u:i(l,u);if(Gb(p))return[];if(o[0]===p)return[o];if(o.includes(p))return[];const{outputs:f}=n(p);return Array.from(f).map(m=>a([...o,p],m[0])).reduce((m,d)=>m.concat(d),[])},no=(l,n,i)=>{const a=n[i];if(a===void 0)throw l();return a},Ib=l=>(n,i=void 0,a=void 0,o=0)=>i===void 0?n.forEach(u=>u.disconnect()):typeof i=="number"?no(l,n,i).disconnect():mo(i)?a===void 0?n.forEach(u=>u.disconnect(i)):o===void 0?no(l,n,a).disconnect(i,0):no(l,n,a).disconnect(i,0,o):a===void 0?n.forEach(u=>u.disconnect(i)):no(l,n,a).disconnect(i,0),Zb={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Qb=(l,n,i,a,o,u,p,f)=>class extends l{constructor(d,g){const v=u(d),b={...Zb,...g},y=a(v,b),S=p(v),x=S?i():null;super(d,!1,y,x),this._attack=n(this,S,y.attack),this._knee=n(this,S,y.knee),this._nativeDynamicsCompressorNode=y,this._ratio=n(this,S,y.ratio),this._release=n(this,S,y.release),this._threshold=n(this,S,y.threshold),f(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(d){const g=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=d,d>2)throw this._nativeDynamicsCompressorNode.channelCount=g,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(d){const g=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=d,d==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=g,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},Fb=(l,n,i,a,o)=>()=>{const u=new WeakMap,p=async(f,m)=>{let d=i(f);const g=Oe(d,m);if(!g){const v={attack:d.attack.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,knee:d.knee.value,ratio:d.ratio.value,release:d.release.value,threshold:d.threshold.value};d=n(m,v)}return u.set(m,d),g?(await l(m,f.attack,d.attack),await l(m,f.knee,d.knee),await l(m,f.ratio,d.ratio),await l(m,f.release,d.release),await l(m,f.threshold,d.threshold)):(await a(m,f.attack,d.attack),await a(m,f.knee,d.knee),await a(m,f.ratio,d.ratio),await a(m,f.release,d.release),await a(m,f.threshold,d.threshold)),await o(f,m,d),d};return{render(f,m){const d=u.get(m);return d!==void 0?Promise.resolve(d):p(f,m)}}},Wb=()=>new DOMException("","EncodingError"),Pb=l=>n=>new Promise((i,a)=>{if(l===null){a(new SyntaxError);return}const o=l.document.head;if(o===null)a(new SyntaxError);else{const u=l.document.createElement("script"),p=new Blob([n],{type:"application/javascript"}),f=URL.createObjectURL(p),m=l.onerror,d=()=>{l.onerror=m,URL.revokeObjectURL(f)};l.onerror=(g,v,b,y,S)=>{if(v===f||v===l.location.href&&b===1&&y===1)return d(),a(S),!1;if(m!==null)return m(g,v,b,y,S)},u.onerror=()=>{d(),a(new SyntaxError)},u.onload=()=>{d(),i()},u.src=f,u.type="module",o.appendChild(u)}}),Kb=l=>class{constructor(i){this._nativeEventTarget=i,this._listeners=new WeakMap}addEventListener(i,a,o){if(a!==null){let u=this._listeners.get(a);u===void 0&&(u=l(this,a),typeof a=="function"&&this._listeners.set(a,u)),this._nativeEventTarget.addEventListener(i,u,o)}}dispatchEvent(i){return this._nativeEventTarget.dispatchEvent(i)}removeEventListener(i,a,o){const u=a===null?void 0:this._listeners.get(a);this._nativeEventTarget.removeEventListener(i,u===void 0?null:u,o)}},Jb=l=>(n,i,a)=>{Object.defineProperties(l,{currentFrame:{configurable:!0,get(){return Math.round(n*i)}},currentTime:{configurable:!0,get(){return n}}});try{return a()}finally{l!==null&&(delete l.currentFrame,delete l.currentTime)}},$b=l=>async n=>{try{const i=await fetch(n);if(i.ok)return[await i.text(),i.url]}catch{}throw l()},t1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},e1=(l,n,i,a,o,u)=>class extends l{constructor(f,m){const d=o(f),g={...t1,...m},v=a(d,g),b=u(d),y=b?i():null;super(f,!1,v,y),this._gain=n(this,b,v.gain,De,We)}get gain(){return this._gain}},n1=(l,n,i,a,o)=>()=>{const u=new WeakMap,p=async(f,m)=>{let d=i(f);const g=Oe(d,m);if(!g){const v={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,gain:d.gain.value};d=n(m,v)}return u.set(m,d),g?await l(m,f.gain,d.gain):await a(m,f.gain,d.gain),await o(f,m,d),d};return{render(f,m){const d=u.get(m);return d!==void 0?Promise.resolve(d):p(f,m)}}},s1=(l,n)=>i=>n(l,i),i1=l=>n=>{const i=l(n);if(i.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return i.renderer},a1=l=>n=>{var i;return(i=l.get(n))!==null&&i!==void 0?i:0},r1=l=>n=>{const i=l(n);if(i.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return i.renderer},l1=l=>n=>l.get(n),ge=()=>new DOMException("","InvalidStateError"),o1=l=>n=>{const i=l.get(n);if(i===void 0)throw ge();return i},c1=(l,n)=>i=>{let a=l.get(i);if(a!==void 0)return a;if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");return a=new n(1,1,44100),l.set(i,a),a},u1=l=>n=>{const i=l.get(n);if(i===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return i},xo=()=>new DOMException("","InvalidAccessError"),h1=l=>{l.getFrequencyResponse=(n=>(i,a,o)=>{if(i.length!==a.length||a.length!==o.length)throw xo();return n.call(l,i,a,o)})(l.getFrequencyResponse)},f1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},d1=(l,n,i,a,o,u)=>class extends l{constructor(f,m){const d=a(f),g=o(d),v={...f1,...m},b=n(d,g?null:f.baseLatency,v),y=g?i(v.feedback,v.feedforward):null;super(f,!1,b,y),h1(b),this._nativeIIRFilterNode=b,u(this,1)}getFrequencyResponse(f,m,d){return this._nativeIIRFilterNode.getFrequencyResponse(f,m,d)}},Xg=(l,n,i,a,o,u,p,f,m,d,g)=>{const v=d.length;let b=f;for(let y=0;y<v;y+=1){let S=i[0]*d[y];for(let x=1;x<o;x+=1){const A=b-x&m-1;S+=i[x]*u[A],S-=l[x]*p[A]}for(let x=o;x<a;x+=1)S+=i[x]*u[b-x&m-1];for(let x=o;x<n;x+=1)S-=l[x]*p[b-x&m-1];u[b]=d[y],p[b]=S,b=b+1&m-1,g[y]=S}return b},p1=(l,n,i,a)=>{const o=i instanceof Float64Array?i:new Float64Array(i),u=a instanceof Float64Array?a:new Float64Array(a),p=o.length,f=u.length,m=Math.min(p,f);if(o[0]!==1){for(let S=0;S<p;S+=1)u[S]/=o[0];for(let S=1;S<f;S+=1)o[S]/=o[0]}const d=32,g=new Float32Array(d),v=new Float32Array(d),b=n.createBuffer(l.numberOfChannels,l.length,l.sampleRate),y=l.numberOfChannels;for(let S=0;S<y;S+=1){const x=l.getChannelData(S),A=b.getChannelData(S);g.fill(0),v.fill(0),Xg(o,p,u,f,m,g,v,0,d,x,A)}return b},m1=(l,n,i,a,o)=>(u,p)=>{const f=new WeakMap;let m=null;const d=async(g,v)=>{let b=null,y=n(g);const S=Oe(y,v);if(v.createIIRFilter===void 0?b=l(v,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):S||(y=v.createIIRFilter(p,u)),f.set(v,b===null?y:b),b!==null){if(m===null){if(i===null)throw new Error("Missing the native OfflineAudioContext constructor.");const A=new i(g.context.destination.channelCount,g.context.length,v.sampleRate);m=(async()=>{await a(g,A,A.destination);const E=await o(A);return p1(E,v,u,p)})()}const x=await m;return b.buffer=x,b.start(0),b}return await a(g,v,y),y};return{render(g,v){const b=f.get(v);return b!==void 0?Promise.resolve(b):d(g,v)}}},g1=(l,n,i,a,o,u)=>p=>(f,m)=>{const d=l.get(f);if(d===void 0){if(!p&&u(f)){const g=a(f),{outputs:v}=i(f);for(const b of v)if(Rr(b)){const y=a(b[0]);n(g,y,b[1],b[2])}else{const y=o(b[0]);g.disconnect(y,b[1])}}l.set(f,m)}else l.set(f,d+m)},_1=(l,n)=>i=>{const a=l.get(i);return n(a)||n(i)},v1=(l,n)=>i=>l.has(i)||n(i),y1=(l,n)=>i=>l.has(i)||n(i),b1=(l,n)=>i=>{const a=l.get(i);return n(a)||n(i)},S1=l=>n=>l!==null&&n instanceof l,T1=l=>n=>l!==null&&typeof l.AudioNode=="function"&&n instanceof l.AudioNode,x1=l=>n=>l!==null&&typeof l.AudioParam=="function"&&n instanceof l.AudioParam,w1=(l,n)=>i=>l(i)||n(i),A1=l=>n=>l!==null&&n instanceof l,C1=l=>l!==null&&l.isSecureContext,N1=(l,n,i,a)=>class extends l{constructor(u,p){const f=i(u),m=n(f,p);if(a(f))throw TypeError();super(u,!0,m,null),this._nativeMediaElementAudioSourceNode=m}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},E1={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},O1=(l,n,i,a)=>class extends l{constructor(u,p){const f=i(u);if(a(f))throw new TypeError;const m={...E1,...p},d=n(f,m);super(u,!1,d,null),this._nativeMediaStreamAudioDestinationNode=d}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},M1=(l,n,i,a)=>class extends l{constructor(u,p){const f=i(u),m=n(f,p);if(a(f))throw new TypeError;super(u,!0,m,null),this._nativeMediaStreamAudioSourceNode=m}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},D1=(l,n,i)=>class extends l{constructor(o,u){const p=i(o),f=n(p,u);super(o,!0,f,null)}},R1=(l,n,i,a,o,u)=>class extends i{constructor(f,m){super(f),this._nativeContext=f,So.set(this,f),a(f)&&o.set(f,new Set),this._destination=new l(this,m),this._listener=n(this,f),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(f){const m=typeof f=="function"?u(this,f):null;this._nativeContext.onstatechange=m;const d=this._nativeContext.onstatechange;this._onstatechange=d!==null&&d===m?f:d}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},xr=l=>{const n=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const i=l.decodeAudioData(n.buffer,()=>{});return i===void 0?!1:(i.catch(()=>{}),!0)}catch{}return!1},k1=(l,n)=>(i,a,o)=>{const u=new Set;return i.connect=(p=>(f,m=0,d=0)=>{const g=u.size===0;if(n(f))return p.call(i,f,m,d),l(u,[f,m,d],v=>v[0]===f&&v[1]===m&&v[2]===d,!0),g&&a(),f;p.call(i,f,m),l(u,[f,m],v=>v[0]===f&&v[1]===m,!0),g&&a()})(i.connect),i.disconnect=(p=>(f,m,d)=>{const g=u.size>0;if(f===void 0)p.apply(i),u.clear();else if(typeof f=="number"){p.call(i,f);for(const b of u)b[1]===f&&u.delete(b)}else{n(f)?p.call(i,f,m,d):p.call(i,f,m);for(const b of u)b[0]===f&&(m===void 0||b[1]===m)&&(d===void 0||b[2]===d)&&u.delete(b)}const v=u.size===0;g&&v&&o()})(i.disconnect),i},Qt=(l,n,i)=>{const a=n[i];a!==void 0&&a!==l[i]&&(l[i]=a)},he=(l,n)=>{Qt(l,n,"channelCount"),Qt(l,n,"channelCountMode"),Qt(l,n,"channelInterpretation")},gg=l=>typeof l.getFloatTimeDomainData=="function",j1=l=>{l.getFloatTimeDomainData=n=>{const i=new Uint8Array(n.length);l.getByteTimeDomainData(i);const a=Math.max(i.length,l.fftSize);for(let o=0;o<a;o+=1)n[o]=(i[o]-128)*.0078125;return n}},z1=(l,n)=>(i,a)=>{const o=i.createAnalyser();if(he(o,a),!(a.maxDecibels>a.minDecibels))throw n();return Qt(o,a,"fftSize"),Qt(o,a,"maxDecibels"),Qt(o,a,"minDecibels"),Qt(o,a,"smoothingTimeConstant"),l(gg,()=>gg(o))||j1(o),o},V1=l=>l===null?null:l.hasOwnProperty("AudioBuffer")?l.AudioBuffer:null,Jt=(l,n,i)=>{const a=n[i];a!==void 0&&a!==l[i].value&&(l[i].value=a)},q1=l=>{l.start=(n=>{let i=!1;return(a=0,o=0,u)=>{if(i)throw ge();n.call(l,a,o,u),i=!0}})(l.start)},wh=l=>{l.start=(n=>(i=0,a=0,o)=>{if(typeof o=="number"&&o<0||a<0||i<0)throw new RangeError("The parameters can't be negative.");n.call(l,i,a,o)})(l.start)},Ah=l=>{l.stop=(n=>(i=0)=>{if(i<0)throw new RangeError("The parameter can't be negative.");n.call(l,i)})(l.stop)},U1=(l,n,i,a,o,u,p,f,m,d,g)=>(v,b)=>{const y=v.createBufferSource();return he(y,b),Jt(y,b,"playbackRate"),Qt(y,b,"buffer"),Qt(y,b,"loop"),Qt(y,b,"loopEnd"),Qt(y,b,"loopStart"),n(i,()=>i(v))||q1(y),n(a,()=>a(v))||m(y),n(o,()=>o(v))||d(y,v),n(u,()=>u(v))||wh(y),n(p,()=>p(v))||g(y,v),n(f,()=>f(v))||Ah(y),l(v,y),y},B1=l=>l===null?null:l.hasOwnProperty("AudioContext")?l.AudioContext:l.hasOwnProperty("webkitAudioContext")?l.webkitAudioContext:null,L1=(l,n)=>(i,a,o)=>{const u=i.destination;if(u.channelCount!==a)try{u.channelCount=a}catch{}o&&u.channelCountMode!=="explicit"&&(u.channelCountMode="explicit"),u.maxChannelCount===0&&Object.defineProperty(u,"maxChannelCount",{value:a});const p=l(i,{channelCount:a,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:1});return n(p,"channelCount",f=>()=>f.call(p),f=>m=>{f.call(p,m);try{u.channelCount=m}catch(d){if(m>u.maxChannelCount)throw d}}),n(p,"channelCountMode",f=>()=>f.call(p),f=>m=>{f.call(p,m),u.channelCountMode=m}),n(p,"channelInterpretation",f=>()=>f.call(p),f=>m=>{f.call(p,m),u.channelInterpretation=m}),Object.defineProperty(p,"maxChannelCount",{get:()=>u.maxChannelCount}),p.connect(u),p},H1=l=>l===null?null:l.hasOwnProperty("AudioWorkletNode")?l.AudioWorkletNode:null,Y1=l=>{const{port1:n}=new MessageChannel;try{n.postMessage(l)}finally{n.close()}},G1=(l,n,i,a,o)=>(u,p,f,m,d,g)=>{if(f!==null)try{const v=new f(u,m,g),b=new Map;let y=null;if(Object.defineProperties(v,{channelCount:{get:()=>g.channelCount,set:()=>{throw l()}},channelCountMode:{get:()=>"explicit",set:()=>{throw l()}},onprocessorerror:{get:()=>y,set:S=>{typeof y=="function"&&v.removeEventListener("processorerror",y),y=typeof S=="function"?S:null,typeof y=="function"&&v.addEventListener("processorerror",y)}}}),v.addEventListener=(S=>(...x)=>{if(x[0]==="processorerror"){const A=typeof x[1]=="function"?x[1]:typeof x[1]=="object"&&x[1]!==null&&typeof x[1].handleEvent=="function"?x[1].handleEvent:null;if(A!==null){const E=b.get(x[1]);E!==void 0?x[1]=E:(x[1]=D=>{D.type==="error"?(Object.defineProperties(D,{type:{value:"processorerror"}}),A(D)):A(new ErrorEvent(x[0],{...D}))},b.set(A,x[1]))}}return S.call(v,"error",x[1],x[2]),S.call(v,...x)})(v.addEventListener),v.removeEventListener=(S=>(...x)=>{if(x[0]==="processorerror"){const A=b.get(x[1]);A!==void 0&&(b.delete(x[1]),x[1]=A)}return S.call(v,"error",x[1],x[2]),S.call(v,x[0],x[1],x[2])})(v.removeEventListener),g.numberOfOutputs!==0){const S=i(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return v.connect(S).connect(u.destination),o(v,()=>S.disconnect(),()=>S.connect(u.destination))}return v}catch(v){throw v.code===11?a():v}if(d===void 0)throw a();return Y1(g),n(u,p,d,g)},Ig=(l,n)=>l===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(l*n))))),X1=l=>new Promise((n,i)=>{const{port1:a,port2:o}=new MessageChannel;a.onmessage=({data:u})=>{a.close(),o.close(),n(u)},a.onmessageerror=({data:u})=>{a.close(),o.close(),i(u)},o.postMessage(l)}),I1=async(l,n)=>{const i=await X1(n);return new l(i)},Z1=(l,n,i,a)=>{let o=hh.get(l);o===void 0&&(o=new WeakMap,hh.set(l,o));const u=I1(i,a);return o.set(n,u),u},Q1=(l,n,i,a,o,u,p,f,m,d,g,v,b)=>(y,S,x,A)=>{if(A.numberOfInputs===0&&A.numberOfOutputs===0)throw m();const E=Array.isArray(A.outputChannelCount)?A.outputChannelCount:Array.from(A.outputChannelCount);if(E.some(ct=>ct<1))throw m();if(E.length!==A.numberOfOutputs)throw n();if(A.channelCountMode!=="explicit")throw m();const D=A.channelCount*A.numberOfInputs,M=E.reduce((ct,mt)=>ct+mt,0),U=x.parameterDescriptors===void 0?0:x.parameterDescriptors.length;if(D+U>6||M>6)throw m();const C=new MessageChannel,j=[],V=[];for(let ct=0;ct<A.numberOfInputs;ct+=1)j.push(p(y,{channelCount:A.channelCount,channelCountMode:A.channelCountMode,channelInterpretation:A.channelInterpretation,gain:1})),V.push(o(y,{channelCount:A.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:A.channelCount}));const R=[];if(x.parameterDescriptors!==void 0)for(const{defaultValue:ct,maxValue:mt,minValue:Mt,name:Yt}of x.parameterDescriptors){const Ct=u(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:A.parameterData[Yt]!==void 0?A.parameterData[Yt]:ct===void 0?0:ct});Object.defineProperties(Ct.offset,{defaultValue:{get:()=>ct===void 0?0:ct},maxValue:{get:()=>mt===void 0?De:mt},minValue:{get:()=>Mt===void 0?We:Mt}}),R.push(Ct)}const Q=a(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,D+U)}),F=Ig(S,y.sampleRate),Z=f(y,F,D+U,Math.max(1,M)),I=o(y,{channelCount:Math.max(1,M),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,M)}),st=[];for(let ct=0;ct<A.numberOfOutputs;ct+=1)st.push(a(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:E[ct]}));for(let ct=0;ct<A.numberOfInputs;ct+=1){j[ct].connect(V[ct]);for(let mt=0;mt<A.channelCount;mt+=1)V[ct].connect(Q,mt,ct*A.channelCount+mt)}const et=new Yg(x.parameterDescriptors===void 0?[]:x.parameterDescriptors.map(({name:ct},mt)=>{const Mt=R[mt];return Mt.connect(Q,0,D+mt),Mt.start(0),[ct,Mt.offset]}));Q.connect(Z);let it=A.channelInterpretation,k=null;const Y=A.numberOfOutputs===0?[Z]:st,$={get bufferSize(){return F},get channelCount(){return A.channelCount},set channelCount(ct){throw i()},get channelCountMode(){return A.channelCountMode},set channelCountMode(ct){throw i()},get channelInterpretation(){return it},set channelInterpretation(ct){for(const mt of j)mt.channelInterpretation=ct;it=ct},get context(){return Z.context},get inputs(){return j},get numberOfInputs(){return A.numberOfInputs},get numberOfOutputs(){return A.numberOfOutputs},get onprocessorerror(){return k},set onprocessorerror(ct){typeof k=="function"&&$.removeEventListener("processorerror",k),k=typeof ct=="function"?ct:null,typeof k=="function"&&$.addEventListener("processorerror",k)},get parameters(){return et},get port(){return C.port2},addEventListener(...ct){return Z.addEventListener(ct[0],ct[1],ct[2])},connect:l.bind(null,Y),disconnect:d.bind(null,Y),dispatchEvent(...ct){return Z.dispatchEvent(ct[0])},removeEventListener(...ct){return Z.removeEventListener(ct[0],ct[1],ct[2])}},nt=new Map;C.port1.addEventListener=(ct=>(...mt)=>{if(mt[0]==="message"){const Mt=typeof mt[1]=="function"?mt[1]:typeof mt[1]=="object"&&mt[1]!==null&&typeof mt[1].handleEvent=="function"?mt[1].handleEvent:null;if(Mt!==null){const Yt=nt.get(mt[1]);Yt!==void 0?mt[1]=Yt:(mt[1]=Ct=>{g(y.currentTime,y.sampleRate,()=>Mt(Ct))},nt.set(Mt,mt[1]))}}return ct.call(C.port1,mt[0],mt[1],mt[2])})(C.port1.addEventListener),C.port1.removeEventListener=(ct=>(...mt)=>{if(mt[0]==="message"){const Mt=nt.get(mt[1]);Mt!==void 0&&(nt.delete(mt[1]),mt[1]=Mt)}return ct.call(C.port1,mt[0],mt[1],mt[2])})(C.port1.removeEventListener);let N=null;Object.defineProperty(C.port1,"onmessage",{get:()=>N,set:ct=>{typeof N=="function"&&C.port1.removeEventListener("message",N),N=typeof ct=="function"?ct:null,typeof N=="function"&&(C.port1.addEventListener("message",N),C.port1.start())}}),x.prototype.port=C.port1;let L=null;Z1(y,$,x,A).then(ct=>L=ct);const W=_o(A.numberOfInputs,A.channelCount),rt=_o(A.numberOfOutputs,E),at=x.parameterDescriptors===void 0?[]:x.parameterDescriptors.reduce((ct,{name:mt})=>({...ct,[mt]:new Float32Array(128)}),{});let ot=!0;const Rt=()=>{A.numberOfOutputs>0&&Z.disconnect(I);for(let ct=0,mt=0;ct<A.numberOfOutputs;ct+=1){const Mt=st[ct];for(let Yt=0;Yt<E[ct];Yt+=1)I.disconnect(Mt,mt+Yt,Yt);mt+=E[ct]}},lt=new Map;Z.onaudioprocess=({inputBuffer:ct,outputBuffer:mt})=>{if(L!==null){const Mt=v($);for(let Yt=0;Yt<F;Yt+=128){for(let Ct=0;Ct<A.numberOfInputs;Ct+=1)for(let Gt=0;Gt<A.channelCount;Gt+=1)go(ct,W[Ct],Gt,Gt,Yt);x.parameterDescriptors!==void 0&&x.parameterDescriptors.forEach(({name:Ct},Gt)=>{go(ct,at,Ct,D+Gt,Yt)});for(let Ct=0;Ct<A.numberOfInputs;Ct+=1)for(let Gt=0;Gt<E[Ct];Gt+=1)rt[Ct][Gt].byteLength===0&&(rt[Ct][Gt]=new Float32Array(128));try{const Ct=W.map((ye,Cn)=>{if(Mt[Cn].size>0)return lt.set(Cn,F/128),ye;const xa=lt.get(Cn);return xa===void 0?[]:(ye.every(Bo=>Bo.every(Ys=>Ys===0))&&(xa===1?lt.delete(Cn):lt.set(Cn,xa-1)),ye)});ot=g(y.currentTime+Yt/y.sampleRate,y.sampleRate,()=>L.process(Ct,rt,at));for(let ye=0,Cn=0;ye<A.numberOfOutputs;ye+=1){for(let ls=0;ls<E[ye];ls+=1)Gg(mt,rt[ye],ls,Cn+ls,Yt);Cn+=E[ye]}}catch(Ct){ot=!1,$.dispatchEvent(new ErrorEvent("processorerror",{colno:Ct.colno,filename:Ct.filename,lineno:Ct.lineno,message:Ct.message}))}if(!ot){for(let Ct=0;Ct<A.numberOfInputs;Ct+=1){j[Ct].disconnect(V[Ct]);for(let Gt=0;Gt<A.channelCount;Gt+=1)V[Yt].disconnect(Q,Gt,Ct*A.channelCount+Gt)}if(x.parameterDescriptors!==void 0){const Ct=x.parameterDescriptors.length;for(let Gt=0;Gt<Ct;Gt+=1){const ye=R[Gt];ye.disconnect(Q,0,D+Gt),ye.stop()}}Q.disconnect(Z),Z.onaudioprocess=null,we?Rt():An();break}}}};let we=!1;const pn=p(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),mn=()=>Z.connect(pn).connect(y.destination),An=()=>{Z.disconnect(pn),pn.disconnect()},Sa=()=>{if(ot){An(),A.numberOfOutputs>0&&Z.connect(I);for(let ct=0,mt=0;ct<A.numberOfOutputs;ct+=1){const Mt=st[ct];for(let Yt=0;Yt<E[ct];Yt+=1)I.connect(Mt,mt+Yt,Yt);mt+=E[ct]}}we=!0},Ta=()=>{ot&&(mn(),Rt()),we=!1};return mn(),b($,Sa,Ta)},Zg=(l,n)=>{const i=l.createBiquadFilter();return he(i,n),Jt(i,n,"Q"),Jt(i,n,"detune"),Jt(i,n,"frequency"),Jt(i,n,"gain"),Qt(i,n,"type"),i},F1=(l,n)=>(i,a)=>{const o=i.createChannelMerger(a.numberOfInputs);return l!==null&&l.name==="webkitAudioContext"&&n(i,o),he(o,a),o},W1=l=>{const n=l.numberOfOutputs;Object.defineProperty(l,"channelCount",{get:()=>n,set:i=>{if(i!==n)throw ge()}}),Object.defineProperty(l,"channelCountMode",{get:()=>"explicit",set:i=>{if(i!=="explicit")throw ge()}}),Object.defineProperty(l,"channelInterpretation",{get:()=>"discrete",set:i=>{if(i!=="discrete")throw ge()}})},kr=(l,n)=>{const i=l.createChannelSplitter(n.numberOfOutputs);return he(i,n),W1(i),i},P1=(l,n,i,a,o)=>(u,p)=>{if(u.createConstantSource===void 0)return i(u,p);const f=u.createConstantSource();return he(f,p),Jt(f,p,"offset"),n(a,()=>a(u))||wh(f),n(o,()=>o(u))||Ah(f),l(u,f),f},ma=(l,n)=>(l.connect=n.connect.bind(n),l.disconnect=n.disconnect.bind(n),l),K1=(l,n,i,a)=>(o,{offset:u,...p})=>{const f=o.createBuffer(1,2,44100),m=n(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),d=i(o,{...p,gain:u}),g=f.getChannelData(0);g[0]=1,g[1]=1,m.buffer=f,m.loop=!0;const v={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(S){d.channelCount=S},get channelCountMode(){return d.channelCountMode},set channelCountMode(S){d.channelCountMode=S},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(S){d.channelInterpretation=S},get context(){return d.context},get inputs(){return[]},get numberOfInputs(){return m.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get offset(){return d.gain},get onended(){return m.onended},set onended(S){m.onended=S},addEventListener(...S){return m.addEventListener(S[0],S[1],S[2])},dispatchEvent(...S){return m.dispatchEvent(S[0])},removeEventListener(...S){return m.removeEventListener(S[0],S[1],S[2])},start(S=0){m.start.call(m,S)},stop(S=0){m.stop.call(m,S)}},b=()=>m.connect(d),y=()=>m.disconnect(d);return l(o,m),a(ma(v,d),b,y)},J1=(l,n)=>(i,a)=>{const o=i.createConvolver();if(he(o,a),a.disableNormalization===o.normalize&&(o.normalize=!a.disableNormalization),Qt(o,a,"buffer"),a.channelCount>2||(n(o,"channelCount",u=>()=>u.call(o),u=>p=>{if(p>2)throw l();return u.call(o,p)}),a.channelCountMode==="max"))throw l();return n(o,"channelCountMode",u=>()=>u.call(o),u=>p=>{if(p==="max")throw l();return u.call(o,p)}),o},Qg=(l,n)=>{const i=l.createDelay(n.maxDelayTime);return he(i,n),Jt(i,n,"delayTime"),i},$1=l=>(n,i)=>{const a=n.createDynamicsCompressor();if(he(a,i),i.channelCount>2||i.channelCountMode==="max")throw l();return Jt(a,i,"attack"),Jt(a,i,"knee"),Jt(a,i,"ratio"),Jt(a,i,"release"),Jt(a,i,"threshold"),a},Be=(l,n)=>{const i=l.createGain();return he(i,n),Jt(i,n,"gain"),i},tS=l=>(n,i,a)=>{if(n.createIIRFilter===void 0)return l(n,i,a);const o=n.createIIRFilter(a.feedforward,a.feedback);return he(o,a),o};function eS(l,n){const i=n[0]*n[0]+n[1]*n[1];return[(l[0]*n[0]+l[1]*n[1])/i,(l[1]*n[0]-l[0]*n[1])/i]}function nS(l,n){return[l[0]*n[0]-l[1]*n[1],l[0]*n[1]+l[1]*n[0]]}function _g(l,n){let i=[0,0];for(let a=l.length-1;a>=0;a-=1)i=nS(i,n),i[0]+=l[a];return i}const sS=(l,n,i,a)=>(o,u,{channelCount:p,channelCountMode:f,channelInterpretation:m,feedback:d,feedforward:g})=>{const v=Ig(u,o.sampleRate),b=d instanceof Float64Array?d:new Float64Array(d),y=g instanceof Float64Array?g:new Float64Array(g),S=b.length,x=y.length,A=Math.min(S,x);if(S===0||S>20)throw a();if(b[0]===0)throw n();if(x===0||x>20)throw a();if(y[0]===0)throw n();if(b[0]!==1){for(let R=0;R<x;R+=1)y[R]/=b[0];for(let R=1;R<S;R+=1)b[R]/=b[0]}const E=i(o,v,p,p);E.channelCount=p,E.channelCountMode=f,E.channelInterpretation=m;const D=32,M=[],U=[],C=[];for(let R=0;R<p;R+=1){M.push(0);const Q=new Float32Array(D),F=new Float32Array(D);Q.fill(0),F.fill(0),U.push(Q),C.push(F)}E.onaudioprocess=R=>{const Q=R.inputBuffer,F=R.outputBuffer,Z=Q.numberOfChannels;for(let I=0;I<Z;I+=1){const st=Q.getChannelData(I),et=F.getChannelData(I);M[I]=Xg(b,S,y,x,A,U[I],C[I],M[I],D,st,et)}};const j=o.sampleRate/2;return ma({get bufferSize(){return v},get channelCount(){return E.channelCount},set channelCount(R){E.channelCount=R},get channelCountMode(){return E.channelCountMode},set channelCountMode(R){E.channelCountMode=R},get channelInterpretation(){return E.channelInterpretation},set channelInterpretation(R){E.channelInterpretation=R},get context(){return E.context},get inputs(){return[E]},get numberOfInputs(){return E.numberOfInputs},get numberOfOutputs(){return E.numberOfOutputs},addEventListener(...R){return E.addEventListener(R[0],R[1],R[2])},dispatchEvent(...R){return E.dispatchEvent(R[0])},getFrequencyResponse(R,Q,F){if(R.length!==Q.length||Q.length!==F.length)throw l();const Z=R.length;for(let I=0;I<Z;I+=1){const st=-Math.PI*(R[I]/j),et=[Math.cos(st),Math.sin(st)],it=_g(y,et),k=_g(b,et),Y=eS(it,k);Q[I]=Math.sqrt(Y[0]*Y[0]+Y[1]*Y[1]),F[I]=Math.atan2(Y[1],Y[0])}},removeEventListener(...R){return E.removeEventListener(R[0],R[1],R[2])}},E)},iS=(l,n)=>l.createMediaElementSource(n.mediaElement),aS=(l,n)=>{const i=l.createMediaStreamDestination();return he(i,n),i.numberOfOutputs===1&&Object.defineProperty(i,"numberOfOutputs",{get:()=>0}),i},rS=(l,{mediaStream:n})=>{const i=n.getAudioTracks();i.sort((u,p)=>u.id<p.id?-1:u.id>p.id?1:0);const a=i.slice(0,1),o=l.createMediaStreamSource(new MediaStream(a));return Object.defineProperty(o,"mediaStream",{value:n}),o},lS=(l,n)=>(i,{mediaStreamTrack:a})=>{if(typeof i.createMediaStreamTrackSource=="function")return i.createMediaStreamTrackSource(a);const o=new MediaStream([a]),u=i.createMediaStreamSource(o);if(a.kind!=="audio")throw l();if(n(i))throw new TypeError;return u},oS=l=>l===null?null:l.hasOwnProperty("OfflineAudioContext")?l.OfflineAudioContext:l.hasOwnProperty("webkitOfflineAudioContext")?l.webkitOfflineAudioContext:null,cS=(l,n,i,a,o,u)=>(p,f)=>{const m=p.createOscillator();return he(m,f),Jt(m,f,"detune"),Jt(m,f,"frequency"),f.periodicWave!==void 0?m.setPeriodicWave(f.periodicWave):Qt(m,f,"type"),n(i,()=>i(p))||wh(m),n(a,()=>a(p))||u(m,p),n(o,()=>o(p))||Ah(m),l(p,m),m},uS=l=>(n,i)=>{const a=n.createPanner();return a.orientationX===void 0?l(n,i):(he(a,i),Jt(a,i,"orientationX"),Jt(a,i,"orientationY"),Jt(a,i,"orientationZ"),Jt(a,i,"positionX"),Jt(a,i,"positionY"),Jt(a,i,"positionZ"),Qt(a,i,"coneInnerAngle"),Qt(a,i,"coneOuterAngle"),Qt(a,i,"coneOuterGain"),Qt(a,i,"distanceModel"),Qt(a,i,"maxDistance"),Qt(a,i,"panningModel"),Qt(a,i,"refDistance"),Qt(a,i,"rolloffFactor"),a)},hS=(l,n,i,a,o,u,p,f,m,d)=>(g,{coneInnerAngle:v,coneOuterAngle:b,coneOuterGain:y,distanceModel:S,maxDistance:x,orientationX:A,orientationY:E,orientationZ:D,panningModel:M,positionX:U,positionY:C,positionZ:j,refDistance:V,rolloffFactor:R,...Q})=>{const F=g.createPanner();if(Q.channelCount>2||Q.channelCountMode==="max")throw p();he(F,Q);const Z={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},I=i(g,{...Z,channelInterpretation:"speakers",numberOfInputs:6}),st=a(g,{...Q,gain:1}),et=a(g,{...Z,gain:1}),it=a(g,{...Z,gain:0}),k=a(g,{...Z,gain:0}),Y=a(g,{...Z,gain:0}),$=a(g,{...Z,gain:0}),nt=a(g,{...Z,gain:0}),N=o(g,256,6,1),L=u(g,{...Z,curve:new Float32Array([1,1]),oversample:"none"});let tt=[A,E,D],W=[U,C,j];const rt=new Float32Array(1);N.onaudioprocess=({inputBuffer:lt})=>{const we=[m(lt,rt,0),m(lt,rt,1),m(lt,rt,2)];we.some((mn,An)=>mn!==tt[An])&&(F.setOrientation(...we),tt=we);const pn=[m(lt,rt,3),m(lt,rt,4),m(lt,rt,5)];pn.some((mn,An)=>mn!==W[An])&&(F.setPosition(...pn),W=pn)},Object.defineProperty(it.gain,"defaultValue",{get:()=>0}),Object.defineProperty(k.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Y.gain,"defaultValue",{get:()=>0}),Object.defineProperty($.gain,"defaultValue",{get:()=>0}),Object.defineProperty(nt.gain,"defaultValue",{get:()=>0});const at={get bufferSize(){},get channelCount(){return F.channelCount},set channelCount(lt){if(lt>2)throw p();st.channelCount=lt,F.channelCount=lt},get channelCountMode(){return F.channelCountMode},set channelCountMode(lt){if(lt==="max")throw p();st.channelCountMode=lt,F.channelCountMode=lt},get channelInterpretation(){return F.channelInterpretation},set channelInterpretation(lt){st.channelInterpretation=lt,F.channelInterpretation=lt},get coneInnerAngle(){return F.coneInnerAngle},set coneInnerAngle(lt){F.coneInnerAngle=lt},get coneOuterAngle(){return F.coneOuterAngle},set coneOuterAngle(lt){F.coneOuterAngle=lt},get coneOuterGain(){return F.coneOuterGain},set coneOuterGain(lt){if(lt<0||lt>1)throw n();F.coneOuterGain=lt},get context(){return F.context},get distanceModel(){return F.distanceModel},set distanceModel(lt){F.distanceModel=lt},get inputs(){return[st]},get maxDistance(){return F.maxDistance},set maxDistance(lt){if(lt<0)throw new RangeError;F.maxDistance=lt},get numberOfInputs(){return F.numberOfInputs},get numberOfOutputs(){return F.numberOfOutputs},get orientationX(){return et.gain},get orientationY(){return it.gain},get orientationZ(){return k.gain},get panningModel(){return F.panningModel},set panningModel(lt){F.panningModel=lt},get positionX(){return Y.gain},get positionY(){return $.gain},get positionZ(){return nt.gain},get refDistance(){return F.refDistance},set refDistance(lt){if(lt<0)throw new RangeError;F.refDistance=lt},get rolloffFactor(){return F.rolloffFactor},set rolloffFactor(lt){if(lt<0)throw new RangeError;F.rolloffFactor=lt},addEventListener(...lt){return st.addEventListener(lt[0],lt[1],lt[2])},dispatchEvent(...lt){return st.dispatchEvent(lt[0])},removeEventListener(...lt){return st.removeEventListener(lt[0],lt[1],lt[2])}};v!==at.coneInnerAngle&&(at.coneInnerAngle=v),b!==at.coneOuterAngle&&(at.coneOuterAngle=b),y!==at.coneOuterGain&&(at.coneOuterGain=y),S!==at.distanceModel&&(at.distanceModel=S),x!==at.maxDistance&&(at.maxDistance=x),A!==at.orientationX.value&&(at.orientationX.value=A),E!==at.orientationY.value&&(at.orientationY.value=E),D!==at.orientationZ.value&&(at.orientationZ.value=D),M!==at.panningModel&&(at.panningModel=M),U!==at.positionX.value&&(at.positionX.value=U),C!==at.positionY.value&&(at.positionY.value=C),j!==at.positionZ.value&&(at.positionZ.value=j),V!==at.refDistance&&(at.refDistance=V),R!==at.rolloffFactor&&(at.rolloffFactor=R),(tt[0]!==1||tt[1]!==0||tt[2]!==0)&&F.setOrientation(...tt),(W[0]!==0||W[1]!==0||W[2]!==0)&&F.setPosition(...W);const ot=()=>{st.connect(F),l(st,L,0,0),L.connect(et).connect(I,0,0),L.connect(it).connect(I,0,1),L.connect(k).connect(I,0,2),L.connect(Y).connect(I,0,3),L.connect($).connect(I,0,4),L.connect(nt).connect(I,0,5),I.connect(N).connect(g.destination)},Rt=()=>{st.disconnect(F),f(st,L,0,0),L.disconnect(et),et.disconnect(I),L.disconnect(it),it.disconnect(I),L.disconnect(k),k.disconnect(I),L.disconnect(Y),Y.disconnect(I),L.disconnect($),$.disconnect(I),L.disconnect(nt),nt.disconnect(I),I.disconnect(N),N.disconnect(g.destination)};return d(ma(at,F),ot,Rt)},fS=l=>(n,{disableNormalization:i,imag:a,real:o})=>{const u=a instanceof Float32Array?a:new Float32Array(a),p=o instanceof Float32Array?o:new Float32Array(o),f=n.createPeriodicWave(p,u,{disableNormalization:i});if(Array.from(a).length<2)throw l();return f},jr=(l,n,i,a)=>l.createScriptProcessor(n,i,a),dS=(l,n)=>(i,a)=>{const o=a.channelCountMode;if(o==="clamped-max")throw n();if(i.createStereoPanner===void 0)return l(i,a);const u=i.createStereoPanner();return he(u,a),Jt(u,a,"pan"),Object.defineProperty(u,"channelCountMode",{get:()=>o,set:p=>{if(p!==o)throw n()}}),u},pS=(l,n,i,a,o,u)=>{const f=new Float32Array([1,1]),m=Math.PI/2,d={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},g={...d,oversample:"none"},v=(S,x,A,E)=>{const D=new Float32Array(16385),M=new Float32Array(16385);for(let Q=0;Q<16385;Q+=1){const F=Q/16384*m;D[Q]=Math.cos(F),M[Q]=Math.sin(F)}const U=i(S,{...d,gain:0}),C=a(S,{...g,curve:D}),j=a(S,{...g,curve:f}),V=i(S,{...d,gain:0}),R=a(S,{...g,curve:M});return{connectGraph(){x.connect(U),x.connect(j.inputs===void 0?j:j.inputs[0]),x.connect(V),j.connect(A),A.connect(C.inputs===void 0?C:C.inputs[0]),A.connect(R.inputs===void 0?R:R.inputs[0]),C.connect(U.gain),R.connect(V.gain),U.connect(E,0,0),V.connect(E,0,1)},disconnectGraph(){x.disconnect(U),x.disconnect(j.inputs===void 0?j:j.inputs[0]),x.disconnect(V),j.disconnect(A),A.disconnect(C.inputs===void 0?C:C.inputs[0]),A.disconnect(R.inputs===void 0?R:R.inputs[0]),C.disconnect(U.gain),R.disconnect(V.gain),U.disconnect(E,0,0),V.disconnect(E,0,1)}}},b=(S,x,A,E)=>{const D=new Float32Array(16385),M=new Float32Array(16385),U=new Float32Array(16385),C=new Float32Array(16385),j=Math.floor(16385/2);for(let Y=0;Y<16385;Y+=1)if(Y>j){const $=(Y-j)/(16384-j)*m;D[Y]=Math.cos($),M[Y]=Math.sin($),U[Y]=0,C[Y]=1}else{const $=Y/(16384-j)*m;D[Y]=1,M[Y]=0,U[Y]=Math.cos($),C[Y]=Math.sin($)}const V=n(S,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),R=i(S,{...d,gain:0}),Q=a(S,{...g,curve:D}),F=i(S,{...d,gain:0}),Z=a(S,{...g,curve:M}),I=a(S,{...g,curve:f}),st=i(S,{...d,gain:0}),et=a(S,{...g,curve:U}),it=i(S,{...d,gain:0}),k=a(S,{...g,curve:C});return{connectGraph(){x.connect(V),x.connect(I.inputs===void 0?I:I.inputs[0]),V.connect(R,0),V.connect(F,0),V.connect(st,1),V.connect(it,1),I.connect(A),A.connect(Q.inputs===void 0?Q:Q.inputs[0]),A.connect(Z.inputs===void 0?Z:Z.inputs[0]),A.connect(et.inputs===void 0?et:et.inputs[0]),A.connect(k.inputs===void 0?k:k.inputs[0]),Q.connect(R.gain),Z.connect(F.gain),et.connect(st.gain),k.connect(it.gain),R.connect(E,0,0),st.connect(E,0,0),F.connect(E,0,1),it.connect(E,0,1)},disconnectGraph(){x.disconnect(V),x.disconnect(I.inputs===void 0?I:I.inputs[0]),V.disconnect(R,0),V.disconnect(F,0),V.disconnect(st,1),V.disconnect(it,1),I.disconnect(A),A.disconnect(Q.inputs===void 0?Q:Q.inputs[0]),A.disconnect(Z.inputs===void 0?Z:Z.inputs[0]),A.disconnect(et.inputs===void 0?et:et.inputs[0]),A.disconnect(k.inputs===void 0?k:k.inputs[0]),Q.disconnect(R.gain),Z.disconnect(F.gain),et.disconnect(st.gain),k.disconnect(it.gain),R.disconnect(E,0,0),st.disconnect(E,0,0),F.disconnect(E,0,1),it.disconnect(E,0,1)}}},y=(S,x,A,E,D)=>{if(x===1)return v(S,A,E,D);if(x===2)return b(S,A,E,D);throw o()};return(S,{channelCount:x,channelCountMode:A,pan:E,...D})=>{if(A==="max")throw o();const M=l(S,{...D,channelCount:1,channelCountMode:A,numberOfInputs:2}),U=i(S,{...D,channelCount:x,channelCountMode:A,gain:1}),C=i(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:E});let{connectGraph:j,disconnectGraph:V}=y(S,x,U,C,M);Object.defineProperty(C.gain,"defaultValue",{get:()=>0}),Object.defineProperty(C.gain,"maxValue",{get:()=>1}),Object.defineProperty(C.gain,"minValue",{get:()=>-1});const R={get bufferSize(){},get channelCount(){return U.channelCount},set channelCount(I){U.channelCount!==I&&(Q&&V(),{connectGraph:j,disconnectGraph:V}=y(S,I,U,C,M),Q&&j()),U.channelCount=I},get channelCountMode(){return U.channelCountMode},set channelCountMode(I){if(I==="clamped-max"||I==="max")throw o();U.channelCountMode=I},get channelInterpretation(){return U.channelInterpretation},set channelInterpretation(I){U.channelInterpretation=I},get context(){return U.context},get inputs(){return[U]},get numberOfInputs(){return U.numberOfInputs},get numberOfOutputs(){return U.numberOfOutputs},get pan(){return C.gain},addEventListener(...I){return U.addEventListener(I[0],I[1],I[2])},dispatchEvent(...I){return U.dispatchEvent(I[0])},removeEventListener(...I){return U.removeEventListener(I[0],I[1],I[2])}};let Q=!1;const F=()=>{j(),Q=!0},Z=()=>{V(),Q=!1};return u(ma(R,M),F,Z)}},mS=(l,n,i,a,o,u,p)=>(f,m)=>{const d=f.createWaveShaper();if(u!==null&&u.name==="webkitAudioContext"&&f.createGain().gain.automationRate===void 0)return i(f,m);he(d,m);const g=m.curve===null||m.curve instanceof Float32Array?m.curve:new Float32Array(m.curve);if(g!==null&&g.length<2)throw n();Qt(d,{curve:g},"curve"),Qt(d,m,"oversample");let v=null,b=!1;return p(d,"curve",x=>()=>x.call(d),x=>A=>(x.call(d,A),b&&(a(A)&&v===null?v=l(f,d):!a(A)&&v!==null&&(v(),v=null)),A)),o(d,()=>{b=!0,a(d.curve)&&(v=l(f,d))},()=>{b=!1,v!==null&&(v(),v=null)})},gS=(l,n,i,a,o)=>(u,{curve:p,oversample:f,...m})=>{const d=u.createWaveShaper(),g=u.createWaveShaper();he(d,m),he(g,m);const v=i(u,{...m,gain:1}),b=i(u,{...m,gain:-1}),y=i(u,{...m,gain:1}),S=i(u,{...m,gain:-1});let x=null,A=!1,E=null;const D={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(C){v.channelCount=C,b.channelCount=C,d.channelCount=C,y.channelCount=C,g.channelCount=C,S.channelCount=C},get channelCountMode(){return d.channelCountMode},set channelCountMode(C){v.channelCountMode=C,b.channelCountMode=C,d.channelCountMode=C,y.channelCountMode=C,g.channelCountMode=C,S.channelCountMode=C},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(C){v.channelInterpretation=C,b.channelInterpretation=C,d.channelInterpretation=C,y.channelInterpretation=C,g.channelInterpretation=C,S.channelInterpretation=C},get context(){return d.context},get curve(){return E},set curve(C){if(C!==null&&C.length<2)throw n();if(C===null)d.curve=C,g.curve=C;else{const j=C.length,V=new Float32Array(j+2-j%2),R=new Float32Array(j+2-j%2);V[0]=C[0],R[0]=-C[j-1];const Q=Math.ceil((j+1)/2),F=(j+1)/2-1;for(let Z=1;Z<Q;Z+=1){const I=Z/Q*F,st=Math.floor(I),et=Math.ceil(I);V[Z]=st===et?C[st]:(1-(I-st))*C[st]+(1-(et-I))*C[et],R[Z]=st===et?-C[j-1-st]:-((1-(I-st))*C[j-1-st])-(1-(et-I))*C[j-1-et]}V[Q]=j%2===1?C[Q-1]:(C[Q-2]+C[Q-1])/2,d.curve=V,g.curve=R}E=C,A&&(a(E)&&x===null?x=l(u,v):x!==null&&(x(),x=null))},get inputs(){return[v]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get oversample(){return d.oversample},set oversample(C){d.oversample=C,g.oversample=C},addEventListener(...C){return v.addEventListener(C[0],C[1],C[2])},dispatchEvent(...C){return v.dispatchEvent(C[0])},removeEventListener(...C){return v.removeEventListener(C[0],C[1],C[2])}};p!==null&&(D.curve=p instanceof Float32Array?p:new Float32Array(p)),f!==D.oversample&&(D.oversample=f);const M=()=>{v.connect(d).connect(y),v.connect(b).connect(g).connect(S).connect(y),A=!0,a(E)&&(x=l(u,v))},U=()=>{v.disconnect(d),d.disconnect(y),v.disconnect(b),b.disconnect(g),g.disconnect(S),S.disconnect(y),A=!1,x!==null&&(x(),x=null)};return o(ma(D,y),M,U)},ke=()=>new DOMException("","NotSupportedError"),_S={numberOfChannels:1},vS=(l,n,i,a,o)=>class extends l{constructor(p,f,m){let d;if(typeof p=="number"&&f!==void 0&&m!==void 0)d={length:f,numberOfChannels:p,sampleRate:m};else if(typeof p=="object")d=p;else throw new Error("The given parameters are not valid.");const{length:g,numberOfChannels:v,sampleRate:b}={..._S,...d},y=a(v,g,b);n(xr,()=>xr(y))||y.addEventListener("statechange",(()=>{let S=0;const x=A=>{this._state==="running"&&(S>0?(y.removeEventListener("statechange",x),A.stopImmediatePropagation(),this._waitForThePromiseToSettle(A)):S+=1)};return x})()),super(y,v),this._length=g,this._nativeOfflineAudioContext=y,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(i()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Ug(this)}))}_waitForThePromiseToSettle(p){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(p):setTimeout(()=>this._waitForThePromiseToSettle(p))}},yS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},bS=(l,n,i,a,o,u,p)=>class extends l{constructor(m,d){const g=o(m),v={...yS,...d},b=i(g,v),y=u(g),S=y?a():null,x=m.sampleRate/2;super(m,!1,b,S),this._detune=n(this,y,b.detune,153600,-153600),this._frequency=n(this,y,b.frequency,x,-x),this._nativeOscillatorNode=b,this._onended=null,this._oscillatorNodeRenderer=S,this._oscillatorNodeRenderer!==null&&v.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=v.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(m){const d=typeof m=="function"?p(this,m):null;this._nativeOscillatorNode.onended=d;const g=this._nativeOscillatorNode.onended;this._onended=g!==null&&g===d?m:g}get type(){return this._nativeOscillatorNode.type}set type(m){this._nativeOscillatorNode.type=m,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(m){this._nativeOscillatorNode.setPeriodicWave(m),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=m)}start(m=0){if(this._nativeOscillatorNode.start(m),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=m),this.context.state!=="closed"){la(this);const d=()=>{this._nativeOscillatorNode.removeEventListener("ended",d),ts(this)&&Mr(this)};this._nativeOscillatorNode.addEventListener("ended",d)}}stop(m=0){this._nativeOscillatorNode.stop(m),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=m)}},SS=(l,n,i,a,o)=>()=>{const u=new WeakMap;let p=null,f=null,m=null;const d=async(g,v)=>{let b=i(g);const y=Oe(b,v);if(!y){const S={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,detune:b.detune.value,frequency:b.frequency.value,periodicWave:p===null?void 0:p,type:b.type};b=n(v,S),f!==null&&b.start(f),m!==null&&b.stop(m)}return u.set(v,b),y?(await l(v,g.detune,b.detune),await l(v,g.frequency,b.frequency)):(await a(v,g.detune,b.detune),await a(v,g.frequency,b.frequency)),await o(g,v,b),b};return{set periodicWave(g){p=g},set start(g){f=g},set stop(g){m=g},render(g,v){const b=u.get(v);return b!==void 0?Promise.resolve(b):d(g,v)}}},TS={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},xS=(l,n,i,a,o,u,p)=>class extends l{constructor(m,d){const g=o(m),v={...TS,...d},b=i(g,v),y=u(g),S=y?a():null;super(m,!1,b,S),this._nativePannerNode=b,this._orientationX=n(this,y,b.orientationX,De,We),this._orientationY=n(this,y,b.orientationY,De,We),this._orientationZ=n(this,y,b.orientationZ,De,We),this._positionX=n(this,y,b.positionX,De,We),this._positionY=n(this,y,b.positionY,De,We),this._positionZ=n(this,y,b.positionZ,De,We),p(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(m){this._nativePannerNode.coneInnerAngle=m}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(m){this._nativePannerNode.coneOuterAngle=m}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(m){this._nativePannerNode.coneOuterGain=m}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(m){this._nativePannerNode.distanceModel=m}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(m){this._nativePannerNode.maxDistance=m}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(m){this._nativePannerNode.panningModel=m}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(m){this._nativePannerNode.refDistance=m}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(m){this._nativePannerNode.rolloffFactor=m}},wS=(l,n,i,a,o,u,p,f,m,d)=>()=>{const g=new WeakMap;let v=null;const b=async(y,S)=>{let x=null,A=u(y);const E={channelCount:A.channelCount,channelCountMode:A.channelCountMode,channelInterpretation:A.channelInterpretation},D={...E,coneInnerAngle:A.coneInnerAngle,coneOuterAngle:A.coneOuterAngle,coneOuterGain:A.coneOuterGain,distanceModel:A.distanceModel,maxDistance:A.maxDistance,panningModel:A.panningModel,refDistance:A.refDistance,rolloffFactor:A.rolloffFactor},M=Oe(A,S);if("bufferSize"in A)x=a(S,{...E,gain:1});else if(!M){const U={...D,orientationX:A.orientationX.value,orientationY:A.orientationY.value,orientationZ:A.orientationZ.value,positionX:A.positionX.value,positionY:A.positionY.value,positionZ:A.positionZ.value};A=o(S,U)}if(g.set(S,x===null?A:x),x!==null){if(v===null){if(p===null)throw new Error("Missing the native OfflineAudioContext constructor.");const Z=new p(6,y.context.length,S.sampleRate),I=n(Z,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});I.connect(Z.destination),v=(async()=>{const st=await Promise.all([y.orientationX,y.orientationY,y.orientationZ,y.positionX,y.positionY,y.positionZ].map(async(et,it)=>{const k=i(Z,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:it===0?1:0});return await f(Z,et,k.offset),k}));for(let et=0;et<6;et+=1)st[et].connect(I,0,et),st[et].start(0);return d(Z)})()}const U=await v,C=a(S,{...E,gain:1});await m(y,S,C);const j=[];for(let Z=0;Z<U.numberOfChannels;Z+=1)j.push(U.getChannelData(Z));let V=[j[0][0],j[1][0],j[2][0]],R=[j[3][0],j[4][0],j[5][0]],Q=a(S,{...E,gain:1}),F=o(S,{...D,orientationX:V[0],orientationY:V[1],orientationZ:V[2],positionX:R[0],positionY:R[1],positionZ:R[2]});C.connect(Q).connect(F.inputs[0]),F.connect(x);for(let Z=128;Z<U.length;Z+=128){const I=[j[0][Z],j[1][Z],j[2][Z]],st=[j[3][Z],j[4][Z],j[5][Z]];if(I.some((et,it)=>et!==V[it])||st.some((et,it)=>et!==R[it])){V=I,R=st;const et=Z/S.sampleRate;Q.gain.setValueAtTime(0,et),Q=a(S,{...E,gain:0}),F=o(S,{...D,orientationX:V[0],orientationY:V[1],orientationZ:V[2],positionX:R[0],positionY:R[1],positionZ:R[2]}),Q.gain.setValueAtTime(1,et),C.connect(Q).connect(F.inputs[0]),F.connect(x)}}return x}return M?(await l(S,y.orientationX,A.orientationX),await l(S,y.orientationY,A.orientationY),await l(S,y.orientationZ,A.orientationZ),await l(S,y.positionX,A.positionX),await l(S,y.positionY,A.positionY),await l(S,y.positionZ,A.positionZ)):(await f(S,y.orientationX,A.orientationX),await f(S,y.orientationY,A.orientationY),await f(S,y.orientationZ,A.orientationZ),await f(S,y.positionX,A.positionX),await f(S,y.positionY,A.positionY),await f(S,y.positionZ,A.positionZ)),pa(A)?await m(y,S,A.inputs[0]):await m(y,S,A),A};return{render(y,S){const x=g.get(S);return x!==void 0?Promise.resolve(x):b(y,S)}}},AS={disableNormalization:!1},CS=(l,n,i,a)=>class Fg{constructor(u,p){const f=n(u),m=a({...AS,...p}),d=l(f,m);return i.add(d),d}static[Symbol.hasInstance](u){return u!==null&&typeof u=="object"&&Object.getPrototypeOf(u)===Fg.prototype||i.has(u)}},NS=(l,n)=>(i,a,o)=>(l(a).replay(o),n(a,i,o)),ES=(l,n,i)=>async(a,o,u)=>{const p=l(a);await Promise.all(p.activeInputs.map((f,m)=>Array.from(f).map(async([d,g])=>{const b=await n(d).render(d,o),y=a.context.destination;!i(d)&&(a!==y||!i(a))&&b.connect(u,g,m)})).reduce((f,m)=>[...f,...m],[]))},OS=(l,n,i)=>async(a,o,u)=>{const p=n(a);await Promise.all(Array.from(p.activeInputs).map(async([f,m])=>{const g=await l(f).render(f,o);i(f)||g.connect(u,m)}))},MS=(l,n,i,a)=>o=>l(xr,()=>xr(o))?Promise.resolve(l(a,a)).then(u=>{if(!u){const p=i(o,512,0,1);o.oncomplete=()=>{p.onaudioprocess=null,p.disconnect()},p.onaudioprocess=()=>o.currentTime,p.connect(o.destination)}return o.startRendering()}):new Promise(u=>{const p=n(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=f=>{p.disconnect(),u(f.renderedBuffer)},p.connect(o.destination),o.startRendering()}),DS=l=>(n,i)=>{l.set(n,i)},RS=l=>(n,i)=>l.set(n,i),kS=(l,n,i,a,o,u,p,f)=>(m,d)=>i(m).render(m,d).then(()=>Promise.all(Array.from(a(d)).map(g=>i(g).render(g,d)))).then(()=>o(d)).then(g=>(typeof g.copyFromChannel!="function"?(p(g),Sh(g)):n(u,()=>u(g))||f(g),l.add(g),g)),jS={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},zS=(l,n,i,a,o,u)=>class extends l{constructor(f,m){const d=o(f),g={...jS,...m},v=i(d,g),b=u(d),y=b?a():null;super(f,!1,v,y),this._pan=n(this,b,v.pan)}get pan(){return this._pan}},VS=(l,n,i,a,o)=>()=>{const u=new WeakMap,p=async(f,m)=>{let d=i(f);const g=Oe(d,m);if(!g){const v={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,pan:d.pan.value};d=n(m,v)}return u.set(m,d),g?await l(m,f.pan,d.pan):await a(m,f.pan,d.pan),pa(d)?await o(f,m,d.inputs[0]):await o(f,m,d),d};return{render(f,m){const d=u.get(m);return d!==void 0?Promise.resolve(d):p(f,m)}}},qS=l=>()=>{if(l===null)return!1;try{new l({length:1,sampleRate:44100})}catch{return!1}return!0},US=(l,n)=>async()=>{if(l===null)return!0;if(n===null)return!1;const i=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),a=new n(1,128,44100),o=URL.createObjectURL(i);let u=!1,p=!1;try{await a.audioWorklet.addModule(o);const f=new l(a,"a",{numberOfOutputs:0}),m=a.createOscillator();f.port.onmessage=()=>u=!0,f.onprocessorerror=()=>p=!0,m.connect(f),m.start(0),await a.startRendering(),await new Promise(d=>setTimeout(d))}catch{}finally{URL.revokeObjectURL(o)}return u&&!p},BS=(l,n)=>()=>{if(n===null)return Promise.resolve(!1);const i=new n(1,1,44100),a=l(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{i.oncomplete=()=>{a.disconnect(),o(i.currentTime!==0)},i.startRendering()})},LS=()=>new DOMException("","UnknownError"),HS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},YS=(l,n,i,a,o,u,p)=>class extends l{constructor(m,d){const g=o(m),v={...HS,...d},b=i(g,v),S=u(g)?a():null;super(m,!0,b,S),this._isCurveNullified=!1,this._nativeWaveShaperNode=b,p(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(m){if(m===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(m.length<2)throw n();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=m}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(m){this._nativeWaveShaperNode.oversample=m}},GS=(l,n,i)=>()=>{const a=new WeakMap,o=async(u,p)=>{let f=n(u);if(!Oe(f,p)){const d={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,curve:f.curve,oversample:f.oversample};f=l(p,d)}return a.set(p,f),pa(f)?await i(u,p,f.inputs[0]):await i(u,p,f),f};return{render(u,p){const f=a.get(p);return f!==void 0?Promise.resolve(f):o(u,p)}}},XS=()=>typeof window>"u"?null:window,IS=(l,n)=>i=>{i.copyFromChannel=(a,o,u=0)=>{const p=l(u),f=l(o);if(f>=i.numberOfChannels)throw n();const m=i.length,d=i.getChannelData(f),g=a.length;for(let v=p<0?-p:0;v+p<m&&v<g;v+=1)a[v]=d[v+p]},i.copyToChannel=(a,o,u=0)=>{const p=l(u),f=l(o);if(f>=i.numberOfChannels)throw n();const m=i.length,d=i.getChannelData(f),g=a.length;for(let v=p<0?-p:0;v+p<m&&v<g;v+=1)d[v+p]=a[v]}},ZS=l=>n=>{n.copyFromChannel=(i=>(a,o,u=0)=>{const p=l(u),f=l(o);if(p<n.length)return i.call(n,a,f,p)})(n.copyFromChannel),n.copyToChannel=(i=>(a,o,u=0)=>{const p=l(u),f=l(o);if(p<n.length)return i.call(n,a,f,p)})(n.copyToChannel)},QS=l=>(n,i)=>{const a=i.createBuffer(1,1,44100);n.buffer===null&&(n.buffer=a),l(n,"buffer",o=>()=>{const u=o.call(n);return u===a?null:u},o=>u=>o.call(n,u===null?a:u))},FS=(l,n)=>(i,a)=>{a.channelCount=1,a.channelCountMode="explicit",Object.defineProperty(a,"channelCount",{get:()=>1,set:()=>{throw l()}}),Object.defineProperty(a,"channelCountMode",{get:()=>"explicit",set:()=>{throw l()}});const o=i.createBufferSource();n(a,()=>{const f=a.numberOfInputs;for(let m=0;m<f;m+=1)o.connect(a,0,m)},()=>o.disconnect(a))},Wg=(l,n,i)=>l.copyFromChannel===void 0?l.getChannelData(i)[0]:(l.copyFromChannel(n,i),n[0]),Pg=l=>{if(l===null)return!1;const n=l.length;return n%2!==0?l[Math.floor(n/2)]!==0:l[n/2-1]+l[n/2]!==0},zr=(l,n,i,a)=>{let o=l;for(;!o.hasOwnProperty(n);)o=Object.getPrototypeOf(o);const{get:u,set:p}=Object.getOwnPropertyDescriptor(o,n);Object.defineProperty(l,n,{get:i(u),set:a(p)})},WS=l=>({...l,outputChannelCount:l.outputChannelCount!==void 0?l.outputChannelCount:l.numberOfInputs===1&&l.numberOfOutputs===1?[l.channelCount]:Array.from({length:l.numberOfOutputs},()=>1)}),PS=l=>({...l,channelCount:l.numberOfOutputs}),KS=l=>{const{imag:n,real:i}=l;return n===void 0?i===void 0?{...l,imag:[0,0],real:[0,0]}:{...l,imag:Array.from(i,()=>0),real:i}:i===void 0?{...l,imag:n,real:Array.from(n,()=>0)}:{...l,imag:n,real:i}},Kg=(l,n,i)=>{try{l.setValueAtTime(n,i)}catch(a){if(a.code!==9)throw a;Kg(l,n,i+1e-7)}},JS=l=>{const n=l.createBufferSource();n.start();try{n.start()}catch{return!0}return!1},$S=l=>{const n=l.createBufferSource(),i=l.createBuffer(1,1,44100);n.buffer=i;try{n.start(0,1)}catch{return!1}return!0},tT=l=>{const n=l.createBufferSource();n.start();try{n.stop()}catch{return!1}return!0},Ch=l=>{const n=l.createOscillator();try{n.start(-1)}catch(i){return i instanceof RangeError}return!1},Jg=l=>{const n=l.createBuffer(1,1,44100),i=l.createBufferSource();i.buffer=n,i.start(),i.stop();try{return i.stop(),!0}catch{return!1}},Nh=l=>{const n=l.createOscillator();try{n.stop(-1)}catch(i){return i instanceof RangeError}return!1},eT=l=>{const{port1:n,port2:i}=new MessageChannel;try{n.postMessage(l)}finally{n.close(),i.close()}},nT=l=>{l.start=(n=>(i=0,a=0,o)=>{const u=l.buffer,p=u===null?a:Math.min(u.duration,a);u!==null&&p>u.duration-.5/l.context.sampleRate?n.call(l,i,0,0):n.call(l,i,p,o)})(l.start)},$g=(l,n)=>{const i=n.createGain();l.connect(i);const a=(o=>()=>{o.call(l,i),l.removeEventListener("ended",a)})(l.disconnect);l.addEventListener("ended",a),ma(l,i),l.stop=(o=>{let u=!1;return(p=0)=>{if(u)try{o.call(l,p)}catch{i.gain.setValueAtTime(0,p)}else o.call(l,p),u=!0}})(l.stop)},ga=(l,n)=>i=>{const a={value:l};return Object.defineProperties(i,{currentTarget:a,target:a}),typeof n=="function"?n.call(l,i):n.handleEvent.call(l,i)},sT=xy(fi),iT=Oy(fi),aT=Hb(To),t_=new WeakMap,rT=a1(t_),Tn=_b(new Map,new WeakMap),kn=XS(),e_=z1(Tn,jn),Eh=i1(Re),xe=ES(Re,Eh,ui),lT=jy(e_,It,xe),Ht=o1(So),is=oS(kn),Ut=A1(is),n_=new WeakMap,s_=Kb(ga),Vr=B1(kn),Oh=S1(Vr),Mh=T1(kn),i_=x1(kn),wr=H1(kn),ne=ab(wy(Dg),Ey(sT,iT,fo,aT,po,Re,rT,Or,It,fi,ts,ui,ro),Tn,g1(ch,po,Re,It,Tr,ts),jn,xo,ke,qb(fo,ch,Re,It,Tr,Ht,ts,Ut),Xb(n_,Re,Sn),s_,Ht,Oh,Mh,i_,Ut,wr),oT=ky(ne,lT,jn,e_,Ht,Ut),Dh=new WeakSet,vg=V1(kn),a_=Mb(new Uint32Array(1)),Rh=IS(a_,jn),kh=ZS(a_),r_=Vy(Dh,Tn,ke,vg,is,qS(vg),Rh,kh),wo=My(Be),l_=OS(Eh,Dr,ui),zn=wb(l_),_a=U1(wo,Tn,JS,$S,tT,Ch,Jg,Nh,nT,QS(zr),$g),Vn=NS(r1(Dr),l_),cT=By(zn,_a,It,Vn,xe),xn=rb(Ay(Rg),n_,bh,lb,_y,vy,yy,by,Sy,rh,Og,Vr,Kg),uT=Uy(ne,cT,xn,ge,_a,Ht,Ut,ga),hT=Fy(ne,Wy,jn,ge,L1(Be,zr),Ht,Ut,xe),fT=gb(zn,Zg,It,Vn,xe),di=RS(t_),dT=mb(ne,xn,fT,xo,Zg,Ht,Ut,di),Us=k1(fi,Mh),pT=FS(ge,Us),Bs=F1(Vr,pT),mT=bb(Bs,It,xe),gT=yb(ne,mT,Bs,Ht,Ut),_T=xb(kr,It,xe),vT=Tb(ne,_T,kr,Ht,Ut,PS),yT=K1(wo,_a,Be,Us),va=P1(wo,Tn,yT,Ch,Nh),bT=Ob(zn,va,It,Vn,xe),ST=Eb(ne,xn,bT,va,Ht,Ut,ga),o_=J1(ke,zr),TT=kb(o_,It,xe),xT=Rb(ne,TT,o_,Ht,Ut,di),wT=Lb(zn,Qg,It,Vn,xe),AT=Bb(ne,xn,wT,Qg,Ht,Ut,di),c_=$1(ke),CT=Fb(zn,c_,It,Vn,xe),NT=Qb(ne,xn,CT,c_,ke,Ht,Ut,di),ET=n1(zn,Be,It,Vn,xe),OT=e1(ne,xn,ET,Be,Ht,Ut),MT=sS(xo,ge,jr,ke),Ao=MS(Tn,Be,jr,BS(Be,is)),DT=m1(_a,It,is,xe,Ao),RT=tS(MT),kT=d1(ne,RT,DT,Ht,Ut,di),jT=Py(xn,Bs,va,jr,ke,Wg,Ut,zr),u_=new WeakMap,zT=R1(hT,jT,s_,Ut,u_,ga),h_=cS(wo,Tn,Ch,Jg,Nh,$g),VT=SS(zn,h_,It,Vn,xe),qT=bS(ne,xn,h_,VT,Ht,Ut,ga),f_=Cb(_a),UT=gS(f_,ge,Be,Pg,Us),Co=mS(f_,ge,UT,Pg,Us,Vr,zr),BT=hS(fo,ge,Bs,Be,jr,Co,ke,po,Wg,Us),d_=uS(BT),LT=wS(zn,Bs,va,Be,d_,It,is,Vn,xe,Ao),HT=xS(ne,xn,d_,LT,Ht,Ut,di),YT=fS(jn),GT=CS(YT,Ht,new WeakSet,KS),XT=pS(Bs,kr,Be,Co,ke,Us),p_=dS(XT,ke),IT=VS(zn,p_,It,Vn,xe),ZT=zS(ne,xn,p_,IT,Ht,Ut),QT=GS(Co,It,xe),FT=YS(ne,ge,Co,QT,Ht,Ut,di),m_=C1(kn),jh=Jb(kn),g_=new WeakMap,WT=c1(g_,is),PT=m_?Ny(Tn,ke,Pb(kn),jh,$b(Ty),Ht,WT,Ut,wr,new WeakMap,new WeakMap,US(wr,is),kn):void 0,KT=w1(Oh,Ut),JT=Vb(Dh,Tn,zb,Wb,new WeakSet,Ht,KT,uo,xr,Rh,kh),__=db(PT,oT,r_,uT,dT,gT,vT,ST,xT,JT,AT,NT,OT,kT,zT,qT,HT,GT,ZT,FT),$T=N1(ne,iS,Ht,Ut),tx=O1(ne,aS,Ht,Ut),ex=M1(ne,rS,Ht,Ut),nx=lS(ge,Ut),sx=D1(ne,nx,Ht),ix=Qy(__,ge,ke,LS,$T,tx,ex,sx,Vr),zh=u1(u_),ax=Dy(zh),v_=Ab(jn),rx=Yb(zh),y_=Ib(jn),b_=new WeakMap,lx=s1(b_,Sn),ox=Q1(v_,jn,ge,Bs,kr,va,Be,jr,ke,y_,jh,lx,Us),cx=G1(ge,ox,Be,ke,Us),ux=fb(zn,v_,_a,Bs,kr,va,Be,rx,y_,jh,It,wr,is,Vn,xe,Ao),hx=l1(g_),fx=DS(b_),yg=m_?cb(ax,ne,xn,ux,cx,Re,hx,Ht,Ut,wr,WS,fx,eT,ga):void 0,dx=jb(ke,is),px=kS(Dh,Tn,Eh,zh,Ao,uo,Rh,kh),mx=vS(__,Tn,ge,dx,px),gx=_1(So,Oh),_x=v1(yh,Mh),vx=y1(bh,i_),yx=b1(So,Ut);function Je(l){return l===void 0}function St(l){return l!==void 0}function bx(l){return typeof l=="function"}function es(l){return typeof l=="number"}function js(l){return Object.prototype.toString.call(l)==="[object Object]"&&l.constructor===Object}function S_(l){return typeof l=="boolean"}function fn(l){return Array.isArray(l)}function ns(l){return typeof l=="string"}function so(l){return ns(l)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(l)}function yt(l,n){if(!l)throw new Error(n)}function Vs(l,n,i=1/0){if(!(n<=l&&l<=i))throw new RangeError(`Value must be within [${n}, ${i}], got: ${l}`)}function T_(l){!l.isOffline&&l.state!=="running"&&Vh('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let x_=!1,bg=!1;function Sg(l){x_=l}function Sx(l){Je(l)&&x_&&!bg&&(bg=!0,Vh("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let w_=console;function Tx(...l){w_.log(...l)}function Vh(...l){w_.warn(...l)}function xx(l){return new ix(l)}function wx(l,n,i){return new mx(l,n,i)}const Pe=typeof self=="object"?self:null,Ax=Pe&&(Pe.hasOwnProperty("AudioContext")||Pe.hasOwnProperty("webkitAudioContext"));function Cx(l,n,i){return yt(St(yg),"AudioWorkletNode only works in a secure context (https or localhost)"),new(l instanceof(Pe==null?void 0:Pe.BaseAudioContext)?Pe==null?void 0:Pe.AudioWorkletNode:yg)(l,n,i)}function wn(l,n,i,a){var o=arguments.length,u=o<3?n:a===null?a=Object.getOwnPropertyDescriptor(n,i):a,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(l,n,i,a);else for(var f=l.length-1;f>=0;f--)(p=l[f])&&(u=(o<3?p(u):o>3?p(n,i,u):p(n,i))||u);return o>3&&u&&Object.defineProperty(n,i,u),u}function le(l,n,i,a){function o(u){return u instanceof i?u:new i(function(p){p(u)})}return new(i||(i=Promise))(function(u,p){function f(g){try{d(a.next(g))}catch(v){p(v)}}function m(g){try{d(a.throw(g))}catch(v){p(v)}}function d(g){g.done?u(g.value):o(g.value).then(f,m)}d((a=a.apply(l,n||[])).next())})}class Nx{constructor(n,i,a,o){this._callback=n,this._type=i,this._minimumUpdateInterval=Math.max(128/(o||44100),.001),this.updateInterval=a,this._createClock()}_createWorker(){const n=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),i=URL.createObjectURL(n),a=new Worker(i);a.onmessage=this._callback.bind(this),this._worker=a}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(n){var i;this._updateInterval=Math.max(n,this._minimumUpdateInterval),this._type==="worker"&&((i=this._worker)===null||i===void 0||i.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(n){this._disposeClock(),this._type=n,this._createClock()}dispose(){this._disposeClock()}}function hi(l){return vx(l)}function zs(l){return _x(l)}function lo(l){return yx(l)}function ta(l){return gx(l)}function Ex(l){return l instanceof r_}function Ox(l,n){return l==="value"||hi(n)||zs(n)||Ex(n)}function ia(l,...n){if(!n.length)return l;const i=n.shift();if(js(l)&&js(i))for(const a in i)Ox(a,i[a])?l[a]=i[a]:js(i[a])?(l[a]||Object.assign(l,{[a]:{}}),ia(l[a],i[a])):Object.assign(l,{[a]:i[a]});return ia(l,...n)}function Mx(l,n){return l.length===n.length&&l.every((i,a)=>n[a]===i)}function _t(l,n,i=[],a){const o={},u=Array.from(n);if(js(u[0])&&a&&!Reflect.has(u[0],a)&&(Object.keys(u[0]).some(f=>Reflect.has(l,f))||(ia(o,{[a]:u[0]}),i.splice(i.indexOf(a),1),u.shift())),u.length===1&&js(u[0]))ia(o,u[0]);else for(let p=0;p<i.length;p++)St(u[p])&&(o[i[p]]=u[p]);return ia(l,o)}function Dx(l){return l.constructor.getDefaults()}function Rn(l,n){return Je(l)?n:l}function Tg(l,n){return n.forEach(i=>{Reflect.has(l,i)&&delete l[i]}),l}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class as{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...n){(this.debug||Pe&&this.toString()===Pe.TONE_DEBUG_CLASS)&&Tx(this,...n)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}as.version=Eg;const qh=1e-6;function oa(l,n){return l>n+qh}function ph(l,n){return oa(l,n)||yn(l,n)}function vo(l,n){return l+qh<n}function yn(l,n){return Math.abs(l-n)<qh}function Rx(l,n,i){return Math.max(Math.min(l,i),n)}class dn extends as{constructor(){super(),this.name="Timeline",this._timeline=[];const n=_t(dn.getDefaults(),arguments,["memory"]);this.memory=n.memory,this.increasing=n.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(n){if(yt(Reflect.has(n,"time"),"Timeline: events must have a time attribute"),n.time=n.time.valueOf(),this.increasing&&this.length){const i=this._timeline[this.length-1];yt(ph(n.time,i.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(n)}else{const i=this._search(n.time);this._timeline.splice(i+1,0,n)}if(this.length>this.memory){const i=this.length-this.memory;this._timeline.splice(0,i)}return this}remove(n){const i=this._timeline.indexOf(n);return i!==-1&&this._timeline.splice(i,1),this}get(n,i="time"){const a=this._search(n,i);return a!==-1?this._timeline[a]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(n,i="time"){const a=this._search(n,i);return a+1<this._timeline.length?this._timeline[a+1]:null}getBefore(n){const i=this._timeline.length;if(i>0&&this._timeline[i-1].time<n)return this._timeline[i-1];const a=this._search(n);return a-1>=0?this._timeline[a-1]:null}cancel(n){if(this._timeline.length>1){let i=this._search(n);if(i>=0)if(yn(this._timeline[i].time,n)){for(let a=i;a>=0&&yn(this._timeline[a].time,n);a--)i=a;this._timeline=this._timeline.slice(0,i)}else this._timeline=this._timeline.slice(0,i+1);else this._timeline=[]}else this._timeline.length===1&&ph(this._timeline[0].time,n)&&(this._timeline=[]);return this}cancelBefore(n){const i=this._search(n);return i>=0&&(this._timeline=this._timeline.slice(i+1)),this}previousEvent(n){const i=this._timeline.indexOf(n);return i>0?this._timeline[i-1]:null}_search(n,i="time"){if(this._timeline.length===0)return-1;let a=0;const o=this._timeline.length;let u=o;if(o>0&&this._timeline[o-1][i]<=n)return o-1;for(;a<u;){let p=Math.floor(a+(u-a)/2);const f=this._timeline[p],m=this._timeline[p+1];if(yn(f[i],n)){for(let d=p;d<this._timeline.length;d++){const g=this._timeline[d];if(yn(g[i],n))p=d;else break}return p}else{if(vo(f[i],n)&&oa(m[i],n))return p;oa(f[i],n)?u=p:a=p+1}}return-1}_iterate(n,i=0,a=this._timeline.length-1){this._timeline.slice(i,a+1).forEach(n)}forEach(n){return this._iterate(n),this}forEachBefore(n,i){const a=this._search(n);return a!==-1&&this._iterate(i,0,a),this}forEachAfter(n,i){const a=this._search(n);return this._iterate(i,a+1),this}forEachBetween(n,i,a){let o=this._search(n),u=this._search(i);return o!==-1&&u!==-1?(this._timeline[o].time!==n&&(o+=1),this._timeline[u].time===i&&(u-=1),this._iterate(a,o,u)):o===-1&&this._iterate(a,0,u),this}forEachFrom(n,i){let a=this._search(n);for(;a>=0&&this._timeline[a].time>=n;)a--;return this._iterate(i,a+1),this}forEachAtTime(n,i){const a=this._search(n);if(a!==-1&&yn(this._timeline[a].time,n)){let o=a;for(let u=a;u>=0&&yn(this._timeline[u].time,n);u--)o=u;this._iterate(u=>{i(u)},o,a)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const A_=[];function No(l){A_.push(l)}function kx(l){A_.forEach(n=>n(l))}const C_=[];function Eo(l){C_.push(l)}function jx(l){C_.forEach(n=>n(l))}class qr extends as{constructor(){super(...arguments),this.name="Emitter"}on(n,i){return n.split(/\W+/).forEach(o=>{Je(this._events)&&(this._events={}),this._events.hasOwnProperty(o)||(this._events[o]=[]),this._events[o].push(i)}),this}once(n,i){const a=(...o)=>{i(...o),this.off(n,a)};return this.on(n,a),this}off(n,i){return n.split(/\W+/).forEach(o=>{if(Je(this._events)&&(this._events={}),this._events.hasOwnProperty(o))if(Je(i))this._events[o]=[];else{const u=this._events[o];for(let p=u.length-1;p>=0;p--)u[p]===i&&u.splice(p,1)}}),this}emit(n,...i){if(this._events&&this._events.hasOwnProperty(n)){const a=this._events[n].slice(0);for(let o=0,u=a.length;o<u;o++)a[o].apply(this,i)}return this}static mixin(n){["on","once","off","emit"].forEach(i=>{const a=Object.getOwnPropertyDescriptor(qr.prototype,i);Object.defineProperty(n.prototype,i,a)})}dispose(){return super.dispose(),this._events=void 0,this}}class N_ extends qr{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Ur extends N_{constructor(){var n,i;super(),this.name="Context",this._constants=new Map,this._timeouts=new dn,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const a=_t(Ur.getDefaults(),arguments,["context"]);a.context?(this._context=a.context,this._latencyHint=((n=arguments[0])===null||n===void 0?void 0:n.latencyHint)||""):(this._context=xx({latencyHint:a.latencyHint}),this._latencyHint=a.latencyHint),this._ticker=new Nx(this.emit.bind(this,"tick"),a.clockSource,a.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((i=arguments[0])===null||i===void 0)&&i.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=a.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(kx(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(n,i,a){return this._context.createBuffer(n,i,a)}createChannelMerger(n){return this._context.createChannelMerger(n)}createChannelSplitter(n){return this._context.createChannelSplitter(n)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(n){return this._context.createDelay(n)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(n,i){return this._context.createIIRFilter(n,i)}createPanner(){return this._context.createPanner()}createPeriodicWave(n,i,a){return this._context.createPeriodicWave(n,i,a)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(n){return yt(ta(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(n)}createMediaElementSource(n){return yt(ta(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(n)}createMediaStreamDestination(){return yt(ta(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(n){return this._context.decodeAudioData(n)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(n){yt(!this._initialized,"The listener cannot be set after initialization."),this._listener=n}get transport(){return this.initialize(),this._transport}set transport(n){yt(!this._initialized,"The transport cannot be set after initialization."),this._transport=n}get draw(){return this.initialize(),this._draw}set draw(n){yt(!this._initialized,"Draw cannot be set after initialization."),this._draw=n}get destination(){return this.initialize(),this._destination}set destination(n){yt(!this._initialized,"The destination cannot be set after initialization."),this._destination=n}createAudioWorkletNode(n,i){return Cx(this.rawContext,n,i)}addAudioWorkletModule(n){return le(this,void 0,void 0,function*(){yt(St(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(n)),yield this._workletPromise})}workletsAreReady(){return le(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(n){this._ticker.updateInterval=n}get clockSource(){return this._ticker.type}set clockSource(n){this._ticker.type=n}get lookAhead(){return this._lookAhead}set lookAhead(n){this._lookAhead=n,this.updateInterval=n?n/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return ta(this._context)?this._context.resume():Promise.resolve()}close(){return le(this,void 0,void 0,function*(){ta(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&jx(this)})}getConstant(n){if(this._constants.has(n))return this._constants.get(n);{const i=this._context.createBuffer(1,128,this._context.sampleRate),a=i.getChannelData(0);for(let u=0;u<a.length;u++)a[u]=n;const o=this._context.createBufferSource();return o.channelCount=1,o.channelCountMode="explicit",o.buffer=i,o.loop=!0,o.start(0),this._constants.set(n,o),o}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(n=>this._constants[n].disconnect()),this.close(),this}_timeoutLoop(){const n=this.now();this._timeouts.forEachBefore(n,i=>{i.callback(),this._timeouts.remove(i)})}setTimeout(n,i){this._timeoutIds++;const a=this.now();return this._timeouts.add({callback:n,id:this._timeoutIds,time:a+i}),this._timeoutIds}clearTimeout(n){return this._timeouts.forEach(i=>{i.id===n&&this._timeouts.remove(i)}),this}clearInterval(n){return this.clearTimeout(n)}setInterval(n,i){const a=++this._timeoutIds,o=()=>{const u=this.now();this._timeouts.add({callback:()=>{n(),o()},id:a,time:u+i})};return o(),a}}class zx extends N_{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(n,i,a){return{}}createChannelMerger(n){return{}}createChannelSplitter(n){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(n){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(n,i){return{}}createPanner(){return{}}createPeriodicWave(n,i,a){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(n){return{}}createMediaElementSource(n){return{}}createMediaStreamDestination(){return{}}decodeAudioData(n){return Promise.resolve({})}createAudioWorkletNode(n,i){return{}}get rawContext(){return{}}addAudioWorkletModule(n){return le(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(n,i){return 0}clearTimeout(n){return this}setInterval(n,i){return 0}clearInterval(n){return this}getConstant(n){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(n){}get destination(){return{}}set destination(n){}now(){return 0}immediate(){return 0}}function $t(l,n){fn(n)?n.forEach(i=>$t(l,i)):Object.defineProperty(l,n,{enumerable:!0,writable:!1})}function E_(l,n){fn(n)?n.forEach(i=>E_(l,i)):Object.defineProperty(l,n,{writable:!0})}const Dt=()=>{};class Xt extends as{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Dt;const n=_t(Xt.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=n.reverse,this.onload=n.onload,ns(n.url)?this.load(n.url).catch(n.onerror):n.url&&this.set(n.url)}static getDefaults(){return{onerror:Dt,onload:Dt,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:un().sampleRate}set(n){return n instanceof Xt?n.loaded?this._buffer=n.get():n.onload=()=>{this.set(n),this.onload(this)}:this._buffer=n,this._reversed&&this._reverse(),this}get(){return this._buffer}load(n){return le(this,void 0,void 0,function*(){const i=Xt.load(n).then(a=>{this.set(a),this.onload(this)});Xt.downloads.push(i);try{yield i}finally{const a=Xt.downloads.indexOf(i);Xt.downloads.splice(a,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(n){const i=fn(n)&&n[0].length>0,a=i?n.length:1,o=i?n[0].length:n.length,u=un(),p=u.createBuffer(a,o,u.sampleRate),f=!i&&a===1?[n]:n;for(let m=0;m<a;m++)p.copyToChannel(f[m],m);return this._buffer=p,this}toMono(n){if(es(n))this.fromArray(this.toArray(n));else{let i=new Float32Array(this.length);const a=this.numberOfChannels;for(let o=0;o<a;o++){const u=this.toArray(o);for(let p=0;p<u.length;p++)i[p]+=u[p]}i=i.map(o=>o/a),this.fromArray(i)}return this}toArray(n){if(es(n))return this.getChannelData(n);if(this.numberOfChannels===1)return this.toArray(0);{const i=[];for(let a=0;a<this.numberOfChannels;a++)i[a]=this.getChannelData(a);return i}}getChannelData(n){return this._buffer?this._buffer.getChannelData(n):new Float32Array(0)}slice(n,i=this.duration){yt(this.loaded,"Buffer is not loaded");const a=Math.floor(n*this.sampleRate),o=Math.floor(i*this.sampleRate);yt(a<o,"The start time must be less than the end time");const u=o-a,p=un().createBuffer(this.numberOfChannels,u,this.sampleRate);for(let f=0;f<this.numberOfChannels;f++)p.copyToChannel(this.getChannelData(f).subarray(a,o),f);return new Xt(p)}_reverse(){if(this.loaded)for(let n=0;n<this.numberOfChannels;n++)this.getChannelData(n).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(n){this._reversed!==n&&(this._reversed=n,this._reverse())}static fromArray(n){return new Xt().fromArray(n)}static fromUrl(n){return le(this,void 0,void 0,function*(){return yield new Xt().load(n)})}static load(n){return le(this,void 0,void 0,function*(){const i=Xt.baseUrl===""||Xt.baseUrl.endsWith("/")?Xt.baseUrl:Xt.baseUrl+"/",a=yield fetch(i+n);if(!a.ok)throw new Error(`could not load url: ${n}`);const o=yield a.arrayBuffer();return yield un().decodeAudioData(o)})}static supportsType(n){const i=n.split("."),a=i[i.length-1];return document.createElement("audio").canPlayType("audio/"+a)!==""}static loaded(){return le(this,void 0,void 0,function*(){for(yield Promise.resolve();Xt.downloads.length;)yield Xt.downloads[0]})}}Xt.baseUrl="";Xt.downloads=[];class Uh extends Ur{constructor(){super({clockSource:"offline",context:lo(arguments[0])?arguments[0]:wx(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:lo(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=lo(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(n){return le(this,void 0,void 0,function*(){let i=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,i++;const a=Math.floor(this.sampleRate/128);n&&i%a===0&&(yield new Promise(o=>setTimeout(o,1)))}})}render(){return le(this,arguments,void 0,function*(n=!0){yield this.workletsAreReady(),yield this._renderClock(n);const i=yield this._context.startRendering();return new Xt(i)})}close(){return Promise.resolve()}}const O_=new zx;let oi=O_;function un(){return oi===O_&&Ax&&Vx(new Ur),oi}function Vx(l,n=!1){n&&oi.dispose(),ta(l)?oi=new Ur(l):lo(l)?oi=new Uh(l):oi=l}function qx(){return oi.resume()}if(Pe&&!Pe.TONE_SILENCE_LOGGING){const n=` * Tone.js v${Eg} * `;console.log(`%c${n}`,"background: #000; color: #fff")}function Ux(l){return Math.pow(10,l/20)}function Ar(l){return 20*(Math.log(l)/Math.LN10)}function M_(l){return Math.pow(2,l/12)}let Oo=440;function Bx(){return Oo}function Lx(l){Oo=l}function mh(l){return Math.round(D_(l))}function D_(l){return 69+12*Math.log2(l/Oo)}function Hx(l){return Oo*Math.pow(2,(l-69)/12)}class Bh extends as{constructor(n,i,a){super(),this.defaultUnits="s",this._val=i,this._units=a,this.context=n,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:n=>this._frequencyToUnits(parseFloat(n)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:n=>this._ticksToUnits(parseInt(n,10)),regexp:/^(\d+)i$/i},m:{method:n=>this._beatsToUnits(parseInt(n,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(n,i)=>{const a=parseInt(n,10),o=i==="."?1.5:1;return a===1?this._beatsToUnits(this._getTimeSignature())*o:this._beatsToUnits(4/a)*o},regexp:/^(\d+)n(\.?)$/i},number:{method:n=>this._expressions[this.defaultUnits].method.call(this,n),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:n=>this._secondsToUnits(parseFloat(n)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:n=>parseInt(n,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:n=>{const i=parseInt(n,10);return this._beatsToUnits(8/(Math.floor(i)*3))},regexp:/^(\d+)t$/i},tr:{method:(n,i,a)=>{let o=0;return n&&n!=="0"&&(o+=this._beatsToUnits(this._getTimeSignature()*parseFloat(n))),i&&i!=="0"&&(o+=this._beatsToUnits(parseFloat(i))),a&&a!=="0"&&(o+=this._beatsToUnits(parseFloat(a)/4)),o},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Bh&&this.fromType(this._val),Je(this._val))return this._noArg();if(ns(this._val)&&Je(this._units)){for(const n in this._expressions)if(this._expressions[n].regexp.test(this._val.trim())){this._units=n;break}}else if(js(this._val)){let n=0;for(const i in this._val)if(St(this._val[i])){const a=this._val[i],o=new this.constructor(this.context,i).valueOf()*a;n+=o}return n}if(St(this._units)){const n=this._expressions[this._units],i=this._val.toString().trim().match(n.regexp);return i?n.method.apply(this,i.slice(1)):n.method.call(this,this._val)}else return ns(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(n){return 1/n}_beatsToUnits(n){return 60/this._getBpm()*n}_secondsToUnits(n){return n}_ticksToUnits(n){return n*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(n){switch(this._units=void 0,this.defaultUnits){case"s":this._val=n.toSeconds();break;case"i":this._val=n.toTicks();break;case"hz":this._val=n.toFrequency();break;case"midi":this._val=n.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class bn extends Bh{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:n=>this._now()+new this.constructor(this.context,n).valueOf(),regexp:/^\+(.+)/},quantize:{method:n=>{const i=new bn(this.context,n).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(i))},regexp:/^@(.+)/}})}quantize(n,i=1){const a=new this.constructor(this.context,n).valueOf(),o=this.valueOf(),f=Math.round(o/a)*a-o;return o+f*i}toNotation(){const n=this.toSeconds(),i=["1m"];for(let u=1;u<9;u++){const p=Math.pow(2,u);i.push(p+"n."),i.push(p+"n"),i.push(p+"t")}i.push("0");let a=i[0],o=new bn(this.context,i[0]).toSeconds();return i.forEach(u=>{const p=new bn(this.context,u).toSeconds();Math.abs(p-n)<Math.abs(o-n)&&(a=u,o=p)}),a}toBarsBeatsSixteenths(){const n=this._beatsToUnits(1);let i=this.valueOf()/n;i=parseFloat(i.toFixed(4));const a=Math.floor(i/this._getTimeSignature());let o=i%1*4;i=Math.floor(i)%this._getTimeSignature();const u=o.toString();return u.length>3&&(o=parseFloat(parseFloat(u).toFixed(3))),[a,i,o].join(":")}toTicks(){const n=this._beatsToUnits(1);return this.valueOf()/n*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return mh(this.toFrequency())}_now(){return this.context.now()}}class hn extends bn{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return Bx()}static set A4(n){Lx(n)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(n){return this.defaultUnits==="midi"?n:hn.mtof(n)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(n,i){const o=Yx[n.toLowerCase()]+(parseInt(i,10)+1)*12;return this.defaultUnits==="midi"?o:hn.mtof(o)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(n,i,a){let o=1;return n&&n!=="0"&&(o*=this._beatsToUnits(this._getTimeSignature()*parseFloat(n))),i&&i!=="0"&&(o*=this._beatsToUnits(parseFloat(i))),a&&a!=="0"&&(o*=this._beatsToUnits(parseFloat(a)/4)),o}}})}transpose(n){return new hn(this.context,this.valueOf()*M_(n))}harmonize(n){return n.map(i=>this.transpose(i))}toMidi(){return mh(this.valueOf())}toNote(){const n=this.toFrequency(),i=Math.log2(n/hn.A4);let a=Math.round(12*i)+57;const o=Math.floor(a/12);return o<0&&(a+=-12*o),Gx[a%12]+o.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const n=this._beatsToUnits(1),i=this.valueOf()/n;return Math.floor(i*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(n){return n}_ticksToUnits(n){return 1/(n*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(n){return 1/super._beatsToUnits(n)}_secondsToUnits(n){return 1/n}static mtof(n){return Hx(n)}static ftom(n){return mh(n)}}const Yx={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},Gx=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class aa extends bn{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class _e extends as{constructor(){super();const n=_t(_e.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=n.context}static getDefaults(){return{context:un()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(n){return Sx(n),new bn(this.context,n).toSeconds()}toFrequency(n){return new hn(this.context,n).toFrequency()}toTicks(n){return new aa(this.context,n).toTicks()}_getPartialProperties(n){const i=this.get();return Object.keys(i).forEach(a=>{Je(n[a])&&delete i[a]}),i}get(){const n=Dx(this);return Object.keys(n).forEach(i=>{if(Reflect.has(this,i)){const a=this[i];St(a)&&St(a.value)&&St(a.setValueAtTime)?n[i]=a.value:a instanceof _e?n[i]=a._getPartialProperties(n[i]):fn(a)||es(a)||ns(a)||S_(a)?n[i]=a:delete n[i]}}),n}set(n){return Object.keys(n).forEach(i=>{Reflect.has(this,i)&&St(this[i])&&(this[i]&&St(this[i].value)&&St(this[i].setValueAtTime)?this[i].value!==n[i]&&(this[i].value=n[i]):this[i]instanceof _e?this[i].set(n[i]):this[i]=n[i])}),this}}class Br extends dn{constructor(n="stopped"){super(),this.name="StateTimeline",this._initial=n,this.setStateAtTime(this._initial,0)}getValueAtTime(n){const i=this.get(n);return i!==null?i.state:this._initial}setStateAtTime(n,i,a){return Vs(i,0),this.add(Object.assign({},a,{state:n,time:i})),this}getLastState(n,i){const a=this._search(i);for(let o=a;o>=0;o--){const u=this._timeline[o];if(u.state===n)return u}}getNextState(n,i){const a=this._search(i);if(a!==-1)for(let o=a;o<this._timeline.length;o++){const u=this._timeline[o];if(u.state===n)return u}}}class Wt extends _e{constructor(){const n=_t(Wt.getDefaults(),arguments,["param","units","convert"]);for(super(n),this.name="Param",this.overridden=!1,this._minOutput=1e-7,yt(St(n.param)&&(hi(n.param)||n.param instanceof Wt),"param must be an AudioParam");!hi(n.param);)n.param=n.param._param;this._swappable=St(n.swappable)?n.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=n.param,this.input.connect(this._param)):this._param=this.input=n.param,this._events=new dn(1e3),this._initialValue=this._param.defaultValue,this.units=n.units,this.convert=n.convert,this._minValue=n.minValue,this._maxValue=n.maxValue,St(n.value)&&n.value!==this._toType(this._initialValue)&&this.setValueAtTime(n.value,0)}static getDefaults(){return Object.assign(_e.getDefaults(),{convert:!0,units:"number"})}get value(){const n=this.now();return this.getValueAtTime(n)}set value(n){this.cancelScheduledValues(this.now()),this.setValueAtTime(n,this.now())}get minValue(){return St(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return St(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(n,i){return this.units===i}_assertRange(n){return St(this.maxValue)&&St(this.minValue)&&Vs(n,this._fromType(this.minValue),this._fromType(this.maxValue)),n}_fromType(n){return this.convert&&!this.overridden?this._is(n,"time")?this.toSeconds(n):this._is(n,"decibels")?Ux(n):this._is(n,"frequency")?this.toFrequency(n):n:this.overridden?0:n}_toType(n){return this.convert&&this.units==="decibels"?Ar(n):n}setValueAtTime(n,i){const a=this.toSeconds(i),o=this._fromType(n);return yt(isFinite(o)&&isFinite(a),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(n)}, ${JSON.stringify(i)}`),this._assertRange(o),this.log(this.units,"setValueAtTime",n,a),this._events.add({time:a,type:"setValueAtTime",value:o}),this._param.setValueAtTime(o,a),this}getValueAtTime(n){const i=Math.max(this.toSeconds(n),0),a=this._events.getAfter(i),o=this._events.get(i);let u=this._initialValue;if(o===null)u=this._initialValue;else if(o.type==="setTargetAtTime"&&(a===null||a.type==="setValueAtTime")){const p=this._events.getBefore(o.time);let f;p===null?f=this._initialValue:f=p.value,o.type==="setTargetAtTime"&&(u=this._exponentialApproach(o.time,f,o.value,o.constant,i))}else if(a===null)u=o.value;else if(a.type==="linearRampToValueAtTime"||a.type==="exponentialRampToValueAtTime"){let p=o.value;if(o.type==="setTargetAtTime"){const f=this._events.getBefore(o.time);f===null?p=this._initialValue:p=f.value}a.type==="linearRampToValueAtTime"?u=this._linearInterpolate(o.time,p,a.time,a.value,i):u=this._exponentialInterpolate(o.time,p,a.time,a.value,i)}else u=o.value;return this._toType(u)}setRampPoint(n){n=this.toSeconds(n);let i=this.getValueAtTime(n);return this.cancelAndHoldAtTime(n),this._fromType(i)===0&&(i=this._toType(this._minOutput)),this.setValueAtTime(i,n),this}linearRampToValueAtTime(n,i){const a=this._fromType(n),o=this.toSeconds(i);return yt(isFinite(a)&&isFinite(o),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(n)}, ${JSON.stringify(i)}`),this._assertRange(a),this._events.add({time:o,type:"linearRampToValueAtTime",value:a}),this.log(this.units,"linearRampToValueAtTime",n,o),this._param.linearRampToValueAtTime(a,o),this}exponentialRampToValueAtTime(n,i){let a=this._fromType(n);a=yn(a,0)?this._minOutput:a,this._assertRange(a);const o=this.toSeconds(i);return yt(isFinite(a)&&isFinite(o),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(n)}, ${JSON.stringify(i)}`),this._events.add({time:o,type:"exponentialRampToValueAtTime",value:a}),this.log(this.units,"exponentialRampToValueAtTime",n,o),this._param.exponentialRampToValueAtTime(a,o),this}exponentialRampTo(n,i,a){return a=this.toSeconds(a),this.setRampPoint(a),this.exponentialRampToValueAtTime(n,a+this.toSeconds(i)),this}linearRampTo(n,i,a){return a=this.toSeconds(a),this.setRampPoint(a),this.linearRampToValueAtTime(n,a+this.toSeconds(i)),this}targetRampTo(n,i,a){return a=this.toSeconds(a),this.setRampPoint(a),this.exponentialApproachValueAtTime(n,a,i),this}exponentialApproachValueAtTime(n,i,a){i=this.toSeconds(i),a=this.toSeconds(a);const o=Math.log(a+1)/Math.log(200);return this.setTargetAtTime(n,i,o),this.cancelAndHoldAtTime(i+a*.9),this.linearRampToValueAtTime(n,i+a),this}setTargetAtTime(n,i,a){const o=this._fromType(n);yt(isFinite(a)&&a>0,"timeConstant must be a number greater than 0");const u=this.toSeconds(i);return this._assertRange(o),yt(isFinite(o)&&isFinite(u),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(n)}, ${JSON.stringify(i)}`),this._events.add({constant:a,time:u,type:"setTargetAtTime",value:o}),this.log(this.units,"setTargetAtTime",n,u,a),this._param.setTargetAtTime(o,u,a),this}setValueCurveAtTime(n,i,a,o=1){a=this.toSeconds(a),i=this.toSeconds(i);const u=this._fromType(n[0])*o;this.setValueAtTime(this._toType(u),i);const p=a/(n.length-1);for(let f=1;f<n.length;f++){const m=this._fromType(n[f])*o;this.linearRampToValueAtTime(this._toType(m),i+f*p)}return this}cancelScheduledValues(n){const i=this.toSeconds(n);return yt(isFinite(i),`Invalid argument to cancelScheduledValues: ${JSON.stringify(n)}`),this._events.cancel(i),this._param.cancelScheduledValues(i),this.log(this.units,"cancelScheduledValues",i),this}cancelAndHoldAtTime(n){const i=this.toSeconds(n),a=this._fromType(this.getValueAtTime(i));yt(isFinite(i),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(n)}`),this.log(this.units,"cancelAndHoldAtTime",i,"value="+a);const o=this._events.get(i),u=this._events.getAfter(i);return o&&yn(o.time,i)?u?(this._param.cancelScheduledValues(u.time),this._events.cancel(u.time)):(this._param.cancelAndHoldAtTime(i),this._events.cancel(i+this.sampleTime)):u&&(this._param.cancelScheduledValues(u.time),this._events.cancel(u.time),u.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(a),i):u.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(a),i)),this._events.add({time:i,type:"setValueAtTime",value:a}),this._param.setValueAtTime(a,i),this}rampTo(n,i=.1,a){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(n,i,a):this.linearRampTo(n,i,a),this}apply(n){const i=this.context.currentTime;n.setValueAtTime(this.getValueAtTime(i),i);const a=this._events.get(i);if(a&&a.type==="setTargetAtTime"){const o=this._events.getAfter(a.time),u=o?o.time:i+2,p=(u-i)/10;for(let f=i;f<u;f+=p)n.linearRampToValueAtTime(this.getValueAtTime(f),f)}return this._events.forEachAfter(this.context.currentTime,o=>{o.type==="cancelScheduledValues"?n.cancelScheduledValues(o.time):o.type==="setTargetAtTime"?n.setTargetAtTime(o.value,o.time,o.constant):n[o.type](o.value,o.time)}),this}setParam(n){yt(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const i=this.input;return i.disconnect(this._param),this.apply(n),this._param=n,i.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(n,i,a,o,u){return a+(i-a)*Math.exp(-(u-n)/o)}_linearInterpolate(n,i,a,o,u){return i+(o-i)*((u-n)/(a-n))}_exponentialInterpolate(n,i,a,o,u){return i*Math.pow(o/i,(u-n)/(a-n))}}class At extends _e{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return St(this.input)?hi(this.input)||this.input instanceof Wt?1:this.input.numberOfInputs:0}get numberOfOutputs(){return St(this.output)?this.output.numberOfOutputs:0}_isAudioNode(n){return St(n)&&(n instanceof At||zs(n))}_getInternalNodes(){const n=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&n.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&n.push(this.output),n}_setChannelProperties(n){this._getInternalNodes().forEach(a=>{a.channelCount=n.channelCount,a.channelCountMode=n.channelCountMode,a.channelInterpretation=n.channelInterpretation})}_getChannelProperties(){const n=this._getInternalNodes();yt(n.length>0,"ToneAudioNode does not have any internal nodes");const i=n[0];return{channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(n){const i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelCount:n}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(n){const i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelCountMode:n}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(n){const i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelInterpretation:n}))}connect(n,i=0,a=0){return ya(this,n,i,a),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Vh("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(n,i=0,a=0){return Xx(this,n,i,a),this}chain(...n){return gh(this,...n),this}fan(...n){return n.forEach(i=>this.connect(i)),this}dispose(){return super.dispose(),St(this.input)&&(this.input instanceof At?this.input.dispose():zs(this.input)&&this.input.disconnect()),St(this.output)&&(this.output instanceof At?this.output.dispose():zs(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function gh(...l){const n=l.shift();l.reduce((i,a)=>(i instanceof At?i.connect(a):zs(i)&&ya(i,a),a),n)}function ya(l,n,i=0,a=0){for(yt(St(l),"Cannot connect from undefined node"),yt(St(n),"Cannot connect to undefined node"),(n instanceof At||zs(n))&&yt(n.numberOfInputs>0,"Cannot connect to node with no inputs"),yt(l.numberOfOutputs>0,"Cannot connect from node with no outputs");n instanceof At||n instanceof Wt;)St(n.input)&&(n=n.input);for(;l instanceof At;)St(l.output)&&(l=l.output);hi(n)?l.connect(n,i):l.connect(n,i,a)}function Xx(l,n,i=0,a=0){if(St(n))for(;n instanceof At;)n=n.input;for(;!zs(l);)St(l.output)&&(l=l.output);hi(n)?l.disconnect(n,i):zs(n)?l.disconnect(n,i,a):l.disconnect()}class Ee extends At{constructor(){const n=_t(Ee.getDefaults(),arguments,["gain","units"]);super(n),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new Wt({context:this.context,convert:n.convert,param:this._gainNode.gain,units:n.units,value:n.gain,minValue:n.minValue,maxValue:n.maxValue}),$t(this,"gain")}static getDefaults(){return Object.assign(At.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class ca extends At{constructor(n){super(n),this.onended=Dt,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Ee({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(i){const a=this.toSeconds(i);return this._startTime!==-1&&a>=this._startTime&&(this._stopTime===-1||a<=this._stopTime)?"started":"stopped"},this._fadeIn=n.fadeIn,this._fadeOut=n.fadeOut,this._curve=n.curve,this.onended=n.onended}static getDefaults(){return Object.assign(At.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Dt})}_startGain(n,i=1){yt(this._startTime===-1,"Source cannot be started more than once");const a=this.toSeconds(this._fadeIn);return this._startTime=n+a,this._startTime=Math.max(this._startTime,this.context.currentTime),a>0?(this._gainNode.gain.setValueAtTime(0,n),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(i,n+a):this._gainNode.gain.exponentialApproachValueAtTime(i,n,a)):this._gainNode.gain.setValueAtTime(i,n),this}stop(n){return this.log("stop",n),this._stopGain(this.toSeconds(n)),this}_stopGain(n){yt(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const i=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(n)+i,this._stopTime=Math.max(this._stopTime,this.now()),i>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,i,n):this._gainNode.gain.targetRampTo(0,i,n):(this._gainNode.gain.cancelAndHoldAtTime(n),this._gainNode.gain.setValueAtTime(0,n)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const a=this._curve==="exponential"?i*2:0;this._stopSource(this.now()+a),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Dt&&(this.onended(this),this.onended=Dt,!this.context.isOffline)){const n=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(n):setTimeout(n,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),yt(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Dt,this}}class Lh extends ca{constructor(){const n=_t(Lh.getDefaults(),arguments,["offset"]);super(n),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),ya(this._source,this._gainNode),this.offset=new Wt({context:this.context,convert:n.convert,param:this._source.offset,units:n.units,value:n.offset,minValue:n.minValue,maxValue:n.maxValue})}static getDefaults(){return Object.assign(ca.getDefaults(),{convert:!0,offset:1,units:"number"})}start(n){const i=this.toSeconds(n);return this.log("start",i),this._startGain(i),this._source.start(i),this}_stopSource(n){this._source.stop(n)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class ve extends At{constructor(){const n=_t(ve.getDefaults(),arguments,["value","units"]);super(n),this.name="Signal",this.override=!0,this.output=this._constantSource=new Lh({context:this.context,convert:n.convert,offset:n.value,units:n.units,minValue:n.minValue,maxValue:n.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(At.getDefaults(),{convert:!0,units:"number",value:0})}connect(n,i=0,a=0){return Hh(this,n,i,a),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(n,i){return this._param.setValueAtTime(n,i),this}getValueAtTime(n){return this._param.getValueAtTime(n)}setRampPoint(n){return this._param.setRampPoint(n),this}linearRampToValueAtTime(n,i){return this._param.linearRampToValueAtTime(n,i),this}exponentialRampToValueAtTime(n,i){return this._param.exponentialRampToValueAtTime(n,i),this}exponentialRampTo(n,i,a){return this._param.exponentialRampTo(n,i,a),this}linearRampTo(n,i,a){return this._param.linearRampTo(n,i,a),this}targetRampTo(n,i,a){return this._param.targetRampTo(n,i,a),this}exponentialApproachValueAtTime(n,i,a){return this._param.exponentialApproachValueAtTime(n,i,a),this}setTargetAtTime(n,i,a){return this._param.setTargetAtTime(n,i,a),this}setValueCurveAtTime(n,i,a,o){return this._param.setValueCurveAtTime(n,i,a,o),this}cancelScheduledValues(n){return this._param.cancelScheduledValues(n),this}cancelAndHoldAtTime(n){return this._param.cancelAndHoldAtTime(n),this}rampTo(n,i,a){return this._param.rampTo(n,i,a),this}get value(){return this._param.value}set value(n){this._param.value=n}get convert(){return this._param.convert}set convert(n){this._param.convert=n}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(n){this._param.overridden=n}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(n){return this._param.apply(n),this}}function Hh(l,n,i,a){(n instanceof Wt||hi(n)||n instanceof ve&&n.override)&&(n.cancelScheduledValues(0),n.setValueAtTime(0,0),n instanceof ve&&(n.overridden=!0)),ya(l,n,i,a)}class Yh extends Wt{constructor(){const n=_t(Yh.getDefaults(),arguments,["value"]);super(n),this.name="TickParam",this._events=new dn(1/0),this._multiplier=1,this._multiplier=n.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(n.value)}),this.setValueAtTime(n.value,0)}static getDefaults(){return Object.assign(Wt.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(n,i,a){i=this.toSeconds(i),this.setRampPoint(i);const o=this._fromType(n),u=this._events.get(i),p=Math.round(Math.max(1/a,1));for(let f=0;f<=p;f++){const m=a*f+i,d=this._exponentialApproach(u.time,u.value,o,a,m);this.linearRampToValueAtTime(this._toType(d),m)}return this}setValueAtTime(n,i){const a=this.toSeconds(i);super.setValueAtTime(n,i);const o=this._events.get(a),u=this._events.previousEvent(o),p=this._getTicksUntilEvent(u,a);return o.ticks=Math.max(p,0),this}linearRampToValueAtTime(n,i){const a=this.toSeconds(i);super.linearRampToValueAtTime(n,i);const o=this._events.get(a),u=this._events.previousEvent(o),p=this._getTicksUntilEvent(u,a);return o.ticks=Math.max(p,0),this}exponentialRampToValueAtTime(n,i){i=this.toSeconds(i);const a=this._fromType(n),o=this._events.get(i),u=Math.round(Math.max((i-o.time)*10,1)),p=(i-o.time)/u;for(let f=0;f<=u;f++){const m=p*f+o.time,d=this._exponentialInterpolate(o.time,o.value,i,a,m);this.linearRampToValueAtTime(this._toType(d),m)}return this}_getTicksUntilEvent(n,i){if(n===null)n={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Je(n.ticks)){const p=this._events.previousEvent(n);n.ticks=this._getTicksUntilEvent(p,n.time)}const a=this._fromType(this.getValueAtTime(n.time));let o=this._fromType(this.getValueAtTime(i));const u=this._events.get(i);return u&&u.time===i&&u.type==="setValueAtTime"&&(o=this._fromType(this.getValueAtTime(i-this.sampleTime))),.5*(i-n.time)*(a+o)+n.ticks}getTicksAtTime(n){const i=this.toSeconds(n),a=this._events.get(i);return Math.max(this._getTicksUntilEvent(a,i),0)}getDurationOfTicks(n,i){const a=this.toSeconds(i),o=this.getTicksAtTime(i);return this.getTimeOfTick(o+n)-a}getTimeOfTick(n){const i=this._events.get(n,"ticks"),a=this._events.getAfter(n,"ticks");if(i&&i.ticks===n)return i.time;if(i&&a&&a.type==="linearRampToValueAtTime"&&i.value!==a.value){const o=this._fromType(this.getValueAtTime(i.time)),p=(this._fromType(this.getValueAtTime(a.time))-o)/(a.time-i.time),f=Math.sqrt(Math.pow(o,2)-2*p*(i.ticks-n)),m=(-o+f)/p,d=(-o-f)/p;return(m>0?m:d)+i.time}else return i?i.value===0?1/0:i.time+(n-i.ticks)/i.value:n/this._initialValue}ticksToTime(n,i){return this.getDurationOfTicks(n,i)}timeToTicks(n,i){const a=this.toSeconds(i),o=this.toSeconds(n),u=this.getTicksAtTime(a);return this.getTicksAtTime(a+o)-u}_fromType(n){return this.units==="bpm"&&this.multiplier?1/(60/n/this.multiplier):super._fromType(n)}_toType(n){return this.units==="bpm"&&this.multiplier?n/this.multiplier*60:super._toType(n)}get multiplier(){return this._multiplier}set multiplier(n){const i=this.value;this._multiplier=n,this.cancelScheduledValues(0),this.setValueAtTime(i,0)}}class Gh extends ve{constructor(){const n=_t(Gh.getDefaults(),arguments,["value"]);super(n),this.name="TickSignal",this.input=this._param=new Yh({context:this.context,convert:n.convert,multiplier:n.multiplier,param:this._constantSource.offset,units:n.units,value:n.value})}static getDefaults(){return Object.assign(ve.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(n,i){return this._param.ticksToTime(n,i)}timeToTicks(n,i){return this._param.timeToTicks(n,i)}getTimeOfTick(n){return this._param.getTimeOfTick(n)}getDurationOfTicks(n,i){return this._param.getDurationOfTicks(n,i)}getTicksAtTime(n){return this._param.getTicksAtTime(n)}get multiplier(){return this._param.multiplier}set multiplier(n){this._param.multiplier=n}dispose(){return super.dispose(),this._param.dispose(),this}}class Xh extends _e{constructor(){const n=_t(Xh.getDefaults(),arguments,["frequency"]);super(n),this.name="TickSource",this._state=new Br,this._tickOffset=new dn,this._ticksAtTime=new dn,this._secondsAtTime=new dn,this.frequency=new Gh({context:this.context,units:n.units,value:n.frequency}),$t(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},_e.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(n,i){const a=this.toSeconds(n);return this._state.getValueAtTime(a)!=="started"&&(this._state.setStateAtTime("started",a),St(i)&&this.setTicksAtTime(i,a),this._ticksAtTime.cancel(a),this._secondsAtTime.cancel(a)),this}stop(n){const i=this.toSeconds(n);if(this._state.getValueAtTime(i)==="stopped"){const a=this._state.get(i);a&&a.time>0&&(this._tickOffset.cancel(a.time),this._state.cancel(a.time))}return this._state.cancel(i),this._state.setStateAtTime("stopped",i),this.setTicksAtTime(0,i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i),this}pause(n){const i=this.toSeconds(n);return this._state.getValueAtTime(i)==="started"&&(this._state.setStateAtTime("paused",i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i)),this}cancel(n){return n=this.toSeconds(n),this._state.cancel(n),this._tickOffset.cancel(n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getTicksAtTime(n){const i=this.toSeconds(n),a=this._state.getLastState("stopped",i),o=this._ticksAtTime.get(i),u={state:"paused",time:i};this._state.add(u);let p=o||a,f=o?o.ticks:0,m=null;return this._state.forEachBetween(p.time,i+this.sampleTime,d=>{let g=p.time;const v=this._tickOffset.get(d.time);v&&v.time>=p.time&&(f=v.ticks,g=v.time),p.state==="started"&&d.state!=="started"&&(f+=this.frequency.getTicksAtTime(d.time)-this.frequency.getTicksAtTime(g),d.time!==u.time&&(m={state:d.state,time:d.time,ticks:f})),p=d}),this._state.remove(u),m&&this._ticksAtTime.add(m),f}get ticks(){return this.getTicksAtTime(this.now())}set ticks(n){this.setTicksAtTime(n,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(n){const i=this.now(),a=this.frequency.timeToTicks(n,i);this.setTicksAtTime(a,i)}getSecondsAtTime(n){n=this.toSeconds(n);const i=this._state.getLastState("stopped",n),a={state:"paused",time:n};this._state.add(a);const o=this._secondsAtTime.get(n);let u=o||i,p=o?o.seconds:0,f=null;return this._state.forEachBetween(u.time,n+this.sampleTime,m=>{let d=u.time;const g=this._tickOffset.get(m.time);g&&g.time>=u.time&&(p=g.seconds,d=g.time),u.state==="started"&&m.state!=="started"&&(p+=m.time-d,m.time!==a.time&&(f={state:m.state,time:m.time,seconds:p})),u=m}),this._state.remove(a),f&&this._secondsAtTime.add(f),p}setTicksAtTime(n,i){return i=this.toSeconds(i),this._tickOffset.cancel(i),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(n,i),ticks:n,time:i}),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i),this}getStateAtTime(n){return n=this.toSeconds(n),this._state.getValueAtTime(n)}getTimeOfTick(n,i=this.now()){const a=this._tickOffset.get(i),o=this._state.get(i),u=Math.max(a.time,o.time),p=this.frequency.getTicksAtTime(u)+n-a.ticks;return this.frequency.getTimeOfTick(p)}forEachTickBetween(n,i,a){let o=this._state.get(n);this._state.forEachBetween(n,i,p=>{o&&o.state==="started"&&p.state!=="started"&&this.forEachTickBetween(Math.max(o.time,n),p.time-this.sampleTime,a),o=p});let u=null;if(o&&o.state==="started"){const p=Math.max(o.time,n),f=this.frequency.getTicksAtTime(p),m=this.frequency.getTicksAtTime(o.time),d=f-m;let g=Math.ceil(d)-d;g=yn(g,1)?0:g;let v=this.frequency.getTimeOfTick(f+g);for(;v<i;){try{a(v,Math.round(this.getTicksAtTime(v)))}catch(b){u=b;break}v+=this.frequency.getDurationOfTicks(1,v)}}if(u)throw u;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Mo extends _e{constructor(){const n=_t(Mo.getDefaults(),arguments,["callback","frequency"]);super(n),this.name="Clock",this.callback=Dt,this._lastUpdate=0,this._state=new Br("stopped"),this._boundLoop=this._loop.bind(this),this.callback=n.callback,this._tickSource=new Xh({context:this.context,frequency:n.frequency,units:n.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,$t(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(_e.getDefaults(),{callback:Dt,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(n,i){T_(this.context);const a=this.toSeconds(n);return this.log("start",a),this._state.getValueAtTime(a)!=="started"&&(this._state.setStateAtTime("started",a),this._tickSource.start(a,i),a<this._lastUpdate&&this.emit("start",a,i)),this}stop(n){const i=this.toSeconds(n);return this.log("stop",i),this._state.cancel(i),this._state.setStateAtTime("stopped",i),this._tickSource.stop(i),i<this._lastUpdate&&this.emit("stop",i),this}pause(n){const i=this.toSeconds(n);return this._state.getValueAtTime(i)==="started"&&(this._state.setStateAtTime("paused",i),this._tickSource.pause(i),i<this._lastUpdate&&this.emit("pause",i)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(n){this._tickSource.ticks=n}get seconds(){return this._tickSource.seconds}set seconds(n){this._tickSource.seconds=n}getSecondsAtTime(n){return this._tickSource.getSecondsAtTime(n)}setTicksAtTime(n,i){return this._tickSource.setTicksAtTime(n,i),this}getTimeOfTick(n,i=this.now()){return this._tickSource.getTimeOfTick(n,i)}getTicksAtTime(n){return this._tickSource.getTicksAtTime(n)}nextTickTime(n,i){const a=this.toSeconds(i),o=this.getTicksAtTime(a);return this._tickSource.getTimeOfTick(o+n,a)}_loop(){const n=this._lastUpdate,i=this.now();this._lastUpdate=i,this.log("loop",n,i),n!==i&&(this._state.forEachBetween(n,i,a=>{switch(a.state){case"started":const o=this._tickSource.getTicksAtTime(a.time);this.emit("start",a.time,o);break;case"stopped":a.time!==0&&this.emit("stop",a.time);break;case"paused":this.emit("pause",a.time);break}}),this._tickSource.forEachTickBetween(n,i,(a,o)=>{this.callback(a,o)}))}getStateAtTime(n){const i=this.toSeconds(n);return this._state.getValueAtTime(i)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}qr.mixin(Mo);class ba extends At{constructor(){const n=_t(ba.getDefaults(),arguments,["volume"]);super(n),this.name="Volume",this.input=this.output=new Ee({context:this.context,gain:n.volume,units:"decibels"}),this.volume=this.output.gain,$t(this,"volume"),this._unmutedVolume=n.volume,this.mute=n.mute}static getDefaults(){return Object.assign(At.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(n){!this.mute&&n?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!n&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Ih extends At{constructor(){const n=_t(Ih.getDefaults(),arguments);super(n),this.name="Destination",this.input=new ba({context:this.context}),this.output=new Ee({context:this.context}),this.volume=this.input.volume,gh(this.input,this.output,this.context.rawContext.destination),this.mute=n.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(At.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(n){this.input.mute=n}chain(...n){return this.input.disconnect(),n.unshift(this.input),n.push(this.output),gh(...n),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}No(l=>{l.destination=new Ih({context:l})});Eo(l=>{l.destination.dispose()});class Ix extends At{constructor(){super(...arguments),this.name="Listener",this.positionX=new Wt({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Wt({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Wt({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Wt({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Wt({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Wt({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Wt({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Wt({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Wt({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(At.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}No(l=>{l.listener=new Ix({context:l})});Eo(l=>{l.listener.dispose()});class Zh extends as{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const n=_t(Zh.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=n.baseUrl,Object.keys(n.urls).forEach(i=>{this._loadingCount++;const a=n.urls[i];this.add(i,a,this._bufferLoaded.bind(this,n.onload),n.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Dt,onload:Dt,urls:{}}}has(n){return this._buffers.has(n.toString())}get(n){return yt(this.has(n),`ToneAudioBuffers has no buffer named: ${n}`),this._buffers.get(n.toString())}_bufferLoaded(n){this._loadingCount--,this._loadingCount===0&&n&&n()}get loaded(){return Array.from(this._buffers).every(([n,i])=>i.loaded)}add(n,i,a=Dt,o=Dt){return ns(i)?(this.baseUrl&&i.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(n.toString(),new Xt(this.baseUrl+i,a,o))):this._buffers.set(n.toString(),new Xt(i,a,o)),this}dispose(){return super.dispose(),this._buffers.forEach(n=>n.dispose()),this._buffers.clear(),this}}class ue extends aa{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(n){return this._getPPQ()*n}_secondsToUnits(n){return Math.floor(n/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(n){return n}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class Zx extends _e{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new dn,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(n,i){return this._events.add({callback:n,time:this.toSeconds(i)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(n){return this._events.cancel(this.toSeconds(n)),this}_drawLoop(){const n=this.context.currentTime;this._events.forEachBefore(n+this.anticipation,i=>{n-i.time<=this.expiration&&i.callback(),this._events.remove(i)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}No(l=>{l.draw=new Zx({context:l})});Eo(l=>{l.draw.dispose()});class Qx extends as{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(n){yt(St(n.time),"Events must have a time property"),yt(St(n.duration),"Events must have a duration parameter"),n.time=n.time.valueOf();let i=new Fx(n.time,n.time+n.duration,n);for(this._root===null?this._root=i:this._root.insert(i),this._length++;i!==null;)i.updateHeight(),i.updateMax(),this._rebalance(i),i=i.parent;return this}remove(n){if(this._root!==null){const i=[];this._root.search(n.time,i);for(const a of i)if(a.event===n){this._removeNode(a),this._length--;break}}return this}get length(){return this._length}cancel(n){return this.forEachFrom(n,i=>this.remove(i)),this}_setRoot(n){this._root=n,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(n,i){n.parent!==null?(n.isLeftChild()?n.parent.left=i:n.parent.right=i,this._rebalance(n.parent)):this._setRoot(i)}_removeNode(n){if(n.left===null&&n.right===null)this._replaceNodeInParent(n,null);else if(n.right===null)this._replaceNodeInParent(n,n.left);else if(n.left===null)this._replaceNodeInParent(n,n.right);else{const i=n.getBalance();let a,o=null;if(i>0)if(n.left.right===null)a=n.left,a.right=n.right,o=a;else{for(a=n.left.right;a.right!==null;)a=a.right;a.parent&&(a.parent.right=a.left,o=a.parent,a.left=n.left,a.right=n.right)}else if(n.right.left===null)a=n.right,a.left=n.left,o=a;else{for(a=n.right.left;a.left!==null;)a=a.left;a.parent&&(a.parent.left=a.right,o=a.parent,a.left=n.left,a.right=n.right)}n.parent!==null?n.isLeftChild()?n.parent.left=a:n.parent.right=a:this._setRoot(a),o&&this._rebalance(o)}n.dispose()}_rotateLeft(n){const i=n.parent,a=n.isLeftChild(),o=n.right;o&&(n.right=o.left,o.left=n),i!==null?a?i.left=o:i.right=o:this._setRoot(o)}_rotateRight(n){const i=n.parent,a=n.isLeftChild(),o=n.left;o&&(n.left=o.right,o.right=n),i!==null?a?i.left=o:i.right=o:this._setRoot(o)}_rebalance(n){const i=n.getBalance();i>1&&n.left?n.left.getBalance()<0?this._rotateLeft(n.left):this._rotateRight(n):i<-1&&n.right&&(n.right.getBalance()>0?this._rotateRight(n.right):this._rotateLeft(n))}get(n){if(this._root!==null){const i=[];if(this._root.search(n,i),i.length>0){let a=i[0];for(let o=1;o<i.length;o++)i[o].low>a.low&&(a=i[o]);return a.event}}return null}forEach(n){if(this._root!==null){const i=[];this._root.traverse(a=>i.push(a)),i.forEach(a=>{a.event&&n(a.event)})}return this}forEachAtTime(n,i){if(this._root!==null){const a=[];this._root.search(n,a),a.forEach(o=>{o.event&&i(o.event)})}return this}forEachFrom(n,i){if(this._root!==null){const a=[];this._root.searchAfter(n,a),a.forEach(o=>{o.event&&i(o.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(n=>n.dispose()),this._root=null,this}}class Fx{constructor(n,i,a){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=a,this.low=n,this.high=i,this.max=this.high}insert(n){n.low<=this.low?this.left===null?this.left=n:this.left.insert(n):this.right===null?this.right=n:this.right.insert(n)}search(n,i){n>this.max||(this.left!==null&&this.left.search(n,i),this.low<=n&&this.high>n&&i.push(this),!(this.low>n)&&this.right!==null&&this.right.search(n,i))}searchAfter(n,i){this.low>=n&&(i.push(this),this.left!==null&&this.left.searchAfter(n,i)),this.right!==null&&this.right.searchAfter(n,i)}traverse(n){n(this),this.left!==null&&this.left.traverse(n),this.right!==null&&this.right.traverse(n)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let n=0;return this.left!==null&&this.right!==null?n=this.left.height-this.right.height:this.left!==null?n=this.left.height+1:this.right!==null&&(n=-(this.right.height+1)),n}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(n){this._left=n,n!==null&&(n.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(n){this._right=n,n!==null&&(n.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Wx extends as{constructor(n){super(),this.name="TimelineValue",this._timeline=new dn({memory:10}),this._initialValue=n}set(n,i){return this._timeline.add({value:n,time:i}),this}get(n){const i=this._timeline.get(n);return i?i.value:this._initialValue}}class ua extends At{constructor(){super(_t(ua.getDefaults(),arguments,["context"]))}connect(n,i=0,a=0){return Hh(this,n,i,a),this}}class Lr extends ua{constructor(){const n=_t(Lr.getDefaults(),arguments,["mapping","length"]);super(n),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,fn(n.mapping)||n.mapping instanceof Float32Array?this.curve=Float32Array.from(n.mapping):bx(n.mapping)&&this.setMap(n.mapping,n.length)}static getDefaults(){return Object.assign(ve.getDefaults(),{length:1024})}setMap(n,i=1024){const a=new Float32Array(i);for(let o=0,u=i;o<u;o++){const p=o/(u-1)*2-1;a[o]=n(p,o)}return this.curve=a,this}get curve(){return this._shaper.curve}set curve(n){this._shaper.curve=n}get oversample(){return this._shaper.oversample}set oversample(n){const i=["none","2x","4x"].some(a=>a.includes(n));yt(i,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=n}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Qh extends ua{constructor(){const n=_t(Qh.getDefaults(),arguments,["value"]);super(n),this.name="Pow",this._exponentScaler=this.input=this.output=new Lr({context:this.context,mapping:this._expFunc(n.value),length:8192}),this._exponent=n.value}static getDefaults(){return Object.assign(ua.getDefaults(),{value:1})}_expFunc(n){return i=>Math.pow(Math.abs(i),n)}get value(){return this._exponent}set value(n){this._exponent=n,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class qs{constructor(n,i){this.id=qs._eventId++,this._remainderTime=0;const a=Object.assign(qs.getDefaults(),i);this.transport=n,this.callback=a.callback,this._once=a.once,this.time=Math.floor(a.time),this._remainderTime=a.time-this.time}static getDefaults(){return{callback:Dt,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(n){if(this.callback){const i=this.transport.bpm.getDurationOfTicks(1,n);this.callback(n+this._remainderTime*i),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}qs._eventId=0;class Fh extends qs{constructor(n,i){super(n,i),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const a=Object.assign(Fh.getDefaults(),i);this.duration=a.duration,this._interval=a.interval,this._nextTick=a.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},qs.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(n){this._createEvents(n),super.invoke(n)}_createEvent(){return vo(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new ue(this.context,this._nextTick).toSeconds()):-1}_createEvents(n){vo(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new ue(this.context,this._nextTick).toSeconds()))}_restart(n){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const i=this.transport.getTicksAtTime(n);oa(i,this.time)&&(this._nextTick=this.floatTime+Math.ceil((i-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Do extends _e{constructor(){const n=_t(Do.getDefaults(),arguments);super(n),this.name="Transport",this._loop=new Wx(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new dn,this._repeatedEvents=new Qx,this._syncedSignals=[],this._swingAmount=0,this._ppq=n.ppq,this._clock=new Mo({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=n.ppq,this.bpm.setValueAtTime(n.bpm,0),$t(this,"bpm"),this._timeSignature=n.timeSignature,this._swingTicks=n.ppq/2}static getDefaults(){return Object.assign(_e.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(n,i){if(this._loop.get(n)&&i>=this._loopEnd&&(this.emit("loopEnd",n),this._clock.setTicksAtTime(this._loopStart,n),i=this._loopStart,this.emit("loopStart",n,this._clock.getSecondsAtTime(n)),this.emit("loop",n)),this._swingAmount>0&&i%this._ppq!==0&&i%(this._swingTicks*2)!==0){const a=i%(this._swingTicks*2)/(this._swingTicks*2),o=Math.sin(a*Math.PI)*this._swingAmount;n+=new ue(this.context,this._swingTicks*2/3).toSeconds()*o}Sg(!0),this._timeline.forEachAtTime(i,a=>a.invoke(n)),Sg(!1)}schedule(n,i){const a=new qs(this,{callback:n,time:new aa(this.context,i).toTicks()});return this._addEvent(a,this._timeline)}scheduleRepeat(n,i,a,o=1/0){const u=new Fh(this,{callback:n,duration:new bn(this.context,o).toTicks(),interval:new bn(this.context,i).toTicks(),time:new aa(this.context,a).toTicks()});return this._addEvent(u,this._repeatedEvents)}scheduleOnce(n,i){const a=new qs(this,{callback:n,once:!0,time:new aa(this.context,i).toTicks()});return this._addEvent(a,this._timeline)}clear(n){if(this._scheduledEvents.hasOwnProperty(n)){const i=this._scheduledEvents[n.toString()];i.timeline.remove(i.event),i.event.dispose(),delete this._scheduledEvents[n.toString()]}return this}_addEvent(n,i){return this._scheduledEvents[n.id.toString()]={event:n,timeline:i},i.add(n),n.id}cancel(n=0){const i=this.toTicks(n);return this._timeline.forEachFrom(i,a=>this.clear(a.id)),this._repeatedEvents.forEachFrom(i,a=>this.clear(a.id)),this}_bindClockEvents(){this._clock.on("start",(n,i)=>{i=new ue(this.context,i).toSeconds(),this.emit("start",n,i)}),this._clock.on("stop",n=>{this.emit("stop",n)}),this._clock.on("pause",n=>{this.emit("pause",n)})}get state(){return this._clock.getStateAtTime(this.now())}start(n,i){this.context.resume();let a;return St(i)&&(a=this.toTicks(i)),this._clock.start(n,a),this}stop(n){return this._clock.stop(n),this}pause(n){return this._clock.pause(n),this}toggle(n){return n=this.toSeconds(n),this._clock.getStateAtTime(n)!=="started"?this.start(n):this.stop(n),this}get timeSignature(){return this._timeSignature}set timeSignature(n){fn(n)&&(n=n[0]/n[1]*4),this._timeSignature=n}get loopStart(){return new bn(this.context,this._loopStart,"i").toSeconds()}set loopStart(n){this._loopStart=this.toTicks(n)}get loopEnd(){return new bn(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(n){this._loopEnd=this.toTicks(n)}get loop(){return this._loop.get(this.now())}set loop(n){this._loop.set(n,this.now())}setLoopPoints(n,i){return this.loopStart=n,this.loopEnd=i,this}get swing(){return this._swingAmount}set swing(n){this._swingAmount=n}get swingSubdivision(){return new ue(this.context,this._swingTicks).toNotation()}set swingSubdivision(n){this._swingTicks=this.toTicks(n)}get position(){const n=this.now(),i=this._clock.getTicksAtTime(n);return new ue(this.context,i).toBarsBeatsSixteenths()}set position(n){const i=this.toTicks(n);this.ticks=i}get seconds(){return this._clock.seconds}set seconds(n){const i=this.now(),a=this._clock.frequency.timeToTicks(n,i);this.ticks=a}get progress(){if(this.loop){const n=this.now();return(this._clock.getTicksAtTime(n)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(n){if(this._clock.ticks!==n){const i=this.now();if(this.state==="started"){const a=this._clock.getTicksAtTime(i),o=this._clock.frequency.getDurationOfTicks(Math.ceil(a)-a,i),u=i+o;this.emit("stop",u),this._clock.setTicksAtTime(n,u),this.emit("start",u,this._clock.getSecondsAtTime(u))}else this.emit("ticks",i),this._clock.setTicksAtTime(n,i)}}getTicksAtTime(n){return this._clock.getTicksAtTime(n)}getSecondsAtTime(n){return this._clock.getSecondsAtTime(n)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(n){this._clock.frequency.multiplier=n}nextSubdivision(n){if(n=this.toTicks(n),this.state!=="started")return 0;{const i=this.now(),a=this.getTicksAtTime(i),o=n-a%n;return this._clock.nextTickTime(o,i)}}syncSignal(n,i){const a=this.now();let o=this.bpm,u=1/(60/o.getValueAtTime(a)/this.PPQ),p=[];if(n.units==="time"){const m=.015625/u,d=new Ee(m),g=new Qh(-1),v=new Ee(m);o.chain(d,g,v),o=v,u=1/u,p=[d,g,v]}i||(n.getValueAtTime(a)!==0?i=n.getValueAtTime(a)/u:i=0);const f=new Ee(i);return o.connect(f),f.connect(n._param),p.push(f),this._syncedSignals.push({initial:n.value,nodes:p,signal:n}),n.value=0,this}unsyncSignal(n){for(let i=this._syncedSignals.length-1;i>=0;i--){const a=this._syncedSignals[i];a.signal===n&&(a.nodes.forEach(o=>o.dispose()),a.signal.value=a.initial,this._syncedSignals.splice(i,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),E_(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}qr.mixin(Do);No(l=>{l.transport=new Do({context:l})});Eo(l=>{l.transport.dispose()});class $e extends At{constructor(n){super(n),this.input=void 0,this._state=new Br("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Dt,this._syncedStop=Dt,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new ba({context:this.context,mute:n.mute,volume:n.volume}),this.volume=this._volume.volume,$t(this,"volume"),this.onstop=n.onstop}static getDefaults(){return Object.assign(At.getDefaults(),{mute:!1,onstop:Dt,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(n){this._volume.mute=n}_clampToCurrentTime(n){return this._synced?n:Math.max(n,this.context.currentTime)}start(n,i,a){let o=Je(n)&&this._synced?this.context.transport.seconds:this.toSeconds(n);if(o=this._clampToCurrentTime(o),!this._synced&&this._state.getValueAtTime(o)==="started")yt(oa(o,this._state.get(o).time),"Start time must be strictly greater than previous start time"),this._state.cancel(o),this._state.setStateAtTime("started",o),this.log("restart",o),this.restart(o,i,a);else if(this.log("start",o),this._state.setStateAtTime("started",o),this._synced){const u=this._state.get(o);u&&(u.offset=this.toSeconds(Rn(i,0)),u.duration=a?this.toSeconds(a):void 0);const p=this.context.transport.schedule(f=>{this._start(f,i,a)},o);this._scheduled.push(p),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>o&&this._syncedStart(this.now(),this.context.transport.seconds)}else T_(this.context),this._start(o,i,a);return this}stop(n){let i=Je(n)&&this._synced?this.context.transport.seconds:this.toSeconds(n);if(i=this._clampToCurrentTime(i),this._state.getValueAtTime(i)==="started"||St(this._state.getNextState("started",i))){if(this.log("stop",i),!this._synced)this._stop(i);else{const a=this.context.transport.schedule(this._stop.bind(this),i);this._scheduled.push(a)}this._state.cancel(i),this._state.setStateAtTime("stopped",i)}return this}restart(n,i,a){return n=this.toSeconds(n),this._state.getValueAtTime(n)==="started"&&(this._state.cancel(n),this._restart(n,i,a)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(n,i)=>{if(oa(i,0)){const a=this._state.get(i);if(a&&a.state==="started"&&a.time!==i){const o=i-this.toSeconds(a.time);let u;a.duration&&(u=this.toSeconds(a.duration)-o),this._start(n,this.toSeconds(a.offset)+o,u)}}},this._syncedStop=n=>{const i=this.context.transport.getSecondsAtTime(Math.max(n-this.sampleTime,0));this._state.getValueAtTime(i)==="started"&&this._stop(n)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(n=>this.context.transport.clear(n)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Dt,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Ro extends ca{constructor(){const n=_t(Ro.getDefaults(),arguments,["url","onload"]);super(n),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,ya(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Wt({context:this.context,param:this._source.playbackRate,units:"positive",value:n.playbackRate}),this.loop=n.loop,this.loopStart=n.loopStart,this.loopEnd=n.loopEnd,this._buffer=new Xt(n.url,n.onload,n.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(ca.getDefaults(),{url:new Xt,loop:!1,loopEnd:0,loopStart:0,onload:Dt,onerror:Dt,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(n){this._fadeIn=n}get fadeOut(){return this._fadeOut}set fadeOut(n){this._fadeOut=n}get curve(){return this._curve}set curve(n){this._curve=n}start(n,i,a,o=1){yt(this.buffer.loaded,"buffer is either not set or not loaded");const u=this.toSeconds(n);this._startGain(u,o),this.loop?i=Rn(i,this.loopStart):i=Rn(i,0);let p=Math.max(this.toSeconds(i),0);if(this.loop){const f=this.toSeconds(this.loopEnd)||this.buffer.duration,m=this.toSeconds(this.loopStart),d=f-m;ph(p,f)&&(p=(p-m)%d+m),yn(p,this.buffer.duration)&&(p=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,vo(p,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(u,p)),St(a)){let f=this.toSeconds(a);f=Math.max(f,0),this.stop(u+f)}return this}_stopSource(n){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(n)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(n){this._source.loopStart=this.toSeconds(n)}get loopEnd(){return this._source.loopEnd}set loopEnd(n){this._source.loopEnd=this.toSeconds(n)}get buffer(){return this._buffer}set buffer(n){this._buffer.set(n)}get loop(){return this._source.loop}set loop(n){this._source.loop=n,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function pi(l,n){return le(this,void 0,void 0,function*(){const i=n/l.context.sampleRate,a=new Uh(1,i,l.context.sampleRate);return new l.constructor(Object.assign(l.get(),{frequency:2/i,detune:0,context:a})).toDestination().start(0),(yield a.render()).getChannelData(0)})}class Wh extends ca{constructor(){const n=_t(Wh.getDefaults(),arguments,["frequency","type"]);super(n),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],ya(this._oscillator,this._gainNode),this.type=n.type,this.frequency=new Wt({context:this.context,param:this._oscillator.frequency,units:"frequency",value:n.frequency}),this.detune=new Wt({context:this.context,param:this._oscillator.detune,units:"cents",value:n.detune}),$t(this,["frequency","detune"])}static getDefaults(){return Object.assign(ca.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(n){const i=this.toSeconds(n);return this.log("start",i),this._startGain(i),this._oscillator.start(i),this}_stopSource(n){this._oscillator.stop(n)}setPeriodicWave(n){return this._oscillator.setPeriodicWave(n),this}get type(){return this._oscillator.type}set type(n){this._oscillator.type=n}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class re extends $e{constructor(){const n=_t(re.getDefaults(),arguments,["frequency","type"]);super(n),this.name="Oscillator",this._oscillator=null,this.frequency=new ve({context:this.context,units:"frequency",value:n.frequency}),$t(this,"frequency"),this.detune=new ve({context:this.context,units:"cents",value:n.detune}),$t(this,"detune"),this._partials=n.partials,this._partialCount=n.partialCount,this._type=n.type,n.partialCount&&n.type!=="custom"&&(this._type=this.baseType+n.partialCount.toString()),this.phase=n.phase}static getDefaults(){return Object.assign($e.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(n){const i=this.toSeconds(n),a=new Wh({context:this.context,onended:()=>this.onstop(this)});this._oscillator=a,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(i)}_stop(n){const i=this.toSeconds(n);this._oscillator&&this._oscillator.stop(i)}_restart(n){const i=this.toSeconds(n);return this.log("restart",i),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(i),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return re._periodicWaveCache.find(i=>i.phase===this._phase&&Mx(i.partials,this._partials));{const n=re._periodicWaveCache.find(i=>i.type===this._type&&i.phase===this._phase);return this._partialCount=n?n.partialCount:this._partialCount,n}}get type(){return this._type}set type(n){this._type=n;const i=["sine","square","sawtooth","triangle"].indexOf(n)!==-1;if(this._phase===0&&i)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=n);else{const a=this._getCachedPeriodicWave();if(St(a)){const{partials:o,wave:u}=a;this._wave=u,this._partials=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[o,u]=this._getRealImaginary(n,this._phase),p=this.context.createPeriodicWave(o,u);this._wave=p,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),re._periodicWaveCache.push({imag:u,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:o,type:this._type,wave:this._wave}),re._periodicWaveCache.length>100&&re._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(n){this.partialCount&&this._type!=="custom"&&n!=="custom"?this.type=n+this.partialCount:this.type=n}get partialCount(){return this._partialCount}set partialCount(n){Vs(n,0);let i=this._type;const a=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(a&&(i=a[1]),this._type!=="custom")n===0?this.type=i:this.type=i+n.toString();else{const o=new Float32Array(n);this._partials.forEach((u,p)=>o[p]=u),this._partials=Array.from(o),this.type=this._type}}_getRealImaginary(n,i){let o=2048;const u=new Float32Array(o),p=new Float32Array(o);let f=1;if(n==="custom"){if(f=this._partials.length+1,this._partialCount=this._partials.length,o=f,this._partials.length===0)return[u,p]}else{const m=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(n);m?(f=parseInt(m[2],10)+1,this._partialCount=parseInt(m[2],10),n=m[1],f=Math.max(f,2),o=f):this._partialCount=0,this._partials=[]}for(let m=1;m<o;++m){const d=2/(m*Math.PI);let g;switch(n){case"sine":g=m<=f?1:0,this._partials[m-1]=g;break;case"square":g=m&1?2*d:0,this._partials[m-1]=g;break;case"sawtooth":g=d*(m&1?1:-1),this._partials[m-1]=g;break;case"triangle":m&1?g=2*(d*d)*(m-1>>1&1?-1:1):g=0,this._partials[m-1]=g;break;case"custom":g=this._partials[m-1];break;default:throw new TypeError("Oscillator: invalid type: "+n)}g!==0?(u[m]=-g*Math.sin(i*m),p[m]=g*Math.cos(i*m)):(u[m]=0,p[m]=0)}return[u,p]}_inverseFFT(n,i,a){let o=0;const u=n.length;for(let p=0;p<u;p++)o+=n[p]*Math.cos(p*a)+i[p]*Math.sin(p*a);return o}getInitialValue(){const[n,i]=this._getRealImaginary(this._type,0);let a=0;const o=Math.PI*2,u=32;for(let p=0;p<u;p++)a=Math.max(this._inverseFFT(n,i,p/u*o),a);return Rx(-this._inverseFFT(n,i,this._phase)/a,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(n){this._partials=n,this._partialCount=this._partials.length,n.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(n){this._phase=n*Math.PI/180,this.type=this._type}asArray(){return le(this,arguments,void 0,function*(n=1024){return pi(this,n)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}re._periodicWaveCache=[];class Px extends ua{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Lr({context:this.context,mapping:n=>(n+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class ha extends ve{constructor(){const n=_t(ha.getDefaults(),arguments,["value"]);super(n),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new Ee({context:this.context,minValue:n.minValue,maxValue:n.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(n.value,0)}static getDefaults(){return Object.assign(ve.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class ko extends $e{constructor(){const n=_t(ko.getDefaults(),arguments,["frequency","type","modulationType"]);super(n),this.name="AMOscillator",this._modulationScale=new Px({context:this.context}),this._modulationNode=new Ee({context:this.context}),this._carrier=new re({context:this.context,detune:n.detune,frequency:n.frequency,onstop:()=>this.onstop(this),phase:n.phase,type:n.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new re({context:this.context,phase:n.phase,type:n.modulationType}),this.harmonicity=new ha({context:this.context,units:"positive",value:n.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),$t(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(re.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(n){this._modulator.start(n),this._carrier.start(n)}_stop(n){this._modulator.stop(n),this._carrier.stop(n)}_restart(n){this._modulator.restart(n),this._carrier.restart(n)}get type(){return this._carrier.type}set type(n){this._carrier.type=n}get baseType(){return this._carrier.baseType}set baseType(n){this._carrier.baseType=n}get partialCount(){return this._carrier.partialCount}set partialCount(n){this._carrier.partialCount=n}get modulationType(){return this._modulator.type}set modulationType(n){this._modulator.type=n}get phase(){return this._carrier.phase}set phase(n){this._carrier.phase=n,this._modulator.phase=n}get partials(){return this._carrier.partials}set partials(n){this._carrier.partials=n}asArray(){return le(this,arguments,void 0,function*(n=1024){return pi(this,n)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class jo extends $e{constructor(){const n=_t(jo.getDefaults(),arguments,["frequency","type","modulationType"]);super(n),this.name="FMOscillator",this._modulationNode=new Ee({context:this.context,gain:0}),this._carrier=new re({context:this.context,detune:n.detune,frequency:0,onstop:()=>this.onstop(this),phase:n.phase,type:n.type}),this.detune=this._carrier.detune,this.frequency=new ve({context:this.context,units:"frequency",value:n.frequency}),this._modulator=new re({context:this.context,phase:n.phase,type:n.modulationType}),this.harmonicity=new ha({context:this.context,units:"positive",value:n.harmonicity}),this.modulationIndex=new ha({context:this.context,units:"positive",value:n.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),$t(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(re.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(n){this._modulator.start(n),this._carrier.start(n)}_stop(n){this._modulator.stop(n),this._carrier.stop(n)}_restart(n){return this._modulator.restart(n),this._carrier.restart(n),this}get type(){return this._carrier.type}set type(n){this._carrier.type=n}get baseType(){return this._carrier.baseType}set baseType(n){this._carrier.baseType=n}get partialCount(){return this._carrier.partialCount}set partialCount(n){this._carrier.partialCount=n}get modulationType(){return this._modulator.type}set modulationType(n){this._modulator.type=n}get phase(){return this._carrier.phase}set phase(n){this._carrier.phase=n,this._modulator.phase=n}get partials(){return this._carrier.partials}set partials(n){this._carrier.partials=n}asArray(){return le(this,arguments,void 0,function*(n=1024){return pi(this,n)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Hr extends $e{constructor(){const n=_t(Hr.getDefaults(),arguments,["frequency","width"]);super(n),this.name="PulseOscillator",this._widthGate=new Ee({context:this.context,gain:0}),this._thresh=new Lr({context:this.context,mapping:i=>i<=0?-1:1}),this.width=new ve({context:this.context,units:"audioRange",value:n.width}),this._triangle=new re({context:this.context,detune:n.detune,frequency:n.frequency,onstop:()=>this.onstop(this),phase:n.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),$t(this,["width","frequency","detune"])}static getDefaults(){return Object.assign($e.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(n){n=this.toSeconds(n),this._triangle.start(n),this._widthGate.gain.setValueAtTime(1,n)}_stop(n){n=this.toSeconds(n),this._triangle.stop(n),this._widthGate.gain.cancelScheduledValues(n),this._widthGate.gain.setValueAtTime(0,n)}_restart(n){this._triangle.restart(n),this._widthGate.gain.cancelScheduledValues(n),this._widthGate.gain.setValueAtTime(1,n)}get phase(){return this._triangle.phase}set phase(n){this._triangle.phase=n}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(n){this._triangle.type=n}asArray(){return le(this,arguments,void 0,function*(n=1024){return pi(this,n)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class zo extends $e{constructor(){const n=_t(zo.getDefaults(),arguments,["frequency","type","spread"]);super(n),this.name="FatOscillator",this._oscillators=[],this.frequency=new ve({context:this.context,units:"frequency",value:n.frequency}),this.detune=new ve({context:this.context,units:"cents",value:n.detune}),this._spread=n.spread,this._type=n.type,this._phase=n.phase,this._partials=n.partials,this._partialCount=n.partialCount,this.count=n.count,$t(this,["frequency","detune"])}static getDefaults(){return Object.assign(re.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(n){n=this.toSeconds(n),this._forEach(i=>i.start(n))}_stop(n){n=this.toSeconds(n),this._forEach(i=>i.stop(n))}_restart(n){this._forEach(i=>i.restart(n))}_forEach(n){for(let i=0;i<this._oscillators.length;i++)n(this._oscillators[i],i)}get type(){return this._type}set type(n){this._type=n,this._forEach(i=>i.type=n)}get spread(){return this._spread}set spread(n){if(this._spread=n,this._oscillators.length>1){const i=-n/2,a=n/(this._oscillators.length-1);this._forEach((o,u)=>o.detune.value=i+a*u)}}get count(){return this._oscillators.length}set count(n){if(Vs(n,1),this._oscillators.length!==n){this._forEach(i=>i.dispose()),this._oscillators=[];for(let i=0;i<n;i++){const a=new re({context:this.context,volume:-6-n*1.1,type:this._type,phase:this._phase+i/n*360,partialCount:this._partialCount,onstop:i===0?()=>this.onstop(this):Dt});this.type==="custom"&&(a.partials=this._partials),this.frequency.connect(a.frequency),this.detune.connect(a.detune),a.detune.overridden=!1,a.connect(this.output),this._oscillators[i]=a}this.spread=this._spread,this.state==="started"&&this._forEach(i=>i.start())}}get phase(){return this._phase}set phase(n){this._phase=n,this._forEach((i,a)=>i.phase=this._phase+a/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(n){this._forEach(i=>i.baseType=n),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(n){this._partials=n,this._partialCount=this._partials.length,n.length&&(this._type="custom",this._forEach(i=>i.partials=n))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(n){this._partialCount=n,this._forEach(i=>i.partialCount=n),this._type=this._oscillators[0].type}asArray(){return le(this,arguments,void 0,function*(n=1024){return pi(this,n)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(n=>n.dispose()),this}}class Vo extends $e{constructor(){const n=_t(Vo.getDefaults(),arguments,["frequency","modulationFrequency"]);super(n),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new ha({context:this.context,value:2}),this._pulse=new Hr({context:this.context,frequency:n.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new re({context:this.context,detune:n.detune,frequency:n.frequency,onstop:()=>this.onstop(this),phase:n.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),$t(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign($e.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(n){n=this.toSeconds(n),this._modulator.start(n),this._pulse.start(n)}_stop(n){n=this.toSeconds(n),this._modulator.stop(n),this._pulse.stop(n)}_restart(n){this._modulator.restart(n),this._pulse.restart(n)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(n){this._modulator.phase=n}asArray(){return le(this,arguments,void 0,function*(n=1024){return pi(this,n)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const xg={am:ko,fat:zo,fm:jo,oscillator:re,pulse:Hr,pwm:Vo};class yo extends $e{constructor(){const n=_t(yo.getDefaults(),arguments,["frequency","type"]);super(n),this.name="OmniOscillator",this.frequency=new ve({context:this.context,units:"frequency",value:n.frequency}),this.detune=new ve({context:this.context,units:"cents",value:n.detune}),$t(this,["frequency","detune"]),this.set(n)}static getDefaults(){return Object.assign(re.getDefaults(),jo.getDefaults(),ko.getDefaults(),zo.getDefaults(),Hr.getDefaults(),Vo.getDefaults())}_start(n){this._oscillator.start(n)}_stop(n){this._oscillator.stop(n)}_restart(n){return this._oscillator.restart(n),this}get type(){let n="";return["am","fm","fat"].some(i=>this._sourceType===i)&&(n=this._sourceType),n+this._oscillator.type}set type(n){n.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=n.substr(2)):n.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=n.substr(2)):n.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=n.substr(3)):n==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):n==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=n)}get partials(){return this._oscillator.partials}set partials(n){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=n)}get partialCount(){return this._oscillator.partialCount}set partialCount(n){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=n)}set(n){return Reflect.has(n,"type")&&n.type&&(this.type=n.type),super.set(n),this}_createNewOscillator(n){if(n!==this._sourceType){this._sourceType=n;const i=xg[n],a=this.now();if(this._oscillator){const o=this._oscillator;o.stop(a),this.context.setTimeout(()=>o.dispose(),this.blockTime)}this._oscillator=new i({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(a)}}get phase(){return this._oscillator.phase}set phase(n){this._oscillator.phase=n}get sourceType(){return this._sourceType}set sourceType(n){let i="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(i=this._oscillator.type),n==="fm"?this.type="fm"+i:n==="am"?this.type="am"+i:n==="fat"?this.type="fat"+i:n==="oscillator"?this.type=i:n==="pulse"?this.type="pulse":n==="pwm"&&(this.type="pwm")}_getOscType(n,i){return n instanceof xg[i]}get baseType(){return this._oscillator.baseType}set baseType(n){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&n!=="pulse"&&n!=="pwm"&&(this._oscillator.baseType=n)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(n){this._getOscType(this._oscillator,"fat")&&es(n)&&(this._oscillator.count=n)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(n){this._getOscType(this._oscillator,"fat")&&es(n)&&(this._oscillator.spread=n)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(n){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&ns(n)&&(this._oscillator.modulationType=n)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return le(this,arguments,void 0,function*(n=1024){return pi(this,n)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function R_(l,n=1/0){const i=new WeakMap;return function(a,o){Reflect.defineProperty(a,o,{configurable:!0,enumerable:!0,get:function(){return i.get(this)},set:function(u){Vs(u,l,n),i.set(this,u)}})}}function rs(l,n=1/0){const i=new WeakMap;return function(a,o){Reflect.defineProperty(a,o,{configurable:!0,enumerable:!0,get:function(){return i.get(this)},set:function(u){Vs(this.toSeconds(u),l,n),i.set(this,u)}})}}class ss extends $e{constructor(){const n=_t(ss.getDefaults(),arguments,["url","onload"]);super(n),this.name="Player",this._activeSources=new Set,this._buffer=new Xt({onload:this._onload.bind(this,n.onload),onerror:n.onerror,reverse:n.reverse,url:n.url}),this.autostart=n.autostart,this._loop=n.loop,this._loopStart=n.loopStart,this._loopEnd=n.loopEnd,this._playbackRate=n.playbackRate,this.fadeIn=n.fadeIn,this.fadeOut=n.fadeOut}static getDefaults(){return Object.assign($e.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Dt,onerror:Dt,playbackRate:1,reverse:!1})}load(n){return le(this,void 0,void 0,function*(){return yield this._buffer.load(n),this._onload(),this})}_onload(n=Dt){n(),this.autostart&&this.start()}_onSourceEnd(n){this.onstop(this),this._activeSources.delete(n),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(n,i,a){return super.start(n,i,a),this}_start(n,i,a){this._loop?i=Rn(i,this._loopStart):i=Rn(i,0);const o=this.toSeconds(i),u=a;a=Rn(a,Math.max(this._buffer.duration-o,0));let p=this.toSeconds(a);p=p/this._playbackRate,n=this.toSeconds(n);const f=new Ro({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(n+p),this._state.setStateAtTime("stopped",n+p,{implicitEnd:!0})),this._activeSources.add(f),this._loop&&Je(u)?f.start(n,o):f.start(n,o,p-this.toSeconds(this.fadeOut))}_stop(n){const i=this.toSeconds(n);this._activeSources.forEach(a=>a.stop(i))}restart(n,i,a){return super.restart(n,i,a),this}_restart(n,i,a){var o;(o=[...this._activeSources].pop())===null||o===void 0||o.stop(n),this._start(n,i,a)}seek(n,i){const a=this.toSeconds(i);if(this._state.getValueAtTime(a)==="started"){const o=this.toSeconds(n);this._stop(a),this._start(a,o)}return this}setLoopPoints(n,i){return this.loopStart=n,this.loopEnd=i,this}get loopStart(){return this._loopStart}set loopStart(n){this._loopStart=n,this.buffer.loaded&&Vs(this.toSeconds(n),0,this.buffer.duration),this._activeSources.forEach(i=>{i.loopStart=n})}get loopEnd(){return this._loopEnd}set loopEnd(n){this._loopEnd=n,this.buffer.loaded&&Vs(this.toSeconds(n),0,this.buffer.duration),this._activeSources.forEach(i=>{i.loopEnd=n})}get buffer(){return this._buffer}set buffer(n){this._buffer.set(n)}get loop(){return this._loop}set loop(n){if(this._loop!==n&&(this._loop=n,this._activeSources.forEach(i=>{i.loop=n}),n)){const i=this._state.getNextState("stopped",this.now());i&&this._state.cancel(i.time)}}get playbackRate(){return this._playbackRate}set playbackRate(n){this._playbackRate=n;const i=this.now(),a=this._state.getNextState("stopped",i);a&&a.implicitEnd&&(this._state.cancel(a.time),this._activeSources.forEach(o=>o.cancelStop())),this._activeSources.forEach(o=>{o.playbackRate.setValueAtTime(n,i)})}get reverse(){return this._buffer.reverse}set reverse(n){this._buffer.reverse=n}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(n=>n.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}wn([rs(0)],ss.prototype,"fadeIn",void 0);wn([rs(0)],ss.prototype,"fadeOut",void 0);class Ls extends At{constructor(){const n=_t(Ls.getDefaults(),arguments,["attack","decay","sustain","release"]);super(n),this.name="Envelope",this._sig=new ve({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=n.attack,this.decay=n.decay,this.sustain=n.sustain,this.release=n.release,this.attackCurve=n.attackCurve,this.releaseCurve=n.releaseCurve,this.decayCurve=n.decayCurve}static getDefaults(){return Object.assign(At.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(n,i){if(ns(n))return n;{let a;for(a in io)if(io[a][i]===n)return a;return n}}_setCurve(n,i,a){if(ns(a)&&Reflect.has(io,a)){const o=io[a];js(o)?n!=="_decayCurve"&&(this[n]=o[i]):this[n]=o}else if(fn(a)&&n!=="_decayCurve")this[n]=a;else throw new Error("Envelope: invalid curve: "+a)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(n){this._setCurve("_attackCurve","In",n)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(n){this._setCurve("_releaseCurve","Out",n)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(n){this._setCurve("_decayCurve","Out",n)}triggerAttack(n,i=1){this.log("triggerAttack",n,i),n=this.toSeconds(n);let o=this.toSeconds(this.attack);const u=this.toSeconds(this.decay),p=this.getValueAtTime(n);if(p>0){const f=1/o;o=(1-p)/f}if(o<this.sampleTime)this._sig.cancelScheduledValues(n),this._sig.setValueAtTime(i,n);else if(this._attackCurve==="linear")this._sig.linearRampTo(i,o,n);else if(this._attackCurve==="exponential")this._sig.targetRampTo(i,o,n);else{this._sig.cancelAndHoldAtTime(n);let f=this._attackCurve;for(let m=1;m<f.length;m++)if(f[m-1]<=p&&p<=f[m]){f=this._attackCurve.slice(m),f[0]=p;break}this._sig.setValueCurveAtTime(f,n,o,i)}if(u&&this.sustain<1){const f=i*this.sustain,m=n+o;this.log("decay",m),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(f,u+m):this._sig.exponentialApproachValueAtTime(f,m,u)}return this}triggerRelease(n){this.log("triggerRelease",n),n=this.toSeconds(n);const i=this.getValueAtTime(n);if(i>0){const a=this.toSeconds(this.release);a<this.sampleTime?this._sig.setValueAtTime(0,n):this._releaseCurve==="linear"?this._sig.linearRampTo(0,a,n):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,a,n):(yt(fn(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(n),this._sig.setValueCurveAtTime(this._releaseCurve,n,a,i))}return this}getValueAtTime(n){return this._sig.getValueAtTime(n)}triggerAttackRelease(n,i,a=1){return i=this.toSeconds(i),this.triggerAttack(i,a),this.triggerRelease(i+this.toSeconds(n)),this}cancel(n){return this._sig.cancelScheduledValues(this.toSeconds(n)),this}connect(n,i=0,a=0){return Hh(this,n,i,a),this}asArray(){return le(this,arguments,void 0,function*(n=1024){const i=n/this.context.sampleRate,a=new Uh(1,i,this.context.sampleRate),o=this.toSeconds(this.attack)+this.toSeconds(this.decay),u=o+this.toSeconds(this.release),p=u*.1,f=u+p,m=new this.constructor(Object.assign(this.get(),{attack:i*this.toSeconds(this.attack)/f,decay:i*this.toSeconds(this.decay)/f,release:i*this.toSeconds(this.release)/f,context:a}));return m._sig.toDestination(),m.triggerAttackRelease(i*(o+p)/f,0),(yield a.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}wn([rs(0)],Ls.prototype,"attack",void 0);wn([rs(0)],Ls.prototype,"decay",void 0);wn([R_(0,1)],Ls.prototype,"sustain",void 0);wn([rs(0)],Ls.prototype,"release",void 0);const io=(()=>{let n,i;const a=[];for(n=0;n<128;n++)a[n]=Math.sin(n/127*(Math.PI/2));const o=[],u=6.4;for(n=0;n<127;n++){i=n/127;const b=Math.sin(i*(Math.PI*2)*u-Math.PI/2)+1;o[n]=b/10+i*.83}o[127]=1;const p=[],f=5;for(n=0;n<128;n++)p[n]=Math.ceil(n/127*f)/f;const m=[];for(n=0;n<128;n++)i=n/127,m[n]=.5*(1-Math.cos(Math.PI*i));const d=[];for(n=0;n<128;n++){i=n/127;const b=Math.pow(i,3)*4+.2,y=Math.cos(b*Math.PI*2*i);d[n]=Math.abs(y*(1-i))}function g(b){const y=new Array(b.length);for(let S=0;S<b.length;S++)y[S]=1-b[S];return y}function v(b){return b.slice(0).reverse()}return{bounce:{In:g(d),Out:d},cosine:{In:a,Out:v(a)},exponential:"exponential",linear:"linear",ripple:{In:o,Out:g(o)},sine:{In:m,Out:g(m)},step:{In:p,Out:g(p)}}})();class fa extends At{constructor(){const n=_t(fa.getDefaults(),arguments);super(n),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=i=>this._original_triggerRelease(i),this._volume=this.output=new ba({context:this.context,volume:n.volume}),this.volume=this._volume.volume,$t(this,"volume")}static getDefaults(){return Object.assign(At.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let n=!1;return this._synced||(this._synced=!0,n=!0),n}_syncMethod(n,i){const a=this["_original_"+n]=this[n];this[n]=(...o)=>{const u=o[i],p=this.context.transport.schedule(f=>{o[i]=f,a.apply(this,o)},u);this._scheduledEvents.push(p)}}unsync(){return this._scheduledEvents.forEach(n=>this.context.transport.clear(n)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(n,i,a,o){const u=this.toSeconds(a),p=this.toSeconds(i);return this.triggerAttack(n,u,o),this.triggerRelease(u+p),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class da extends fa{constructor(){const n=_t(da.getDefaults(),arguments);super(n),this.portamento=n.portamento,this.onsilence=n.onsilence}static getDefaults(){return Object.assign(fa.getDefaults(),{detune:0,onsilence:Dt,portamento:0})}triggerAttack(n,i,a=1){this.log("triggerAttack",n,i,a);const o=this.toSeconds(i);return this._triggerEnvelopeAttack(o,a),this.setNote(n,o),this}triggerRelease(n){this.log("triggerRelease",n);const i=this.toSeconds(n);return this._triggerEnvelopeRelease(i),this}setNote(n,i){const a=this.toSeconds(i),o=n instanceof hn?n.toFrequency():n;if(this.portamento>0&&this.getLevelAtTime(a)>.05){const u=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(o,u,a)}else this.frequency.setValueAtTime(o,a);return this}}wn([rs(0)],da.prototype,"portamento",void 0);class Ph extends Ls{constructor(){super(_t(Ph.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Ee({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class bo extends da{constructor(){const n=_t(bo.getDefaults(),arguments);super(n),this.name="Synth",this.oscillator=new yo(Object.assign({context:this.context,detune:n.detune,onstop:()=>this.onsilence(this)},n.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Ph(Object.assign({context:this.context},n.envelope)),this.oscillator.chain(this.envelope,this.output),$t(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(da.getDefaults(),{envelope:Object.assign(Tg(Ls.getDefaults(),Object.keys(At.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Tg(yo.getDefaults(),[...Object.keys($e.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(n,i){if(this.envelope.triggerAttack(n,i),this.oscillator.start(n),this.envelope.sustain===0){const a=this.toSeconds(this.envelope.attack),o=this.toSeconds(this.envelope.decay);this.oscillator.stop(n+a+o)}}_triggerEnvelopeRelease(n){this.envelope.triggerRelease(n),this.oscillator.stop(n+this.toSeconds(this.envelope.release))}getLevelAtTime(n){return n=this.toSeconds(n),this.envelope.getValueAtTime(n)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class qo extends bo{constructor(){const n=_t(qo.getDefaults(),arguments);super(n),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=n.pitchDecay,this.octaves=n.octaves,$t(this,["oscillator","envelope"])}static getDefaults(){return ia(da.getDefaults(),bo.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(n,i){const a=this.toSeconds(i),o=this.toFrequency(n instanceof hn?n.toFrequency():n),u=o*this.octaves;return this.oscillator.frequency.setValueAtTime(u,a),this.oscillator.frequency.exponentialRampToValueAtTime(o,a+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}wn([R_(0)],qo.prototype,"octaves",void 0);wn([rs(0)],qo.prototype,"pitchDecay",void 0);const k_=new Set;function Kh(l){k_.add(l)}function j_(l,n){const i=`registerProcessor("${l}", ${n})`;k_.add(i)}const Kx=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Kh(Kx);const Jx=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Kh(Jx);const $x=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Kh($x);const tw="feedback-comb-filter",ew=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;j_(tw,ew);class Uo extends fa{constructor(){const n=_t(Uo.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(n),this.name="Sampler",this._activeSources=new Map;const i={};Object.keys(n.urls).forEach(a=>{const o=parseInt(a,10);if(yt(so(a)||es(o)&&isFinite(o),`url key is neither a note or midi pitch: ${a}`),so(a)){const u=new hn(this.context,a).toMidi();i[u]=n.urls[a]}else es(o)&&isFinite(o)&&(i[o]=n.urls[o])}),this._buffers=new Zh({urls:i,onload:n.onload,baseUrl:n.baseUrl,onerror:n.onerror}),this.attack=n.attack,this.release=n.release,this.curve=n.curve,this._buffers.loaded&&Promise.resolve().then(n.onload)}static getDefaults(){return Object.assign(fa.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Dt,onerror:Dt,release:.1,urls:{}})}_findClosest(n){let a=0;for(;a<96;){if(this._buffers.has(n+a))return-a;if(this._buffers.has(n-a))return a;a++}throw new Error(`No available buffers for note: ${n}`)}triggerAttack(n,i,a=1){return this.log("triggerAttack",n,i,a),Array.isArray(n)||(n=[n]),n.forEach(o=>{const u=D_(new hn(this.context,o).toFrequency()),p=Math.round(u),f=u-p,m=this._findClosest(p),d=p-m,g=this._buffers.get(d),v=M_(m+f),b=new Ro({url:g,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:v}).connect(this.output);b.start(i,0,g.duration/v,a),fn(this._activeSources.get(p))||this._activeSources.set(p,[]),this._activeSources.get(p).push(b),b.onended=()=>{if(this._activeSources&&this._activeSources.has(p)){const y=this._activeSources.get(p),S=y.indexOf(b);S!==-1&&y.splice(S,1)}}}),this}triggerRelease(n,i){return this.log("triggerRelease",n,i),Array.isArray(n)||(n=[n]),n.forEach(a=>{const o=new hn(this.context,a).toMidi();if(this._activeSources.has(o)&&this._activeSources.get(o).length){const u=this._activeSources.get(o);i=this.toSeconds(i),u.forEach(p=>{p.stop(i)}),this._activeSources.set(o,[])}}),this}releaseAll(n){const i=this.toSeconds(n);return this._activeSources.forEach(a=>{for(;a.length;)a.shift().stop(i)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(n,i,a,o=1){const u=this.toSeconds(a);return this.triggerAttack(n,u,o),fn(i)?(yt(fn(n),"notes must be an array when duration is array"),n.forEach((p,f)=>{const m=i[Math.min(f,i.length-1)];this.triggerRelease(p,u+this.toSeconds(m))})):this.triggerRelease(n,u+this.toSeconds(i)),this}add(n,i,a){if(yt(so(n)||isFinite(n),`note must be a pitch or midi: ${n}`),so(n)){const o=new hn(this.context,n).toMidi();this._buffers.add(o,i,a)}else this._buffers.add(n,i,a);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(n=>{n.forEach(i=>i.dispose())}),this._activeSources.clear(),this}}wn([rs(0)],Uo.prototype,"attack",void 0);wn([rs(0)],Uo.prototype,"release",void 0);class ci extends _e{constructor(){const n=_t(ci.getDefaults(),arguments,["callback","value"]);super(n),this.name="ToneEvent",this._state=new Br("stopped"),this._startOffset=0,this._loop=n.loop,this.callback=n.callback,this.value=n.value,this._loopStart=this.toTicks(n.loopStart),this._loopEnd=this.toTicks(n.loopEnd),this._playbackRate=n.playbackRate,this._probability=n.probability,this._humanize=n.humanize,this.mute=n.mute,this._playbackRate=n.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(_e.getDefaults(),{callback:Dt,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(n=-1){this._state.forEachFrom(n,i=>{let a;if(i.state==="started"){i.id!==-1&&this.context.transport.clear(i.id);const o=i.time+Math.round(this.startOffset/this._playbackRate);if(this._loop===!0||es(this._loop)&&this._loop>1){a=1/0,es(this._loop)&&(a=this._loop*this._getLoopDuration());const u=this._state.getAfter(o);u!==null&&(a=Math.min(a,u.time-o)),a!==1/0&&(a=new ue(this.context,a));const p=new ue(this.context,this._getLoopDuration());i.id=this.context.transport.scheduleRepeat(this._tick.bind(this),p,new ue(this.context,o),a)}else i.id=this.context.transport.schedule(this._tick.bind(this),new ue(this.context,o))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(n){this._startOffset=n}get probability(){return this._probability}set probability(n){this._probability=n}get humanize(){return this._humanize}set humanize(n){this._humanize=n}start(n){const i=this.toTicks(n);return this._state.getValueAtTime(i)==="stopped"&&(this._state.add({id:-1,state:"started",time:i}),this._rescheduleEvents(i)),this}stop(n){this.cancel(n);const i=this.toTicks(n);if(this._state.getValueAtTime(i)==="started"){this._state.setStateAtTime("stopped",i,{id:-1});const a=this._state.getBefore(i);let o=i;a!==null&&(o=a.time),this._rescheduleEvents(o)}return this}cancel(n){n=Rn(n,-1/0);const i=this.toTicks(n);return this._state.forEachFrom(i,a=>{this.context.transport.clear(a.id)}),this._state.cancel(i),this}_tick(n){const i=this.context.transport.getTicksAtTime(n);if(!this.mute&&this._state.getValueAtTime(i)==="started"){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let a=.02;S_(this.humanize)||(a=this.toSeconds(this.humanize)),n+=(Math.random()*2-1)*a}this.callback(n,this.value)}}_getLoopDuration(){return(this._loopEnd-this._loopStart)/this._playbackRate}get loop(){return this._loop}set loop(n){this._loop=n,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(n){this._playbackRate=n,this._rescheduleEvents()}get loopEnd(){return new ue(this.context,this._loopEnd).toSeconds()}set loopEnd(n){this._loopEnd=this.toTicks(n),this._loop&&this._rescheduleEvents()}get loopStart(){return new ue(this.context,this._loopStart).toSeconds()}set loopStart(n){this._loopStart=this.toTicks(n),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const n=this.context.transport.ticks,i=this._state.get(n);if(i!==null&&i.state==="started"){const a=this._getLoopDuration();return(n-i.time)%a/a}else return 0}else return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class Jh extends _e{constructor(){const n=_t(Jh.getDefaults(),arguments,["callback","interval"]);super(n),this.name="Loop",this._event=new ci({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:n.interval,playbackRate:n.playbackRate,probability:n.probability,humanize:n.humanize}),this.callback=n.callback,this.iterations=n.iterations}static getDefaults(){return Object.assign(_e.getDefaults(),{interval:"4n",callback:Dt,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(n){return this._event.start(n),this}stop(n){return this._event.stop(n),this}cancel(n){return this._event.cancel(n),this}_tick(n){this.callback(n)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(n){this._event.loopEnd=n}get playbackRate(){return this._event.playbackRate}set playbackRate(n){this._event.playbackRate=n}get humanize(){return this._event.humanize}set humanize(n){this._event.humanize=n}get probability(){return this._event.probability}set probability(n){this._event.probability=n}get mute(){return this._event.mute}set mute(n){this._event.mute=n}get iterations(){return this._event.loop===!0?1/0:this._event.loop}set iterations(n){n===1/0?this._event.loop=!0:this._event.loop=n}dispose(){return super.dispose(),this._event.dispose(),this}}class Cr extends ci{constructor(){const n=_t(Cr.getDefaults(),arguments,["callback","events"]);super(n),this.name="Part",this._state=new Br("stopped"),this._events=new Set,this._state.increasing=!0,n.events.forEach(i=>{fn(i)?this.add(i[0],i[1]):this.add(i)})}static getDefaults(){return Object.assign(ci.getDefaults(),{events:[]})}start(n,i){const a=this.toTicks(n);if(this._state.getValueAtTime(a)!=="started"){i=Rn(i,this._loop?this._loopStart:0),this._loop?i=Rn(i,this._loopStart):i=Rn(i,0);const o=this.toTicks(i);this._state.add({id:-1,offset:o,state:"started",time:a}),this._forEach(u=>{this._startNote(u,a,o)})}return this}_startNote(n,i,a){i-=a,this._loop?n.startOffset>=this._loopStart&&n.startOffset<this._loopEnd?(n.startOffset<a&&(i+=this._getLoopDuration()),n.start(new ue(this.context,i))):n.startOffset<this._loopStart&&n.startOffset>=a&&(n.loop=!1,n.start(new ue(this.context,i))):n.startOffset>=a&&n.start(new ue(this.context,i))}get startOffset(){return this._startOffset}set startOffset(n){this._startOffset=n,this._forEach(i=>{i.startOffset+=this._startOffset})}stop(n){const i=this.toTicks(n);return this._state.cancel(i),this._state.setStateAtTime("stopped",i),this._forEach(a=>{a.stop(n)}),this}at(n,i){const a=new aa(this.context,n).toTicks(),o=new ue(this.context,1).toSeconds(),u=this._events.values();let p=u.next();for(;!p.done;){const f=p.value;if(Math.abs(a-f.startOffset)<o)return St(i)&&(f.value=i),f;p=u.next()}return St(i)?(this.add(n,i),this.at(n)):null}add(n,i){n instanceof Object&&Reflect.has(n,"time")&&(i=n,n=i.time);const a=this.toTicks(n);let o;return i instanceof ci?(o=i,o.callback=this._tick.bind(this)):o=new ci({callback:this._tick.bind(this),context:this.context,value:i}),o.startOffset=a,o.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(o),this._restartEvent(o),this}_restartEvent(n){this._state.forEach(i=>{i.state==="started"?this._startNote(n,i.time,i.offset):n.stop(new ue(this.context,i.time))})}remove(n,i){return js(n)&&n.hasOwnProperty("time")&&(i=n,n=i.time),n=this.toTicks(n),this._events.forEach(a=>{a.startOffset===n&&(Je(i)||St(i)&&a.value===i)&&(this._events.delete(a),a.dispose())}),this}clear(){return this._forEach(n=>n.dispose()),this._events.clear(),this}cancel(n){return this._forEach(i=>i.cancel(n)),this._state.cancel(this.toTicks(n)),this}_forEach(n){return this._events&&this._events.forEach(i=>{i instanceof Cr?i._forEach(n):n(i)}),this}_setAll(n,i){this._forEach(a=>{a[n]=i})}_tick(n,i){this.mute||this.callback(n,i)}_testLoopBoundries(n){this._loop&&(n.startOffset<this._loopStart||n.startOffset>=this._loopEnd)?n.cancel(0):n.state==="stopped"&&this._restartEvent(n)}get probability(){return this._probability}set probability(n){this._probability=n,this._setAll("probability",n)}get humanize(){return this._humanize}set humanize(n){this._humanize=n,this._setAll("humanize",n)}get loop(){return this._loop}set loop(n){this._loop=n,this._forEach(i=>{i.loopStart=this.loopStart,i.loopEnd=this.loopEnd,i.loop=n,this._testLoopBoundries(i)})}get loopEnd(){return new ue(this.context,this._loopEnd).toSeconds()}set loopEnd(n){this._loopEnd=this.toTicks(n),this._loop&&this._forEach(i=>{i.loopEnd=n,this._testLoopBoundries(i)})}get loopStart(){return new ue(this.context,this._loopStart).toSeconds()}set loopStart(n){this._loopStart=this.toTicks(n),this._loop&&this._forEach(i=>{i.loopStart=this.loopStart,this._testLoopBoundries(i)})}get playbackRate(){return this._playbackRate}set playbackRate(n){this._playbackRate=n,this._setAll("playbackRate",n)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}class $h extends At{constructor(){const n=_t($h.getDefaults(),arguments,["pan"]);super(n),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new Wt({context:this.context,param:this._panner.pan,value:n.pan,minValue:-1,maxValue:1}),this._panner.channelCount=n.channelCount,this._panner.channelCountMode="explicit",$t(this,"pan")}static getDefaults(){return Object.assign(At.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const nw="bit-crusher",sw=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;j_(nw,sw);class ae extends At{constructor(){const n=_t(ae.getDefaults(),arguments,["solo"]);super(n),this.name="Solo",this.input=this.output=new Ee({context:this.context}),ae._allSolos.has(this.context)||ae._allSolos.set(this.context,new Set),ae._allSolos.get(this.context).add(this),this.solo=n.solo}static getDefaults(){return Object.assign(At.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(n){n?this._addSolo():this._removeSolo(),ae._allSolos.get(this.context).forEach(i=>i._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){ae._soloed.has(this.context)||ae._soloed.set(this.context,new Set),ae._soloed.get(this.context).add(this)}_removeSolo(){ae._soloed.has(this.context)&&ae._soloed.get(this.context).delete(this)}_isSoloed(){return ae._soloed.has(this.context)&&ae._soloed.get(this.context).has(this)}_noSolos(){return!ae._soloed.has(this.context)||ae._soloed.has(this.context)&&ae._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),ae._allSolos.get(this.context).delete(this),this._removeSolo(),this}}ae._allSolos=new Map;ae._soloed=new Map;class tf extends At{constructor(){const n=_t(tf.getDefaults(),arguments,["pan","volume"]);super(n),this.name="PanVol",this._panner=this.input=new $h({context:this.context,pan:n.pan,channelCount:n.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new ba({context:this.context,volume:n.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=n.mute,$t(this,["pan","volume"])}static getDefaults(){return Object.assign(At.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(n){this._volume.mute=n}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class na extends At{constructor(){const n=_t(na.getDefaults(),arguments,["volume","pan"]);super(n),this.name="Channel",this._solo=this.input=new ae({solo:n.solo,context:this.context}),this._panVol=this.output=new tf({context:this.context,pan:n.pan,volume:n.volume,mute:n.mute,channelCount:n.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),$t(this,["pan","volume"])}static getDefaults(){return Object.assign(At.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(n){this._solo.solo=n}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(n){this._panVol.mute=n}_getBus(n){return na.buses.has(n)||na.buses.set(n,new Ee({context:this.context})),na.buses.get(n)}send(n,i=0){const a=this._getBus(n),o=new Ee({context:this.context,units:"decibels",gain:i});return this.connect(o),o.connect(a),o}receive(n){return this._getBus(n).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}na.buses=new Map;function ef(){return un().now()}const Ke=un().transport;un().destination;un().destination;un().listener;const z_=un().draw;un();function V_(){return Xt.loaded()}let Nr=[],li=null;const wg={kick:"sounds/kick.wav",kick_sub:"sounds/kick_sub.wav",snare:"sounds/snare.wav",snare_ghost:"sounds/snare_ghost.wav",snare_rim:"sounds/snare_rim.wav",tom_high1:"sounds/tom_high1.wav",tom_high2:"sounds/tom_high2.wav",tom_mid1:"sounds/tom_mid1.wav",tom_mid2:"sounds/tom_mid2.wav",tom_low1:"sounds/tom_low1.wav",tom_low2:"sounds/tom_low2.wav",hihat_closed:"sounds/hihat_closed.wav",hihat_open:"sounds/hihat_open.wav",hihat_pedal:"sounds/hihat_pedal.wav",crash1:"sounds/crash1.wav",crash2:"sounds/crash2.wav",ride_bell:"sounds/ride_bell.wav",ride_crash:"sounds/ride_crash.wav",ride_tip:"sounds/ride_tip.wav",china:"sounds/china.wav",splash:"sounds/splash.wav",bell:"sounds/bell.wav",click:"sounds/click.wav",click_high:"sounds/click_high.wav"},sa={},iw=async(l=4)=>{await V_();for(const n in wg){sa[n]=[];for(let i=0;i<l+1;i++)sa[n][i]=new ss(wg[n]).toDestination()}},aw=(l,n,i,a=1,o,u,p)=>{var m,d,g,v;const f=o==null?void 0:o[l];if(f==="tempo"){const b=u==null?void 0:u[p],y=b==="strong"?(m=sa.click_high)==null?void 0:m[l]:b==="normal"?(d=sa.click)==null?void 0:d[l]:(g=sa.click)==null?void 0:g[l];!n&&y&&(y.volume.value=Ar(a),y.start(i))}else{const b=(v=sa[f])==null?void 0:v[l];!n&&b&&(b.volume.value=Ar(a),b.start(i))}},nf=(l,n,i)=>{const o=(i==="quarter"?4:i==="eighth"?8:12)/n;return 60/l*o},rw=(l,n,i,a,o)=>{const u=nf(l,o,n);li&&li.dispose();const p=Array.from({length:a},(f,m)=>[m*u,m]);li=new Cr((f,m)=>{z_.schedule(()=>i(m),f)},p),li.loop=!0,li.loopEnd=u*a,li.start(0),Nr.push(li)},lw=(l,n,i,a,o,u,p,f,m,d)=>{var b;const g=nf(l,f,p),v=Array(a).fill(0);for(let y=0;y<a;y++){const S=d[y],{n:x,m:A}=n[y],E=g*x,D=E/A,M=[];for(let C=0;C<A;C++){const j=C*D,V=((b=u==null?void 0:u[y])==null?void 0:b[C])??1;M.push([j,()=>{aw(y,i[y],void 0,V,m,S,C);const R=y-1;v[R]=C,o([...v])}])}const U=new Cr((C,j)=>{z_.schedule(()=>j(),C)},M);U.loop=!0,U.loopEnd=E,U.start(0),Nr.push(U)}Ke.loop=!1},ow=(l,n,i,a,o,u,p,f,m,d,g,v)=>{const b=ef(),y=nf(l,g,n),S={n:p,m:p},x=i.map(D=>D==="strong"?1:D==="normal"?.7:D==="weak"?.3:0);rw(l,n,a,p,g),lw(l,[S,...f],[!1,...o],u+1,m,[x,...d],n,g,["tempo",...v],[i,...Array(u).fill(null)]);let A=0;const E=new Jh(D=>{a(A),A=(A+1)%p},y);E.start(0),Nr.push(E),Ke.start(b)},cw=()=>{for(const l of Nr)l.dispose();Nr=[],Ke.stop()},q_=ut.createContext(null),Hs=()=>{const l=ut.useContext(q_);if(!l)throw new Error("RhythmContext must be used within RhythmProvider");return l},uw=({children:l})=>{const[n,i]=ut.useState(4),[a,o]=ut.useState(4),[u,p]=ut.useState("quarter"),[f,m]=ut.useState("circle"),[d,g]=ut.useState(120),[v,b]=ut.useState(!1),[y,S]=ut.useState(Array(n).fill("normal")),[x,A]=ut.useState(0),[E,D]=ut.useState(0),[M,U]=ut.useState(Array(4).fill(!0)),[C,j]=ut.useState(Array(4).fill({n:1,m:1})),[V,R]=ut.useState(Array(4).fill(0)),[Q,F]=ut.useState(Array(4).fill(null).map(()=>Array(16).fill(1))),[Z,I]=ut.useState(Array(4).fill("kick"));return ut.useEffect(()=>{S(st=>{const et=[...st];for(;et.length<n;)et.push("normal");return et.slice(0,n)})},[n]),ut.useEffect(()=>{j(st=>{const et=[...st];for(;et.length<4;)et.push({n:1,m:1});return et.slice(0,4)})},[]),w.jsx(q_.Provider,{value:{numerator:n,setNumerator:i,denominator:a,setDenominator:o,noteValue:u,setNoteValue:p,displayMode:f,setDisplayMode:m,bpm:d,setBpm:g,isPlaying:v,setIsPlaying:b,accentLevels:y,setAccentLevels:S,currentStep:x,setCurrentStep:A,currentAccentStep:E,setCurrentAccentStep:D,muteStates:M,setMuteStates:U,rhythmUnits:C,setRhythmUnits:j,currentRhythmSteps:V,setCurrentRhythmSteps:R,rhythmVolumes:Q,setRhythmVolumes:F,partSounds:Z,setPartSounds:I},children:l})},hw={strong:"強",normal:"中",weak:"弱",none:"無"},ih=["strong","normal","weak","none"],fw=()=>{const{numerator:l,accentLevels:n,setAccentLevels:i,isPlaying:a,currentAccentStep:o}=Hs(),u=m=>{const d=n[m],g=ih[(ih.indexOf(d)+1)%ih.length],v=[...n];v[m]=g,i(v)},p=(m,d)=>`w-25 h-25 rounded-full bg-gradient-to-br from-gray-700 to-black border-2 border-gray-400 transition-transform text-white text-xl flex items-center justify-center shadow-[0_4px_8px_rgba(0,0,0,0.5)] hover:scale-125 focus:outline-none focus-visible:outline-white ${m==="strong"?"bg-red-500 border-red-700":m==="normal"?"bg-orange-400 border-orange-600":m==="weak"?"bg-gray-400 border-gray-500":"bg-black border-gray-600"} ${d&&a?"animate-pulse ring-2 ring-yellow-300":""}`,f=[];for(let m=0;m<l;m+=4)f.push(n.slice(m,m+4));return w.jsx("div",{className:"flex flex-col gap-2 mt-2",children:f.map((m,d)=>w.jsx("div",{className:"flex justify-center gap-2",children:m.map((g,v)=>{const b=d*4+v;return w.jsxs("button",{onClick:()=>u(b),className:p(g,o===b),title:`拍 ${b+1}：${g}`,disabled:a,children:[`拍 ${b+1}`,w.jsx("br",{}),hw[g]]},b)})},d))})},dw=()=>{const{numerator:l,setNumerator:n,denominator:i,setDenominator:a,noteValue:o,setNoteValue:u,bpm:p,setBpm:f,isPlaying:m}=Hs(),d=ut.useRef(null),g=ut.useRef(null),v=()=>f(D=>Math.min(D+1,300)),b=()=>f(D=>Math.max(D-1,30)),y=D=>{f(M=>Math.min(300,Math.max(30,M+D)))},S=ut.useRef([]),x=()=>{const D=Date.now(),M=S.current;if(M.length>0&&D-M[M.length-1]>3e3&&(M.length=0),M.push(D),M.length>=2){const U=M.slice(1).map((V,R)=>V-M[R]),C=U.reduce((V,R)=>V+R)/U.length,j=Math.round(6e4/C);j>=30&&j<=300&&f(j)}M.length>4&&M.shift()},A=D=>{g.current=setTimeout(()=>{d.current=setInterval(D,100)},300)},E=()=>{g.current&&(clearTimeout(g.current),g.current=null),d.current&&(clearInterval(d.current),d.current=null)};return w.jsxs("div",{className:"flex flex-col gap-2 p-4 bg-gray-900 text-white rounded-xl shadow",children:[w.jsxs("div",{className:"flex gap-4 items-center",children:[w.jsx("label",{children:"拍子："}),w.jsx("select",{value:l,onChange:D=>n(parseInt(D.target.value)),disabled:m,className:"bg-gray-800 p-1 rounded",children:Array.from({length:20},(D,M)=>M+1).map(D=>w.jsx("option",{value:D,children:D},D))}),w.jsx("span",{children:"/"}),w.jsx("select",{value:i,onChange:D=>a(parseInt(D.target.value)),disabled:m,className:"bg-gray-800 p-1 rounded",children:[1,2,4,8,16].map(D=>w.jsx("option",{value:D,children:D},D))})]}),w.jsxs("div",{className:"flex gap-4 items-center",children:[w.jsx("label",{children:"音価："}),w.jsxs("select",{value:o,onChange:D=>u(D.target.value),disabled:m,className:"bg-gray-800 p-1 rounded",children:[w.jsx("option",{value:"quarter",children:"♩"}),w.jsx("option",{value:"eighth",children:"♪"})]})]}),w.jsxs("div",{className:"flex gap-4 items-center",children:[w.jsx("label",{children:"BPM："}),w.jsx("button",{onMouseDown:()=>A(b),onMouseUp:E,onMouseLeave:E,onTouchStart:()=>A(b),onTouchEnd:E,onClick:()=>y(-1),className:`\r
                        w-10 h-10 rounded-full \r
                        bg-gradient-to-br from-gray-700 to-black \r
                        border-2 border-gray-400 \r
                        text-white text-xl \r
                        flex items-center justify-center \r
                        shadow-[0_4px_8px_rgba(0,0,0,0.5)] \r
                        hover:shadow-[0_0_12px_rgba(255,255,255,0.6)] \r
                        hover:border-white \r
                        transition duration-200\r
                        focus:outline-none focus-visible:outline-white`,disabled:m,children:"-"}),w.jsx("input",{type:"number",value:p,onChange:D=>f(Number(D.target.value)),className:`\r
                        w-24 text-center text-white text-xl\r
                        bg-gray-800 rounded-md\r
                        border-none\r
                        focus:outline-none focus:ring-0\r
                        [appearance:textfield]\r
                        [&::-webkit-inner-spin-button]:appearance-none\r
                        [&::-webkit-outer-spin-button]:appearance-none\r
                        shadow\r
                    `,disabled:m}),w.jsx("button",{onMouseDown:()=>A(v),onMouseUp:E,onMouseLeave:E,onTouchStart:()=>A(v),onTouchEnd:E,onClick:()=>y(1),className:`\r
                        w-10 h-10 rounded-full \r
                        bg-gradient-to-br from-gray-700 to-black \r
                        border-2 border-gray-400 \r
                        text-white text-xl \r
                        flex items-center justify-center \r
                        shadow-[0_4px_8px_rgba(0,0,0,0.5)] \r
                        hover:shadow-[0_0_12px_rgba(255,255,255,0.6)] \r
                        hover:border-white \r
                        transition duration-200\r
                        focus:outline-none focus-visible:outline-white`,disabled:m,children:"＋"}),w.jsx("button",{onClick:x,className:`\r
                        w-10 h-10 rounded-full \r
                        bg-gradient-to-br from-gray-700 to-black \r
                        border-2 border-gray-400 \r
                        text-white text-xl \r
                        flex items-center justify-center \r
                        shadow-[0_4px_8px_rgba(0,0,0,0.5)] \r
                        hover:shadow-[0_0_12px_rgba(255,255,255,0.6)] \r
                        hover:border-white \r
                        transition duration-200\r
                        focus:outline-none focus-visible:outline-white`,disabled:m,children:"TAP"})]}),w.jsx(fw,{})]})},pw=({partIndex:l})=>{const{rhythmUnits:n,currentRhythmSteps:i,displayMode:a,rhythmVolumes:o,setRhythmVolumes:u,isPlaying:p}=Hs(),{m:f}=n[l],m=i[l],[d,g]=ut.useState(null),v=o[l]||[],b=D=>{if(d===null)return;const M=parseFloat(D.target.value),U=[...o];U[l]=[...U[l]],U[l][d]=M,u(U)},y=230,S=24,x=6,A=Math.min(y/f,S*1.5);if(a==="rotary"){const j=100-S/2-10,R=(360/f*m-90)*(Math.PI/180),Q=j*Math.cos(R),F=j*Math.sin(R);return w.jsxs("div",{className:"flex flex-col items-center w-full h-full overflow-hidden",children:[w.jsxs("svg",{width:200,height:200,viewBox:"0 0 200 200",children:[w.jsx("circle",{cx:100,cy:100,r:j,stroke:"gray",strokeWidth:1,fill:"none"}),Array.from({length:f},(Z,I)=>{const st=(360/f*I-90)*(Math.PI/180),et=100+j*Math.cos(st),it=100+j*Math.sin(st),k=d===I,$=v[I]??1,nt=k?"yellow":`rgba(255,255,255,${$})`;return w.jsx("circle",{cx:et,cy:it,r:S/2,fill:nt,onClick:p?void 0:()=>g(I===d?null:I),style:{cursor:"pointer"}},I)}),w.jsx("line",{x1:100,y1:100,x2:100+Q,y2:100+F,stroke:"red",strokeWidth:2})]}),d!==null&&w.jsxs("div",{className:"flex flex-col items-center gap-2 mt-2",children:[w.jsx("select",{value:d,onChange:Z=>g(parseInt(Z.target.value)),className:"mb-1 px-2 py-1 bg-gray-800 text-white rounded border border-gray-500",children:Array.from({length:f},(Z,I)=>w.jsxs("option",{value:I,children:["Step ",I+1]},I))}),w.jsx("input",{type:"range",min:0,max:1,step:.01,value:o[l][d],onChange:b,className:"w-32 accent-blue-400"}),w.jsxs("select",{value:"",onChange:Z=>{const I=parseFloat(Z.target.value);if(d===null)return;const st=[...o];st[l]=[...st[l]],st[l][d]=I,u(st)},className:"mt-2 px-2 py-1 bg-gray-800 text-white rounded border border-gray-500",children:[w.jsx("option",{value:"",disabled:!0,children:"プリセット"}),w.jsx("option",{value:1,children:"f"}),w.jsx("option",{value:.75,children:"mf"}),w.jsx("option",{value:.5,children:"p"}),w.jsx("option",{value:.25,children:"pp"}),w.jsx("option",{value:0,children:"×"})]})]})]})}const E=Array.from({length:f},(D,M)=>{const U=m===M,C=d===M,j=v[M]??1,V=Math.max(x,S),Q={width:V,height:V,backgroundColor:C?"yellow":U?"rgb(239,68,68)":`rgba(255, 255, 255, ${j})`,borderRadius:"9999px",position:"absolute",transition:"all 0.1s ease",cursor:"pointer"};if(a==="circle"){const I=100-V/2-10,et=(360/f*M-90)*Math.PI/180,it=I*Math.cos(et),k=I*Math.sin(et);return w.jsx("div",{style:{...Q,left:"50%",top:"50%",transform:`translate(${it}px, ${k}px) translate(-50%, -50%)`},onClick:p?void 0:()=>g(M===d?null:M)},M)}if(a==="bar"){const F=M*A;return w.jsx("div",{style:{...Q,left:`${F}px`,top:"50%",transform:"translateY(-50%)"},onClick:p?void 0:()=>g(M===d?null:M)},M)}if(a==="wave"){const F=M*A,Z=15*Math.sin(M/f*2*Math.PI);return w.jsx("div",{style:{...Q,left:`${F}px`,top:`calc(50% + ${Z}px)`},onClick:p?void 0:()=>g(M===d?null:M)},M)}return null});return w.jsxs("div",{className:"flex flex-col items-center w-full h-full overflow-hidden",children:[w.jsx("div",{className:"relative flex-1 w-full flex items-center justify-center",style:{width:a==="circle"?"100%":`${A*f}px`},children:E}),!p&&d!==null&&w.jsxs("div",{className:"flex flex-col items-center gap-2 mt-2",children:[w.jsx("select",{value:d,onChange:D=>g(parseInt(D.target.value)),className:"mb-1 px-2 py-1 bg-gray-800 text-white rounded border border-gray-500",children:Array.from({length:f},(D,M)=>w.jsxs("option",{value:M,children:["Step ",M+1]},M))}),w.jsx("input",{type:"range",min:0,max:1,step:.01,value:o[l][d],onChange:b,className:"w-32 accent-blue-400"}),w.jsxs("select",{value:"",onChange:D=>{const M=parseFloat(D.target.value);if(d===null)return;const U=[...o];U[l]=[...U[l]],U[l][d]=M,u(U)},className:"mt-2 px-2 py-1 bg-gray-800 text-white rounded border border-gray-500",children:[w.jsx("option",{value:"",disabled:!0,children:"プリセット"}),w.jsx("option",{value:1,children:"f"}),w.jsx("option",{value:.75,children:"mf"}),w.jsx("option",{value:.5,children:"p"}),w.jsx("option",{value:.25,children:"pp"}),w.jsx("option",{value:0,children:"×"})]})]})]})},mw=({partIndex:l})=>{const{rhythmUnits:n,setRhythmUnits:i,isPlaying:a}=Hs(),o=n[l],u=(p,f)=>{const m=[...n];m[l]={...o,[p]:f},i(m)};return w.jsxs("div",{className:"flex gap-2 text-sm text-white items-center",children:[w.jsx("input",{type:"number",min:1,max:8,value:o.n,onChange:p=>u("n",parseInt(p.target.value)),disabled:a,className:"w-12 bg-gray-700 rounded px-1 text-center"}),w.jsx("span",{children:"拍"}),w.jsx("input",{type:"number",min:1,max:32,value:o.m,onChange:p=>u("m",parseInt(p.target.value)),disabled:a,className:"w-12 bg-gray-700 rounded px-1 text-center"}),w.jsx("span",{children:"連"})]})},gw=({label:l,index:n})=>{const{displayMode:i,setDisplayMode:a,muteStates:o,setMuteStates:u,partSounds:p,setPartSounds:f,isPlaying:m}=Hs(),d=()=>{const v=[...o];v[n]=!v[n],u(v)},g=()=>{const v=["circle","bar","wave","rotary"],b=v[(v.indexOf(i)+1)%v.length];a(b)};return w.jsxs("div",{className:`gap-0 w-full h-full bg-gray-800 text-white rounded-md ${m?"p-2":"p-4"} flex flex-col items-center justify-between shadow`,children:[w.jsx("div",{className:"mt-4 flex flex-row items-center",disabled:m,children:w.jsx(mw,{partIndex:n})}),w.jsx("div",{className:"mt-4 flex flex-row items-center",children:w.jsxs("select",{value:p[n],onChange:v=>{const b=[...p];b[n]=v.target.value,f(b)},className:"bg-gray-700 text-white rounded px-2 py-1 border border-gray-500 mb-2",disabled:m,children:[w.jsx("option",{value:"kick",children:"Kick"}),w.jsx("option",{value:"kick_sub",children:"Kick Sub"}),w.jsx("option",{value:"snare",children:"Snare"}),w.jsx("option",{value:"snare_ghost",children:"Snare Ghost"}),w.jsx("option",{value:"snare_rim",children:"Snare Rim"}),w.jsx("option",{value:"tom_high1",children:"Tom High 1"}),w.jsx("option",{value:"tom_high2",children:"Tom High 2"}),w.jsx("option",{value:"tom_mid1",children:"Tom Mid 1"}),w.jsx("option",{value:"tom_mid2",children:"Tom Mid 2"}),w.jsx("option",{value:"tom_low1",children:"Tom Low 1"}),w.jsx("option",{value:"tom_low2",children:"Tom Low 2"}),w.jsx("option",{value:"hihat_closed",children:"Hi-Hat Closed"}),w.jsx("option",{value:"hihat_open",children:"Hi-Hat Open"}),w.jsx("option",{value:"hihat_pedal",children:"Hi-Hat Pedal"}),w.jsx("option",{value:"crash1",children:"Crash 1"}),w.jsx("option",{value:"crash2",children:"Crash 2"}),w.jsx("option",{value:"ride_bell",children:"Ride Bell"}),w.jsx("option",{value:"ride_crash",children:"Ride Crash"}),w.jsx("option",{value:"ride_tip",children:"Ride Tip"}),w.jsx("option",{value:"china",children:"China"}),w.jsx("option",{value:"splash",children:"Splash"}),w.jsx("option",{value:"bell",children:"Bell"}),w.jsx("option",{value:"click",children:"Click"}),w.jsx("option",{value:"click_high",children:"Click High"})]})}),w.jsx("div",{className:"w-full flex items-center justify-center overflow-hidden",style:{minHeight:"200px",flex:1},children:w.jsx(pw,{partIndex:n})}),w.jsxs("div",{className:"mt-4 flex flex-row items-center gap-4",children:[w.jsx("button",{onClick:d,className:"w-10 h-10 rounded-full bg-gradient-to-br from-gray-700 to-black border-2 border-gray-400 text-white text-xl flex items-center justify-center shadow hover:shadow-[0_0_12px_rgba(255,255,255,0.6)] hover:border-white transition duration-200 focus:outline-none",disabled:m,children:o[n]?"🔇":"🔈"}),w.jsx("button",{onClick:g,className:"w-24 h-10 rounded-full bg-gradient-to-br from-gray-700 to-black border-2 border-gray-400 text-white text-sm font-bold flex items-center justify-center shadow hover:shadow-[0_0_12px_rgba(255,255,255,0.6)] hover:border-white transition duration-200 focus:outline-none",children:i})]})]})},_w=()=>{const{numerator:l,denominator:n,noteValue:i,bpm:a,setBpm:o,currentAccentStep:u,isPlaying:p,setIsPlaying:f,accentLevels:m,setCurrentAccentStep:d,muteStates:g,rhythmUnits:v,rhythmVolumes:b,setCurrentRhythmSteps:y,partSounds:S}=Hs(),x=250,A=25,E=x/2-A/2-5,D=x/2,M=x/2,[U,C]=ut.useState(!1),j=ut.useRef(null),V=(it,k)=>Math.atan2(k-M,it-D),R=it=>{C(!0);const k=it.currentTarget.getBoundingClientRect(),Y=it.clientX-k.left,$=it.clientY-k.top;j.current=V(Y,$)},Q=it=>{if(!U||j.current===null)return;const k=it.currentTarget.getBoundingClientRect(),Y=it.clientX-k.left,$=it.clientY-k.top,nt=V(Y,$),N=nt-j.current;N>.1?(o(tt=>Math.min(300,tt+1)),j.current=nt):N<-.1&&(o(tt=>Math.max(30,tt-1)),j.current=nt)},F=()=>{C(!1),j.current=null},Z=async()=>{await qx(),p?(cw(),d(0)):ow(a,i,m,d,g,4,l,v,y,b,n,S),f(!p)},I=(360/l*u-90)*(Math.PI/180),st=E*Math.cos(I),et=E*Math.sin(I);return w.jsx("div",{className:"w-full flex items-center justify-center",children:w.jsxs("svg",{width:x,height:x,viewBox:`0 0 ${x} ${x}`,onPointerDown:R,onPointerMove:Q,onPointerUp:F,onPointerLeave:F,onClick:Z,style:{touchAction:"none",cursor:"pointer"},children:[w.jsx("circle",{cx:D,cy:M,r:E,stroke:"gray",strokeWidth:1,fill:"none"}),w.jsx("circle",{cx:D,cy:M,r:E,fill:p?"#4b5563":"#3f3f46"}),Array.from({length:l}).map((it,k)=>{const Y=(360/l*k-90)*(Math.PI/180),$=D+E*Math.cos(Y),nt=M+E*Math.sin(Y),N=u===k;return w.jsxs("g",{children:[w.jsx("circle",{cx:$,cy:nt,r:A/2,fill:N?"rgb(239, 68, 68)":"white"}),w.jsx("text",{x:$,y:nt,textAnchor:"middle",dominantBaseline:"middle",fontSize:"16",fill:N?"white":"black",style:{userSelect:"none"},children:k+1})]},k)}),w.jsx("line",{x1:D,y1:M,x2:D+st,y2:M+et,stroke:"red",strokeWidth:2}),w.jsx("foreignObject",{x:D-35,y:M-60,width:70,height:120,children:w.jsxs("div",{xmlns:"http://www.w3.org/1999/xhtml",className:"flex flex-col items-center justify-center text-white font-bold leading-tight text-xl select-none",children:[w.jsx("span",{className:"text-2xl",children:l}),w.jsx("span",{className:"w-full border-t border-white my-1"}),w.jsx("span",{className:"text-2xl",children:n}),w.jsxs("span",{className:"mt-2 text-xl",children:[i==="quarter"?"♩":"♪"," ",a]})]})})]})})},vw=["右手","左手","右足","左足"],yw=()=>{const[l,n]=ut.useState(1),{isPlaying:i}=Hs(),a=()=>{l<4&&n(l+1)},o=()=>{l>1&&n(l-1)},u=l===1?"grid-cols-1 grid-rows-1":l===2?"grid-cols-2 grid-rows-1":"grid-cols-2 grid-rows-2";return w.jsxs("div",{className:"w-full max-w-md mx-auto flex flex-col items-center gap-8",children:[w.jsx("div",{className:"w-full",children:w.jsx(_w,{})}),!i&&w.jsxs("div",{className:"flex gap-4",children:[w.jsx("button",{onClick:o,disabled:l<=1,className:`w-10 h-10 rounded-full text-white text-xl flex items-center justify-center 
                            transition duration-200 focus:outline-none 
                            border-2 border-gray-400 bg-gradient-to-br from-gray-700 to-black
                            ${l<=1?"bg-gray-500":"hover:shadow hover:border-white"}`,children:"−"}),w.jsx("button",{onClick:a,disabled:l>=4,className:`w-10 h-10 rounded-full text-white text-xl flex items-center justify-center 
                            transition duration-200 focus:outline-none 
                            border-2 border-gray-400 bg-gradient-to-br from-gray-700 to-black
                            ${l>=4?"bg-gray-500":"hover:shadow hover:border-white"}`,children:"＋"})]}),w.jsx("div",{className:`grid ${u} ${i?"h-auto":"h-[1000px]"}`,children:Array.from({length:l}).map((p,f)=>w.jsx("div",{className:"w-full h-full",children:w.jsx(gw,{label:vw[f],index:f},f)},f))})]})},U_=ut.createContext(null),qn=()=>{const l=ut.useContext(U_);if(!l)throw new Error("TrainingContext must be used within TrainingProvider");return l},bw=({children:l})=>{const[n,i]=ut.useState([]),[a,o]=ut.useState([]),[u,p]=ut.useState(0),[f,m]=ut.useState(0),[d,g]=ut.useState(!1),[v,b]=ut.useState("リズム名"),[y,S]=ut.useState({loopCountPerStep:2,tempoStep:5,minTempo:60,maxTempo:180,mode:"endless",includeCountIn:!1}),[x,A]=ut.useState("base"),[E,D]=ut.useState("normal"),[M,U]=ut.useState([]),[C,j]=ut.useState("endless"),[V,R]=ut.useState(5),[Q,F]=ut.useState(60),[Z,I]=ut.useState(180),[st,et]=ut.useState(1),[it,k]=ut.useState(1),[Y,$]=ut.useState(!1),[nt,N]=ut.useState(null),[L,tt]=ut.useState(null),[W,rt]=ut.useState(null),[at,ot]=ut.useState([]);return w.jsx(U_.Provider,{value:{sections:n,setSections:i,parts:a,setParts:o,currentSectionIndex:u,setCurrentSectionIndex:p,currentBeatIndex:f,setCurrentBeatIndex:m,isPlaying:d,setIsPlaying:g,rhythmName:v,setRhythmName:b,tempoSetting:y,setTempoSetting:S,currentPage:x,setCurrentPage:A,accentType:E,setAccentType:D,accentList:M,setAccentList:U,loopMode:C,setLoopMode:j,tempoStep:V,setTempoStep:R,minTempo:Q,setMinTempo:F,maxTempo:Z,setMaxTempo:I,loopChangeCount:st,setLoopChangeCount:et,loopRepeatLimit:it,setLoopRepeatLimit:k,countIn:Y,setCountIn:$,soundSource:nt,setSoundSource:N,builtClickTracks:L,setBuiltClickTracks:tt,builtRhythmTracks:W,setBuiltRhythmTracks:rt,convertedSounds:at,setConvertedSounds:ot},children:l})},B_=()=>{const{mode:l,setMode:n}=Ng(),{isPlaying:i}=Hs(),{isPlaying:a}=qn(),o=i||a;return w.jsxs("div",{className:"flex justify-center gap-4 p-4 bg-gray-900 border-t border-gray-700",children:[w.jsx("button",{onClick:()=>n("rhythm"),disabled:o,className:`px-4 py-2 rounded-full focus:outline-noneto-black border-2 border-gray-400 text-white text-xl flex items-center justify-center shadow hover:shadow-[0_0_12px_rgba(255,255,255,0.6)] hover:border-white transition duration-200 bg-gradient-to-br ${l==="rhythm"?"from-green-600":"from-gray-700"} ${o?"opacity-50 cursor-not-allowed":""}`,children:"リズムモード🥁"}),w.jsx("button",{onClick:()=>n("training"),disabled:o,className:`px-4 py-2 rounded-full focus:outline-noneto-black border-2 border-gray-400 text-white text-xl flex items-center justify-center shadow hover:shadow-[0_0_12px_rgba(255,255,255,0.6)] hover:border-white transition duration-200 bg-gradient-to-br ${l==="training"?"from-blue-600":"from-gray-700"} ${o?"opacity-50 cursor-not-allowed":""}`,children:"トレーニングモード🏋️"})]})},Sw=()=>(ut.useEffect(()=>{iw(4)},[]),w.jsx("div",{className:"flex flex-col gap-8 p-6 bg-black text-white min-h-screen items-center",children:w.jsxs("div",{className:"flex flex-col gap-4 p-4 bg-gray-900 rounded-lg shadow-md w-full max-w-md",children:[w.jsx(dw,{}),w.jsx(yw,{}),w.jsx(B_,{})]})})),Tw=()=>{const{rhythmName:l,setRhythmName:n}=qn();return w.jsxs("div",{children:[w.jsx("label",{className:"block text-white mb-1",children:"リズム名"}),w.jsx("input",{type:"text",value:l,onChange:i=>n(i.target.value),className:"w-full px-3 py-2 rounded bg-gray-800 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"リズム名を入力してください"})]})};function xw(l,n,i,a){const o=n[l],u=o.numerator,p=o.denominator,f=o.bpm,m=o.name||"無し",d=n.slice(0,l).reduce((C,j)=>C+j.numerator,0),g=d+u;for(const C of i)for(let j=d;j<g;j++){const V=C.beats[j];if(!(V!=null&&V.isStart)&&((V==null?void 0:V.n)??1)>1){alert("この小節は他の小節と連結しているため、エクスポートできません。");return}}const v=[o],b=i.map(C=>({...C,beats:C.beats.slice(d,g)})),y=a.slice(d,g),x=JSON.stringify({sections:v,parts:b,accentList:y},null,2),A=new Blob([x],{type:"application/json"}),E=m.replace(/[\\/:*?"<>|]/g,"_"),D=`${u}_${p}_${f}_${E}.json`,M=URL.createObjectURL(A),U=document.createElement("a");U.href=M,U.download=D,U.click(),URL.revokeObjectURL(M)}function Ag(l,n,i,a,o,u){const p=f=>{try{const[m]=f.sections,d=f.parts,g=f.accentList,v=n.slice(0,l).reduce((E,D)=>E+D.numerator,0),b=v+n[l].numerator;for(const E of i)for(let D=v;D<b;D++){const M=E.beats[D];if(!(M!=null&&M.isStart)&&((M==null?void 0:M.n)??1)>1){alert("インポート先の小節は他の小節と連結しているため、インポートできません。");return}}const y=n[l];if(y.numerator!==m.numerator||y.denominator!==m.denominator){alert("インポート元とインポート先の拍子が一致しないため、インポートできません。");return}const S=[...n];S[l]={...y,...m};const x=i.map((E,D)=>{var C;const M=[...E.beats],U=((C=d[D])==null?void 0:C.beats)??[];return M.splice(v,m.numerator,...U),{...E,beats:M}}),A=[...a];A.splice(v,m.numerator,...g),o(S,x,A)}catch(m){console.error("インポート失敗:",m),alert("JSONデータが正しくありません。")}};if(u)p(u);else{const f=document.createElement("input");f.type="file",f.accept=".json",f.onchange=()=>{var g;const m=(g=f.files)==null?void 0:g[0];if(!m)return;const d=new FileReader;d.onload=()=>{try{const v=d.result,b=JSON.parse(v);p(b)}catch(v){console.error("インポート失敗:",v),alert("JSONファイルが正しくありません。")}},d.readAsText(m)},f.click()}}const ww=[{label:"選択してください",value:""},{label:"テスト用",value:"4_4_120.json"}],Aw=()=>{const{sections:l,setSections:n,parts:i,setParts:a,accentList:o,setAccentList:u}=qn(),[p,f]=ut.useState(null),m=(b,y,S)=>{if(y==="numerator"){const A=l[b].numerator,E=parseInt(S);if(E===A)return;const D=l.slice(0,b).reduce((j,V)=>j+V.numerator,0);if(i.some(j=>{for(let V=0;V<A;V++){const R=j.beats[D+V];if(R!=null&&R.n&&R.n>1&&R.isStart){const Q=D+R.n-1,F=D+E-1;if(Q>F)return!0}}return!1})){alert("この小節には連結されたリズムがあります。拍数を変更するには先にリズム設定画面で連結を解除してください。");return}const U=E-A,C=i.map(j=>{const V=[...j.beats];if(U>0){const R=Array.from({length:U},()=>({isStart:!0,n:1,m:1,sound:"kick",volumes:[0]}));V.splice(D+A,0,...R)}else V.splice(D+E,-U);return{...j,beats:V}});a(C)}const x=[...l];x[b]={...x[b],[y]:S},n(x)},d=()=>{const y=l[l.length-1]??{numerator:4,denominator:4,noteValue:"quarter",bpm:120,loopCount:1,parts:[]},S=[...l,{...y}];n(S)},g=b=>{const S=l[b].numerator,x=[...l];x.splice(b,1),n(x);const A=l.slice(0,b).reduce((D,M)=>D+M.numerator,0),E=i.map(D=>{const M=[...D.beats];return M.splice(A,S),{...D,beats:M}});a(E)},v=b=>{const y=l[b],S=l.slice(0,b).reduce((M,U)=>M+U.numerator,0),x=S+y.numerator;for(const M of i)for(let U=S;U<x;U++){const C=M.beats[U];if(C!=null&&C.isStart&&C.n&&C.n>1&&U+C.n>x){alert("この小節には他の小節にまたがるリズムがあるため、複製できません！");return}}const A={...y,name:y.name?`${y.name}_copy`:void 0,description:y.description||"",parts:JSON.parse(JSON.stringify(y.parts))},E=[...l,A];n(E);const D=i.map(M=>{const U=[...M.beats],j=U.slice(S,x).map(V=>V?{...V}:void 0);return{...M,beats:[...U,...j]}});a(D)};return w.jsxs("div",{className:"space-y-4",children:[p&&w.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 bg-green-600 text-white px-4 py-2 rounded shadow-lg z-50",children:p}),w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx("h2",{className:"text-white text-lg font-semibold",children:"小節設定"}),w.jsx("button",{onClick:d,className:"w-25 h-10 rounded-full bg-gradient-to-br from-gray-700 to-black border-2 border-gray-400 text-white text-xl flex items-center justify-center shadow hover:shadow-[0_0_12px_rgba(255,255,255,0.6)] hover:border-white transition duration-200 focus:outline-none",children:"＋追加"})]}),l.map((b,y)=>w.jsxs("div",{className:"bg-gray-800 p-4 rounded shadow space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"text-sm text-gray-300 font-semibold block mb-1",children:"プリセット読み込み"}),w.jsx("select",{className:"w-full px-2 py-1 rounded bg-gray-900 text-white border border-gray-600",onChange:async S=>{const x=S.target.value;if(!x)return;const E=await(await fetch(`/metal-metronome/json/sections/${x}`)).json();Ag(y,l,i,o,(D,M,U)=>{n(D),a(M),u(U),f("✅ プリセットを読み込みました"),setTimeout(()=>f(null),3e3)},E)},children:ww.map(S=>w.jsx("option",{value:S.value,children:S.label},S.value))})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-sm text-gray-300 font-semibold block mb-1",children:"小節名"}),w.jsx("input",{type:"text",value:b.name||"",onChange:S=>{const x=[...l];x[y].name=S.target.value,n(x)},placeholder:`小節${y+1}（任意）`,className:"w-full px-3 py-2 rounded bg-gray-900 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 transition"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-sm text-gray-300 font-semibold block mb-1",children:"小節の説明"}),w.jsx("textarea",{value:b.description||"",onChange:S=>{const x=[...l];x[y].description=S.target.value,n(x)},placeholder:"この小節の説明（任意）",className:"w-full px-3 py-2 rounded bg-gray-900 text-white border border-gray-600 resize-y min-h-[60px] focus:outline-none focus:ring-2 focus:ring-blue-500 transition"})]}),w.jsxs("div",{className:"flex flex-wrap gap-4",children:[w.jsxs("div",{className:"flex gap-2 items-center",children:[w.jsx("label",{className:"text-white",children:"拍子"}),w.jsx("input",{type:"number",value:b.numerator,onChange:S=>m(y,"numerator",parseInt(S.target.value)),className:"w-16 px-2 py-1 rounded bg-gray-700 text-white border border-gray-600"}),"/",w.jsx("select",{value:b.denominator,onChange:S=>m(y,"denominator",parseInt(S.target.value)),className:"px-2 py-1 rounded bg-gray-700 text-white border border-gray-600",children:[1,2,4,8,16].map(S=>w.jsx("option",{value:S,children:S},S))})]}),w.jsxs("div",{className:"flex gap-2 items-center",children:[w.jsx("label",{className:"text-white",children:"音価"}),w.jsxs("select",{value:b.noteValue,onChange:S=>m(y,"noteValue",S.target.value),className:"px-2 py-1 rounded bg-gray-700 text-white border border-gray-600",children:[w.jsx("option",{value:"quarter",children:"♩"}),w.jsx("option",{value:"eighth",children:"♪"})]})]}),w.jsxs("div",{className:"flex gap-2 items-center",children:[w.jsx("label",{className:"text-white",children:"BPM"}),w.jsx("input",{type:"number",value:b.bpm,onChange:S=>m(y,"bpm",parseInt(S.target.value)),className:"w-24 px-2 py-1 rounded bg-gray-700 text-white border border-gray-600"})]})]}),w.jsxs("div",{className:"flex flex-wrap gap-2 justify-end mt-2",children:[w.jsx("button",{onClick:()=>xw(y,l,i,o),className:"px-3 py-1 text-sm bg-gradient-to-br from-blue-500 to-black text-white rounded shadow hover:shadow-lg",children:"📤 エクスポート"}),w.jsx("button",{onClick:()=>Ag(y,l,i,o,(S,x,A)=>{n(S),a(x),u(A)}),className:"px-3 py-1 text-sm bg-gradient-to-br from-green-500 to-black text-white rounded shadow hover:shadow-lg",children:"📥 インポート"}),w.jsx("button",{onClick:()=>v(y),className:"px-3 py-1 text-sm bg-gradient-to-br from-purple-600 to-black text-white rounded shadow hover:shadow-lg",children:"📄 複製"}),w.jsx("button",{onClick:()=>g(y),className:"px-3 py-1 text-sm bg-gradient-to-br from-red-600 to-black text-white rounded shadow hover:shadow-lg",children:"🗑️ 削除"})]})]},y))]})},Cw=()=>{const{setCurrentPage:l,sections:n,setSections:i}=qn(),a=()=>{l("part")},o=()=>{n.length===0&&i([]),l("base")};return w.jsxs("div",{className:"flex flex-col gap-4 p-4 bg-gray-900 rounded-lg shadow-md w-full max-w-md",children:[w.jsx("h2",{className:"text-white text-xl font-bold",children:"小節設定"}),w.jsx("p",{className:"text-gray-300 text-sm",children:"拍子、音価、BPMなどを小節ごとに設定します。"}),w.jsxs("div",{className:"flex justify-between mt-4",children:[w.jsx("button",{onClick:o,className:"bg-gradient-to-br from-gray-600 to-black hover:bg-gray-700 text-white px-4 py-2 rounded",children:"← 戻る"}),w.jsx("button",{onClick:a,disabled:n.length===0,className:"bg-gradient-to-br from-blue-600 to-black hover:bg-blue-700 text-white px-4 py-2 rounded disabled:opacity-50",children:"パート設定へ進む →"})]}),w.jsx(Aw,{}),w.jsxs("div",{className:"flex justify-between mt-4",children:[w.jsx("button",{onClick:o,className:"bg-gradient-to-br from-gray-600 to-black hover:bg-gray-700 text-white px-4 py-2 rounded",children:"← 戻る"}),w.jsx("button",{onClick:a,disabled:n.length===0,className:"bg-gradient-to-br from-blue-600 to-black hover:bg-blue-700 text-white px-4 py-2 rounded disabled:opacity-50",children:"パート設定へ進む →"})]})]})},Nw=({sectionIndex:l,partIndex:n,beatIndex:i,volumes:a,onVolumesChange:o,m:u})=>{const{sections:p,parts:f,isPlaying:m}=qn(),[d,g]=ut.useState(null),v=24,b=y=>{if(d===null)return;const S=[...a];S[d]=parseFloat(y.target.value),o(S)};{const E=100-v/2-10;return w.jsxs("div",{className:"flex flex-col items-center w-full h-full overflow-hidden",children:[w.jsxs("svg",{width:200,height:200,viewBox:"0 0 200 200",children:[w.jsx("circle",{cx:100,cy:100,r:E,stroke:"gray",strokeWidth:1,fill:"none"}),Array.from({length:u},(D,M)=>{const U=(360/u*M-90)*(Math.PI/180),C=100+E*Math.cos(U),j=100+E*Math.sin(U),V=d===M,R=a[M]??1,Q=V?"yellow":`rgba(255,255,255,${R})`;return w.jsx("circle",{cx:C,cy:j,r:v/2,fill:Q,onClick:m?void 0:()=>g(M===d?null:M),style:{cursor:"pointer"}},M)})]}),d!==null&&w.jsxs("div",{className:"flex flex-col items-center gap-2 mt-2",children:[w.jsx("select",{value:d,onChange:D=>g(parseInt(D.target.value)),className:"mb-1 px-2 py-1 bg-gray-800 text-white rounded border border-gray-500",children:Array.from({length:u},(D,M)=>w.jsxs("option",{value:M,children:["Step ",M+1]},M))}),w.jsx("input",{type:"range",min:0,max:1,step:.01,value:a[d]??1,onChange:b,className:"w-32 accent-blue-400"}),w.jsxs("select",{value:"",onChange:D=>{const M=parseFloat(D.target.value);if(d===null)return;const U=[...a];U[d]=M,o(U)},className:"mt-2 px-2 py-1 bg-gray-800 text-white rounded border border-gray-500",children:[w.jsx("option",{value:"",disabled:!0,children:"プリセット"}),w.jsx("option",{value:1,children:"f"}),w.jsx("option",{value:.75,children:"mf"}),w.jsx("option",{value:.5,children:"p"}),w.jsx("option",{value:.25,children:"pp"}),w.jsx("option",{value:0,children:"×"})]})]})]})}},Ew={kick:"sounds/kick.wav",kick_sub:"sounds/kick_sub.wav",snare:"sounds/snare.wav",snare_ghost:"sounds/snare_ghost.wav",snare_rim:"sounds/snare_rim.wav",tom_high1:"sounds/tom_high1.wav",tom_high2:"sounds/tom_high2.wav",tom_mid1:"sounds/tom_mid1.wav",tom_mid2:"sounds/tom_mid2.wav",tom_low1:"sounds/tom_low1.wav",tom_low2:"sounds/tom_low2.wav",hihat_closed:"sounds/hihat_closed.wav",hihat_open:"sounds/hihat_open.wav",hihat_pedal:"sounds/hihat_pedal.wav",crash1:"sounds/crash1.wav",crash2:"sounds/crash2.wav",ride_bell:"sounds/ride_bell.wav",ride_crash:"sounds/ride_crash.wav",ride_tip:"sounds/ride_tip.wav",china:"sounds/china.wav",splash:"sounds/splash.wav",bell:"sounds/bell.wav",click:"sounds/click.wav",click_high:"sounds/click_high.wav"};function Ow({bpm:l,noteValue:n,denominator:i,n:a,m:o,sound:u,volumes:p}){Mw([[[{bpm:l,n:a,sound:u,volume:p}]]])}const Mw=async(l,n)=>{const i=l[0].length,a=ef();for(let u=0;u<i;u++){let p=a;for(const f of l[0][u])await Dw(f,u+1,p),p+=60/f.bpm*f.n}const o=Math.max(...l[0].map(u=>u.reduce((p,f)=>p+60/f.bpm*f.n,0)));Ke.scheduleOnce(()=>{Ke.stop(),Ke.cancel()},a+o),Ke.start()},Dw=async(l,n,i)=>{const a=Ew[l.sound];if(!a)return;const o=new ss({url:a}).toDestination();await o.load(a);const u=l.n,p=60/l.bpm,f=u*p,m=Array.isArray(l.volume)?l.volume.length:1,d=f/m;for(let g=0;g<m;g++){const v=Array.isArray(l.volume)?l.volume[g]:l.volume??1,b=Ar(v),y=new ss(o.buffer).toDestination();y.volume.value=b;const S=i+d*g;y.start(S),y.stop(S+1),Ke.scheduleOnce(()=>y.dispose(),S+2)}},Rw=({sectionIndex:l,beatIndex:n,partIndex:i,onClose:a})=>{var M,U,C,j,V;const{sections:o,parts:u,setParts:p}=qn(),f=o.slice(0,l).reduce((R,Q)=>R+Q.numerator,0)+n,m=(U=(M=u[i])==null?void 0:M.beats)==null?void 0:U[f],[d,g]=ut.useState((m==null?void 0:m.n)??1),[v,b]=ut.useState((m==null?void 0:m.m)??1),[y,S]=ut.useState((m==null?void 0:m.sound)??"kick"),[x,A]=ut.useState((m==null?void 0:m.volumes)??Array(v).fill(1));ut.useEffect(()=>{A(R=>v>R.length?[...R,...Array(v-R.length).fill(1)]:R.slice(0,v))},[v]);const E=()=>{var L,tt;const R=[...u],Q=[...R[i].beats];let F=0;for(let W=0;W<l;W++)F+=o[W].numerator;F+=n;let Z=l;const I=o[Z].bpm,st=o[Z].noteValue,et=o[Z].denominator,it=o[Z].numerator-n;let k=d-it,Y=Z;for(const[W,rt]of o.entries())if(!(Z>=W)&&(k-=rt.numerator,Y=W,k<0))break;if(k>0){alert("指定したn拍が小節を跨いでも入りきりません！");return}for(let W=Z;W<=Y;W++){if(o[W].bpm!==I){alert("跨る小節のBPMが一致していません！");return}if(o[W].noteValue!==st){alert("跨る小節の音価が一致していません！");return}if(o[W].denominator!==et){alert("跨る小節の拍子（分母）が一致していません！");return}}const $=(tt=(L=u[i])==null?void 0:L.beats)==null?void 0:tt[F],nt=($==null?void 0:$.n)??1,N={isStart:!0,n:1,m:1,sound:"kick",volumes:[0]};for(let W=0;W<Math.max(nt,d);W++)W===0?Q[F+W]={isStart:!0,n:d,m:v,sound:y,volumes:x}:Q[F+W]={...N};R[i].beats=Q,p(R),a()},D=()=>{const R=o[l].bpm,Q=o[l].noteValue,F=o[l].denominator;console.log(x),Ow({bpm:R,noteValue:Q,denominator:F,n:d,m:v,sound:y,volumes:x})};return w.jsxs("div",{className:"bg-gray-800 text-white p-4 rounded shadow-md mt-4",children:[w.jsx("h3",{className:"text-lg font-semibold mb-2",children:"リズム設定"}),w.jsxs("div",{className:"text-sm text-gray-300 mb-3",children:[w.jsxs("div",{children:[((C=o[l])==null?void 0:C.name)&&w.jsxs("div",{children:[w.jsx("span",{className:"font-bold text-white",children:`小節名：${(j=o[l])==null?void 0:j.name}`}),w.jsx("br",{})]}),"パート",i+1," の ",n+1,"拍目"]}),((V=o[l])==null?void 0:V.description)&&w.jsx("div",{className:"text-gray-400 italic",children:o[l].description})]}),w.jsxs("div",{className:"flex gap-4 items-center mb-3",children:[w.jsx("label",{children:"n拍："}),w.jsx("input",{type:"number",min:1,value:d,onChange:R=>g(parseInt(R.target.value)),className:"w-16 p-1 rounded bg-gray-700 border border-gray-600"}),w.jsx("label",{children:"m連："}),w.jsx("input",{type:"number",min:1,value:v,onChange:R=>{const Q=parseInt(R.target.value);b(Q),A(Array(Q).fill(1))},className:"w-16 p-1 rounded bg-gray-700 border border-gray-600"})]}),w.jsxs("div",{className:"mb-3",children:[w.jsx("label",{className:"block mb-1",children:"楽器:"}),w.jsx("select",{value:y,onChange:R=>S(R.target.value),className:"bg-gray-700 p-1 rounded w-full",children:["kick","kick_sub","snare","snare_ghost","snare_rim","tom_high1","tom_high2","tom_mid1","tom_mid2","tom_low1","tom_low2","hihat_closed","hihat_open","hihat_pedal","crash1","crash2","ride_bell","ride_crash","ride_tip","china","splash","bell","click","click_high"].map(R=>w.jsx("option",{value:R,children:R.replace(/_/g," ")},R))})]}),w.jsx("div",{className:"w-full flex items-center justify-center overflow-hidden",style:{minHeight:"200px"},children:w.jsx(Nw,{sectionIndex:l,partIndex:i,beatIndex:n,volumes:x,onVolumesChange:A,m:v})}),w.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[w.jsx("button",{onClick:D,className:"px-4 py-1 bg-gradient-to-br from-green-600 to-black hover:bg-green-500 rounded",children:"サンプル再生"}),w.jsx("button",{onClick:a,className:"px-4 py-1 bg-gradient-to-br from-grey-600 to-black hover:bg-gray-500 rounded",children:"キャンセル"}),w.jsx("button",{onClick:E,className:"px-4 py-1 bg-gradient-to-br from-blue-600 to-black hover:bg-blue-500 rounded",children:"設定する"})]})]})},kw=["パート1","パート2","パート3","パート4"],ao=100,jw=l=>{switch(l){case"quarter":return"♩";case"eighth":return"♪";default:return"?"}},zw={strong:"強",normal:"中",weak:"弱",none:"無"},Vw=l=>{const n=["strong","normal","weak","none"];return n[(n.indexOf(l)+1)%n.length]},qw=()=>{const{sections:l,setCurrentPage:n,parts:i,setParts:a,accentList:o,setAccentList:u}=qn(),p=l.reduce((d,g)=>d+g.numerator,0);ut.useEffect(()=>{o.length!==p&&u(Array(p).fill("normal"))},[l,o.length,p,u]),ut.useEffect(()=>{const d={isStart:!0,n:1,m:1,sound:"kick",volumes:[0]};let g=!1,v=[...i];i.length===0?(g=!0,v=Array.from({length:4},()=>({beats:Array.from({length:p},()=>({...d}))}))):v=i.map(b=>{const y=[...(b==null?void 0:b.beats)??[]];let S=0;for(const x of l)for(let A=0;A<x.numerator;A++)y[S]||(y[S]={...d},g=!0),S++;return{...b,beats:y}}),g&&a(v)},[l]);const[f,m]=ut.useState(null);return w.jsxs("div",{className:"flex flex-col gap-4 p-4 bg-gray-900 rounded-lg shadow-md w-full max-w-md",children:[w.jsx("h2",{className:"text-white text-xl font-bold",children:"パート設定"}),w.jsx("div",{className:"overflow-x-auto max-w-full border border-gray-800 rounded",children:w.jsxs("div",{className:"min-w-max",style:{width:`${ao*p}px`},children:[w.jsx("div",{className:"flex border-b border-gray-600 pb-2",children:w.jsx("div",{className:"flex w-full",children:l.map((d,g)=>{var v,b;return w.jsxs("div",{style:{width:`${ao*d.numerator}px`},className:"border-r-4 border-gray-700 px-1 text-white text-xs text-center",children:[((v=l[g])==null?void 0:v.name)&&w.jsxs("div",{children:["小節名: ",d.name]}),((b=l[g])==null?void 0:b.description)&&w.jsxs("div",{children:["説明: ",d.description]}),w.jsxs("div",{children:["拍子: ",d.numerator,"/",d.denominator]}),w.jsxs("div",{children:["音価: ",jw(d.noteValue)]}),w.jsxs("div",{children:["BPM: ",d.bpm]})]},g)})})}),w.jsx("div",{className:"flex border-b-2 border-gray-500 py-2",children:o.map((d,g)=>w.jsx("div",{onClick:()=>{const v=[...o];v[g]=Vw(d),u(v)},style:{width:`${ao}px`},className:"h-[40px] bg-gray-800 border-l border-gray-600 flex items-center justify-center text-white text-lg hover:bg-gray-700 cursor-pointer",children:zw[d]},g))}),kw.map((d,g)=>w.jsx("div",{className:"flex items-center border-b border-gray-700 py-2",children:w.jsx("div",{className:"flex",children:(()=>{var y,S;const v=[];let b=0;for(;b<p;){const x=(S=(y=i[g])==null?void 0:y.beats)==null?void 0:S[b];if(!(x!=null&&x.isStart)){b++;continue}const A=ao*(x.n??1),{sectionIndex:E,beatIndex:D}=(()=>{let C=b;for(let j=0;j<l.length;j++){const V=l[j].numerator;if(C<V)return{sectionIndex:j,beatIndex:C};C-=V}return{sectionIndex:0,beatIndex:0}})(),M=(f==null?void 0:f.sectionIndex)===E&&(f==null?void 0:f.beatIndex)===D&&(f==null?void 0:f.partIndex)===g,U=((x==null?void 0:x.volumes)??[]).every(C=>C===0);v.push(w.jsxs("div",{onClick:()=>m({sectionIndex:E,beatIndex:D,partIndex:g,n:(x==null?void 0:x.n)??1,m:(x==null?void 0:x.m)??1,sound:(x==null?void 0:x.sound)??"kick",volumes:(x==null?void 0:x.volumes)??[0]}),style:{width:`${A}px`,height:"80px"},className:`h-[40px] ${M?"bg-yellow-500":U?"bg-gray-700 opacity-30 border-dashed":"bg-gray-700"} border-l border-gray-600 flex items-center justify-center text-white text-xs hover:bg-gray-600 flex-col cursor-pointer`,children:[w.jsxs("div",{children:[D+1,"拍目"]}),w.jsxs("div",{className:"text-[10px]",children:[x.n,"拍",x.m,"連",w.jsx("br",{}),"(",x.sound,")"]})]},`${g}-${b}`)),b+=x.n??1}return v})()})},g))]})}),f&&w.jsx(Rw,{sectionIndex:f.sectionIndex,beatIndex:f.beatIndex,partIndex:f.partIndex,onClose:()=>m(null),n:f.n,m:f.m,sound:f.sound,volumes:f.volumes},`${f.partIndex}-${f.sectionIndex}-${f.beatIndex}`),w.jsxs("div",{className:"flex justify-between mt-6",children:[w.jsx("button",{onClick:()=>n("measure"),className:"bg-gradient-to-br from-gray-600 to-black hover:bg-gray-700 text-white px-4 py-2 rounded",children:"← 小節設定に戻る"}),w.jsx("button",{onClick:()=>n("loop"),className:"bg-gradient-to-br from-blue-600 to-black hover:bg-blue-700 text-white px-4 py-2 rounded",children:"ループ設定へ進む →"})]})]})},Uw=()=>{const{loopMode:l,setLoopMode:n,tempoStep:i,setTempoStep:a,maxTempo:o,setMaxTempo:u,minTempo:p,setMinTempo:f,loopChangeCount:m,setLoopChangeCount:d,loopRepeatLimit:g,setLoopRepeatLimit:v,countIn:b,setCountIn:y,setCurrentPage:S}=qn();return w.jsxs("div",{className:"space-y-4 p-4 bg-gray-900 rounded-lg shadow-lg text-white",children:[w.jsx("h2",{className:"text-xl font-bold",children:"ループ設定"}),w.jsxs("div",{children:[w.jsx("label",{className:"block mb-1",children:"ループパターン"}),w.jsxs("select",{value:l,onChange:x=>n(x.target.value),className:"w-full bg-gray-800 p-2 rounded",children:[w.jsx("option",{value:"endless",children:"ひたすら繰り返す"}),w.jsx("option",{value:"accelerate",children:"上昇"}),w.jsx("option",{value:"decelerate",children:"下降"}),w.jsx("option",{value:"repeat-accel-decel",children:"繰り返し上昇"}),w.jsx("option",{value:"repeat-decel-accel",children:"繰り返し下降"})]})]}),!l.startsWith("endless")&&w.jsxs("div",{children:[w.jsx("label",{className:"block mb-1",children:"テンポの変化刻み（BPM）"}),w.jsx("input",{type:"number",value:i,onChange:x=>a(Number(x.target.value)),className:"w-full bg-gray-800 p-2 rounded"})]}),!l.startsWith("endless")&&w.jsxs("div",{className:"flex gap-4",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("label",{className:"block mb-1",children:"最小テンポ"}),w.jsx("input",{type:"number",value:p,onChange:x=>f(Number(x.target.value)),className:"w-full bg-gray-800 p-2 rounded"})]}),w.jsxs("div",{className:"flex-1",children:[w.jsx("label",{className:"block mb-1",children:"最大テンポ"}),w.jsx("input",{type:"number",value:o,onChange:x=>u(Number(x.target.value)),className:"w-full bg-gray-800 p-2 rounded"})]})]}),!l.startsWith("endless")&&w.jsxs("div",{children:[w.jsx("label",{className:"block mb-1",children:"何回繰り返しでテンポを変化させるか"}),w.jsx("input",{type:"number",value:m,onChange:x=>d(Number(x.target.value)),className:"w-full bg-gray-800 p-2 rounded"})]}),l.startsWith("repeat")&&w.jsxs("div",{children:[w.jsx("label",{className:"block mb-1",children:"ループの繰り返し回数"}),w.jsx("input",{type:"number",value:g,onChange:x=>v(Number(x.target.value)),className:"w-full bg-gray-800 p-2 rounded"})]}),l.startsWith("endless")&&w.jsxs("div",{children:[w.jsx("label",{className:"block mb-1",children:"繰り返し回数"}),w.jsx("input",{type:"number",value:g,onChange:x=>v(Number(x.target.value)),className:"w-full bg-gray-800 p-2 rounded"})]}),!l.startsWith("endless")&&w.jsxs("div",{className:"flex items-center mt-4",children:[w.jsx("input",{type:"checkbox",checked:b,onChange:x=>y(x.target.checked),className:"mr-2"}),w.jsxs("label",{children:["テンポ変化時に空小節を1小節追加する",w.jsx("br",{}),"※テンポが変わったタイミングでベルが鳴ります"]})]}),w.jsxs("div",{className:"flex justify-between mt-6",children:[w.jsx("button",{onClick:()=>S("part"),className:"bg-gradient-to-br from-gray-600 to-black hover:bg-gray-700 text-white px-4 py-2 rounded",children:"← パート設定に戻る"}),w.jsx("button",{onClick:()=>S("base"),className:"bg-gradient-to-br from-blue-600 to-black hover:bg-blue-700 text-white px-4 py-2 rounded",children:"設定へ進む →"})]})]})},Bw=()=>{const l=qn(),n=[{label:"選択してください",value:""},{label:"チェンジアップ",value:"チェンジアップ.json"}],i=()=>{const u={sections:l.sections,parts:l.parts,rhythmName:l.rhythmName,tempoSetting:l.tempoSetting,accentType:l.accentType,accentList:l.accentList,loopMode:l.loopMode,tempoStep:l.tempoStep,minTempo:l.minTempo,maxTempo:l.maxTempo,loopChangeCount:l.loopChangeCount,loopRepeatLimit:l.loopRepeatLimit,countIn:l.countIn},p=JSON.stringify(u,null,2),f=new Blob([p],{type:"application/json"}),m=new Date,d=m.getFullYear(),g=String(m.getMonth()+1).padStart(2,"0"),v=String(m.getDate()).padStart(2,"0"),b=`${d}${g}${v}`,S=`${l.rhythmName.replace(/[\\/:*?"<>|]/g,"_")}_${b}.json`,x=URL.createObjectURL(f),A=document.createElement("a");A.href=x,A.download=S,A.click(),URL.revokeObjectURL(x)},a=u=>{var m;const p=(m=u.target.files)==null?void 0:m[0];if(!p)return;const f=new FileReader;f.onload=()=>{try{const d=f.result,g=JSON.parse(d);l.setSections(g.sections),l.setParts(g.parts),l.setRhythmName(g.rhythmName),l.setTempoSetting(g.tempoSetting),l.setAccentType(g.accentType),l.setAccentList(g.accentList),l.setLoopMode(g.loopMode),l.setTempoStep(g.tempoStep),l.setMinTempo(g.minTempo),l.setMaxTempo(g.maxTempo),l.setLoopChangeCount(g.loopChangeCount),l.setLoopRepeatLimit(g.loopRepeatLimit),l.setCountIn(g.countIn),alert("設定をインポートしました✨")}catch(d){console.error("インポート失敗:",d),alert("JSONファイルが正しくありません。")}},f.readAsText(p)},o=async u=>{if(u)try{const f=await(await fetch(`/metal-metronome/json/rhythm/${u}`)).json();l.setSections(f.sections),l.setParts(f.parts),l.setRhythmName(f.rhythmName),l.setTempoSetting(f.tempoSetting),l.setAccentType(f.accentType),l.setAccentList(f.accentList),l.setLoopMode(f.loopMode),l.setTempoStep(f.tempoStep),l.setMinTempo(f.minTempo),l.setMaxTempo(f.maxTempo),l.setLoopChangeCount(f.loopChangeCount),l.setLoopRepeatLimit(f.loopRepeatLimit),l.setCountIn(f.countIn),alert(`🎵 ${u} を読み込みました`)}catch(p){console.error("プリセット読み込み失敗:",p),alert("プリセットの読み込みに失敗しました")}};return w.jsxs("div",{className:"mt-4 space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"text-white mr-2",children:"リズムプリセット:"}),w.jsx("select",{onChange:u=>o(u.target.value),className:"px-2 py-1 rounded bg-gray-800 text-white border border-gray-600",children:n.map(u=>w.jsx("option",{value:u.value,children:u.label},u.value))})]}),w.jsxs("div",{children:[w.jsx("button",{className:"bg-gradient-to-br from-blue-600 to-black hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded transition duration-200",onClick:i,children:"📤 エクスポート"}),w.jsxs("label",{className:"ml-4 inline-block bg-gradient-to-br from-green-600 to-black hover:bg-green-700 text-white font-semibold px-4 py-2 rounded cursor-pointer transition duration-200",children:["📥 インポート",w.jsx("input",{type:"file",accept:".json",onChange:a,style:{display:"none"}})]})]})]})},Er={},ah={kick:"sounds/kick.wav",kick_sub:"sounds/kick_sub.wav",snare:"sounds/snare.wav",snare_ghost:"sounds/snare_ghost.wav",snare_rim:"sounds/snare_rim.wav",tom_high1:"sounds/tom_high1.wav",tom_high2:"sounds/tom_high2.wav",tom_mid1:"sounds/tom_mid1.wav",tom_mid2:"sounds/tom_mid2.wav",tom_low1:"sounds/tom_low1.wav",tom_low2:"sounds/tom_low2.wav",hihat_closed:"sounds/hihat_closed.wav",hihat_open:"sounds/hihat_open.wav",hihat_pedal:"sounds/hihat_pedal.wav",crash1:"sounds/crash1.wav",crash2:"sounds/crash2.wav",ride_bell:"sounds/ride_bell.wav",ride_crash:"sounds/ride_crash.wav",ride_tip:"sounds/ride_tip.wav",china:"sounds/china.wav",splash:"sounds/splash.wav",bell:"sounds/bell.wav",click:"sounds/click.wav",click_high:"sounds/click_high.wav"},Lw=async(l=4)=>{await V_();for(const n in ah){Er[n]=[];for(let i=0;i<l+1;i++){const a=new ss(ah[n]).toDestination();await a.load(ah[n]),Er[n][i]=a}}},Hw=(l,n,i,a=1,o)=>{var f;const u=(f=Er[o])==null?void 0:f[l];if(!u||!u.buffer.loaded){console.warn(`プレイヤー未ロード: ${o}[${l}]`);return}const p=new ss(u.buffer).toDestination();p.volume.value=Ar(a),p.start(i),p.stop(i+1),Ke.scheduleOnce(()=>p.dispose(),i+2)},Yw=(l,n,i)=>{const o=(i==="quarter"?4:i==="eighth"?8:6)/n;return 60/l*o};async function Gw(l,n){let i=0;const a=()=>{if(i>=l.length){L_(n);return}const o=ef()+.1,u=l[i],p=u.map(()=>o);let f=o;for(let d=0;d<u.length;d++){let g=p[d];for(const v of u[d]){const y=Yw(v.bpm,v.denominator,v.noteValue)*v.n/v.m,S=v.volume;Hw(d,!1,g,S,v.sound),g+=y}p[d]=g,f=Math.max(f,g)}i++;const m=f-o;Ke.scheduleOnce(a,`+${m}`)};n(!0),a(),Ke.start()}const Xw=()=>{Ke.stop(),Ke.cancel();for(const l in Er){const n=Er[l];n==null||n.forEach(i=>{try{i.stop()}catch(a){console.warn(`プレイヤー停止失敗: ${l}`,a)}})}};function L_(l){Xw(),l(!1)}function Iw(l,n,i,a,o,u,p){const f=[],m=A=>A.map(E=>E+i),d=A=>A.map(E=>E-i),g=A=>A[0]>=l[0]+(o-l[0]),v=A=>A[0]<=l[0]-(l[0]-a),b=(A,E)=>A[0]===E[0];let y=[...l];const S=[...l],x=(A,E)=>{for(let D=0;D<E;D++)A()};if(n==="accelerate")for(;x(()=>f.push([...y]),u),!g(y);)y=m(y);else if(n==="decelerate")for(;x(()=>f.push([...y]),u),!v(y);)y=d(y);else if(n==="repeat-accel-decel")for(let A=0;A<p;A++){for(;!g(y);)x(()=>f.push([...y]),u),y=m(y);for(x(()=>f.push([...y]),u);!v(y);)y=d(y),x(()=>f.push([...y]),u);for(;;){const E=m(y);if(b(E,S))break;y=E,x(()=>f.push([...y]),u)}y=[...S]}else if(n==="repeat-decel-accel")for(let A=0;A<p;A++){for(;!v(y);)x(()=>f.push([...y]),u),y=d(y);for(x(()=>f.push([...y]),u);!g(y);)y=m(y),x(()=>f.push([...y]),u);for(;;){const E=d(y);if(b(E,S))break;y=E,x(()=>f.push([...y]),u)}y=[...S]}else if(n==="endless")for(let A=0;A<p;A++)f.push([...y]);return f}function Zw(l,n,i,a){if(!i)return{clickTracksWithCountIn:l,rhythmTracksWithCountIn:n};const o=[],u=[];for(let p=0;p<l.length;p++){if(p%a===0&&p!==0){const f=i[p]??i[0],m={bpm:i[p][0].bpm,noteValue:i[p][0].noteValue,denominator:i[p][0].denominator,n:1,m:1,sound:"kick",volume:0},d=Array(f.length).fill(m),g=Array(4).fill(0).map(()=>[...d]);o.push(f),u.push(g)}o.push(l[p]),u.push(n[p])}return{clickTracksWithCountIn:o,rhythmTracksWithCountIn:u}}function Qw(l,n){const i=[];for(let a=0;a<l.length;a++){const o=l[a],u=n[a],p=[],f=o.map(m=>{let d="click",g=1;switch(m.accent){case"bell":d="bell",g=1;break;case"strong":d="click_high",g=1;break;case"normal":d="click",g=1;break;case"weak":d="click",g=.5;break;case"none":d="click",g=0;break}return{bpm:m.bpm,noteValue:m.noteValue,denominator:m.denominator,n:1,m:1,sound:d,volume:g}});p.push(f);for(let m=0;m<u.length;m++){const d=[];for(const g of u[m]){const{bpm:v,noteValue:b,denominator:y,n:S,m:x,sound:A,volume:E}=g;if(Array.isArray(E))for(let D=0;D<E.length;D++)d.push({bpm:v,noteValue:b,denominator:y,n:S,m:x,sound:A,volume:E[D]});else d.push({bpm:v,noteValue:b,denominator:y,n:S,m:x,sound:A,volume:E})}p.push(d)}i.push(p)}return i}const Fw=()=>{const{currentPage:l,setCurrentPage:n,sections:i,parts:a,tempoSetting:o,accentList:u,countIn:p,loopChangeCount:f,loopRepeatLimit:m,loopMode:d,tempoStep:g,minTempo:v,maxTempo:b,setBuiltClickTracks:y,builtClickTracks:S,setBuiltRhythmTracks:x,builtRhythmTracks:A,isPlaying:E,setIsPlaying:D,clickTracksWithCountIn:M,rhythmTracksWithCountIn:U,convertedSounds:C,setConvertedSounds:j}=qn();ut.useEffect(()=>{Lw(4)},[]);const V=()=>{const R=i.map(k=>k.bpm),Q=Iw(R,d,g,v,b,f,m),F=Q.map(k=>{const Y=[];let $=0;return k.forEach((nt,N)=>{const L=i[N];for(let tt=0;tt<L.loopCount;tt++)for(let W=0;W<L.numerator;W++)Y.push({bpm:nt,noteValue:L.noteValue,denominator:L.denominator,accent:u[$%u.length]}),$++}),Y}),Z=p&&d!=="endless"?F.map(k=>{const Y=k.slice(0,i[0].numerator*i[0].loopCount);return Y.length>0&&(Y[0]={...Y[0],accent:"bell"}),Y}):void 0,I=Q.map(k=>a.map(Y=>{const $=Y.beats,nt=[];let N=0;i.forEach((W,rt)=>{const at=W.numerator*W.loopCount;for(let ot=0;ot<at;ot++)$[N]&&nt.push({beat:$[N],sectionIdx:rt}),N++});const L=new Set;return nt.forEach((W,rt)=>{if(W.beat.n&&W.beat.n>1)for(let at=1;at<W.beat.n;at++)L.add(rt+at)}),nt.filter((W,rt)=>!L.has(rt)).map(({beat:W,sectionIdx:rt})=>{const at=i[rt];return{bpm:k[rt]??R[rt]??120,noteValue:at.noteValue,denominator:at.denominator??1,n:W.n??1,m:W.m??1,sound:W.sound??"kick",volume:W.volumes??1}})})),st={clickTracks:F,rhythmTracks:I,countInTrack:Z},et=Zw(F,I,Z,f);y(et.clickTracksWithCountIn),x(et.rhythmTracksWithCountIn),console.log("🎵 RhythmSoundSource 完成:",st),console.log(et);const it=Qw(et.clickTracksWithCountIn,et.rhythmTracksWithCountIn);j(it),console.log("converted:",it)};switch(l){case"measure":return w.jsx(Cw,{});case"part":return w.jsx(qw,{});case"loop":return w.jsx(Uw,{});case"base":default:return w.jsxs("div",{className:"flex flex-col gap-4 p-4 bg-gray-900 rounded-lg shadow-md w-full max-w-md",children:[w.jsx("h2",{className:"text-white text-xl font-bold",children:"トレーニングモード設定"}),w.jsx(Tw,{}),w.jsx(Bw,{}),w.jsx("button",{onClick:()=>n("measure"),className:"mt-4 bg-gradient-to-br from-blue-600 to-black hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded transition duration-200",children:"小節設定へ進む →"}),w.jsx("button",{onClick:V,disabled:i.length===0||a.length===0,className:`bg-gradient-to-br ${i.length>0&&a.length>0?"from-green-600":"from-gray-600 cursor-not-allowed"} to-black text-white px-4 py-2 rounded hover:bg-blue-700 transition`,children:"音源を作成する"}),E?w.jsx("button",{onClick:()=>L_(D),className:"bg-gradient-to-br from-red-600 to-black text-white px-4 py-2 rounded",children:"停止する"}):w.jsx("button",{onClick:()=>Gw(C,D),disabled:C.length===0,className:`bg-gradient-to-br ${C.length>0?"from-blue-600":"from-gray-600 cursor-not-allowed"} to-black text-white px-4 py-2 rounded`,children:"再生する"})]})}},Ww=()=>{const[l,n]=ut.useState("setting");return w.jsxs("div",{className:"flex flex-col gap-8 p-6 bg-black text-white min-h-screen items-center",children:[w.jsx(Fw,{}),w.jsx(B_,{})]})},Pw=()=>{const{mode:l}=Ng();return w.jsx(uw,{children:w.jsx(bw,{children:l==="rhythm"?w.jsx(Sw,{}):w.jsx(Ww,{})})})};fy.createRoot(document.getElementById("root")).render(w.jsx(ut.StrictMode,{children:w.jsx(dy,{children:w.jsx(Pw,{})})}));
