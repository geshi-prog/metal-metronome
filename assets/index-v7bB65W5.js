(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const p of u.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();var Ju={exports:{}},br={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm;function iy(){if(Fm)return br;Fm=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(a,o,u){var p=null;if(u!==void 0&&(p=""+u),o.key!==void 0&&(p=""+o.key),"key"in o){u={};for(var f in o)f!=="key"&&(u[f]=o[f])}else u=o;return o=u.ref,{$$typeof:l,type:a,key:p,ref:o!==void 0?o:null,props:u}}return br.Fragment=n,br.jsx=i,br.jsxs=i,br}var Wm;function ay(){return Wm||(Wm=1,Ju.exports=iy()),Ju.exports}var w=ay(),$u={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm;function ry(){if(Pm)return bt;Pm=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),p=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function b(N){return N===null||typeof N!="object"?null:(N=v&&N[v]||N["@@iterator"],typeof N=="function"?N:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,x={};function A(N,H,$){this.props=N,this.context=H,this.refs=x,this.updater=$||y}A.prototype.isReactComponent={},A.prototype.setState=function(N,H){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,H,"setState")},A.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function E(){}E.prototype=A.prototype;function D(N,H,$){this.props=N,this.context=H,this.refs=x,this.updater=$||y}var M=D.prototype=new E;M.constructor=D,S(M,A.prototype),M.isPureReactComponent=!0;var U=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},R=Object.prototype.hasOwnProperty;function V(N,H,$,J,ct,lt){return $=lt.ref,{$$typeof:l,type:N,key:H,ref:$!==void 0?$:null,props:lt}}function k(N,H){return V(N.type,H,void 0,void 0,void 0,N.props)}function Q(N){return typeof N=="object"&&N!==null&&N.$$typeof===l}function F(N){var H={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function($){return H[$]})}var Z=/\/+/g;function X(N,H){return typeof N=="object"&&N!==null&&N.key!=null?F(""+N.key):H.toString(36)}function nt(){}function et(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(nt,nt):(N.status="pending",N.then(function(H){N.status==="pending"&&(N.status="fulfilled",N.value=H)},function(H){N.status==="pending"&&(N.status="rejected",N.reason=H)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function it(N,H,$,J,ct){var lt=typeof N;(lt==="undefined"||lt==="boolean")&&(N=null);var ot=!1;if(N===null)ot=!0;else switch(lt){case"bigint":case"string":case"number":ot=!0;break;case"object":switch(N.$$typeof){case l:case n:ot=!0;break;case g:return ot=N._init,it(ot(N._payload),H,$,J,ct)}}if(ot)return ct=ct(N),ot=J===""?"."+X(N,0):J,U(ct)?($="",ot!=null&&($=ot.replace(Z,"$&/")+"/"),it(ct,H,$,"",function(re){return re})):ct!=null&&(Q(ct)&&(ct=k(ct,$+(ct.key==null||N&&N.key===ct.key?"":(""+ct.key).replace(Z,"$&/")+"/")+ot)),H.push(ct)),1;ot=0;var Et=J===""?".":J+":";if(U(N))for(var at=0;at<N.length;at++)J=N[at],lt=Et+X(J,at),ot+=it(J,H,$,lt,ct);else if(at=b(N),typeof at=="function")for(N=at.call(N),at=0;!(J=N.next()).done;)J=J.value,lt=Et+X(J,at++),ot+=it(J,H,$,lt,ct);else if(lt==="object"){if(typeof N.then=="function")return it(et(N),H,$,J,ct);throw H=String(N),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return ot}function j(N,H,$){if(N==null)return N;var J=[],ct=0;return it(N,J,"","",function(lt){return H.call($,lt,ct++)}),J}function I(N){if(N._status===-1){var H=N._result;H=H(),H.then(function($){(N._status===0||N._status===-1)&&(N._status=1,N._result=$)},function($){(N._status===0||N._status===-1)&&(N._status=2,N._result=$)}),N._status===-1&&(N._status=0,N._result=H)}if(N._status===1)return N._result.default;throw N._result}var tt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function st(){}return bt.Children={map:j,forEach:function(N,H,$){j(N,function(){H.apply(this,arguments)},$)},count:function(N){var H=0;return j(N,function(){H++}),H},toArray:function(N){return j(N,function(H){return H})||[]},only:function(N){if(!Q(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},bt.Component=A,bt.Fragment=i,bt.Profiler=o,bt.PureComponent=D,bt.StrictMode=a,bt.Suspense=m,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,bt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return C.H.useMemoCache(N)}},bt.cache=function(N){return function(){return N.apply(null,arguments)}},bt.cloneElement=function(N,H,$){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var J=S({},N.props),ct=N.key,lt=void 0;if(H!=null)for(ot in H.ref!==void 0&&(lt=void 0),H.key!==void 0&&(ct=""+H.key),H)!R.call(H,ot)||ot==="key"||ot==="__self"||ot==="__source"||ot==="ref"&&H.ref===void 0||(J[ot]=H[ot]);var ot=arguments.length-2;if(ot===1)J.children=$;else if(1<ot){for(var Et=Array(ot),at=0;at<ot;at++)Et[at]=arguments[at+2];J.children=Et}return V(N.type,ct,void 0,void 0,lt,J)},bt.createContext=function(N){return N={$$typeof:p,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},bt.createElement=function(N,H,$){var J,ct={},lt=null;if(H!=null)for(J in H.key!==void 0&&(lt=""+H.key),H)R.call(H,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ct[J]=H[J]);var ot=arguments.length-2;if(ot===1)ct.children=$;else if(1<ot){for(var Et=Array(ot),at=0;at<ot;at++)Et[at]=arguments[at+2];ct.children=Et}if(N&&N.defaultProps)for(J in ot=N.defaultProps,ot)ct[J]===void 0&&(ct[J]=ot[J]);return V(N,lt,void 0,void 0,null,ct)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(N){return{$$typeof:f,render:N}},bt.isValidElement=Q,bt.lazy=function(N){return{$$typeof:g,_payload:{_status:-1,_result:N},_init:I}},bt.memo=function(N,H){return{$$typeof:d,type:N,compare:H===void 0?null:H}},bt.startTransition=function(N){var H=C.T,$={};C.T=$;try{var J=N(),ct=C.S;ct!==null&&ct($,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(st,tt)}catch(lt){tt(lt)}finally{C.T=H}},bt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},bt.use=function(N){return C.H.use(N)},bt.useActionState=function(N,H,$){return C.H.useActionState(N,H,$)},bt.useCallback=function(N,H){return C.H.useCallback(N,H)},bt.useContext=function(N){return C.H.useContext(N)},bt.useDebugValue=function(){},bt.useDeferredValue=function(N,H){return C.H.useDeferredValue(N,H)},bt.useEffect=function(N,H,$){var J=C.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(N,H)},bt.useId=function(){return C.H.useId()},bt.useImperativeHandle=function(N,H,$){return C.H.useImperativeHandle(N,H,$)},bt.useInsertionEffect=function(N,H){return C.H.useInsertionEffect(N,H)},bt.useLayoutEffect=function(N,H){return C.H.useLayoutEffect(N,H)},bt.useMemo=function(N,H){return C.H.useMemo(N,H)},bt.useOptimistic=function(N,H){return C.H.useOptimistic(N,H)},bt.useReducer=function(N,H,$){return C.H.useReducer(N,H,$)},bt.useRef=function(N){return C.H.useRef(N)},bt.useState=function(N){return C.H.useState(N)},bt.useSyncExternalStore=function(N,H,$){return C.H.useSyncExternalStore(N,H,$)},bt.useTransition=function(){return C.H.useTransition()},bt.version="19.1.0",bt}var Km;function vh(){return Km||(Km=1,$u.exports=ry()),$u.exports}var ut=vh(),th={exports:{}},Sr={},eh={exports:{}},nh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jm;function ly(){return Jm||(Jm=1,function(l){function n(j,I){var tt=j.length;j.push(I);t:for(;0<tt;){var st=tt-1>>>1,N=j[st];if(0<o(N,I))j[st]=I,j[tt]=N,tt=st;else break t}}function i(j){return j.length===0?null:j[0]}function a(j){if(j.length===0)return null;var I=j[0],tt=j.pop();if(tt!==I){j[0]=tt;t:for(var st=0,N=j.length,H=N>>>1;st<H;){var $=2*(st+1)-1,J=j[$],ct=$+1,lt=j[ct];if(0>o(J,tt))ct<N&&0>o(lt,J)?(j[st]=lt,j[ct]=tt,st=ct):(j[st]=J,j[$]=tt,st=$);else if(ct<N&&0>o(lt,tt))j[st]=lt,j[ct]=tt,st=ct;else break t}}return I}function o(j,I){var tt=j.sortIndex-I.sortIndex;return tt!==0?tt:j.id-I.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;l.unstable_now=function(){return u.now()}}else{var p=Date,f=p.now();l.unstable_now=function(){return p.now()-f}}var m=[],d=[],g=1,v=null,b=3,y=!1,S=!1,x=!1,A=!1,E=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function U(j){for(var I=i(d);I!==null;){if(I.callback===null)a(d);else if(I.startTime<=j)a(d),I.sortIndex=I.expirationTime,n(m,I);else break;I=i(d)}}function C(j){if(x=!1,U(j),!S)if(i(m)!==null)S=!0,R||(R=!0,X());else{var I=i(d);I!==null&&it(C,I.startTime-j)}}var R=!1,V=-1,k=5,Q=-1;function F(){return A?!0:!(l.unstable_now()-Q<k)}function Z(){if(A=!1,R){var j=l.unstable_now();Q=j;var I=!0;try{t:{S=!1,x&&(x=!1,D(V),V=-1),y=!0;var tt=b;try{e:{for(U(j),v=i(m);v!==null&&!(v.expirationTime>j&&F());){var st=v.callback;if(typeof st=="function"){v.callback=null,b=v.priorityLevel;var N=st(v.expirationTime<=j);if(j=l.unstable_now(),typeof N=="function"){v.callback=N,U(j),I=!0;break e}v===i(m)&&a(m),U(j)}else a(m);v=i(m)}if(v!==null)I=!0;else{var H=i(d);H!==null&&it(C,H.startTime-j),I=!1}}break t}finally{v=null,b=tt,y=!1}I=void 0}}finally{I?X():R=!1}}}var X;if(typeof M=="function")X=function(){M(Z)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,et=nt.port2;nt.port1.onmessage=Z,X=function(){et.postMessage(null)}}else X=function(){E(Z,0)};function it(j,I){V=E(function(){j(l.unstable_now())},I)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(j){j.callback=null},l.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<j?Math.floor(1e3/j):5},l.unstable_getCurrentPriorityLevel=function(){return b},l.unstable_next=function(j){switch(b){case 1:case 2:case 3:var I=3;break;default:I=b}var tt=b;b=I;try{return j()}finally{b=tt}},l.unstable_requestPaint=function(){A=!0},l.unstable_runWithPriority=function(j,I){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var tt=b;b=j;try{return I()}finally{b=tt}},l.unstable_scheduleCallback=function(j,I,tt){var st=l.unstable_now();switch(typeof tt=="object"&&tt!==null?(tt=tt.delay,tt=typeof tt=="number"&&0<tt?st+tt:st):tt=st,j){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=tt+N,j={id:g++,callback:I,priorityLevel:j,startTime:tt,expirationTime:N,sortIndex:-1},tt>st?(j.sortIndex=tt,n(d,j),i(m)===null&&j===i(d)&&(x?(D(V),V=-1):x=!0,it(C,tt-st))):(j.sortIndex=N,n(m,j),S||y||(S=!0,R||(R=!0,X()))),j},l.unstable_shouldYield=F,l.unstable_wrapCallback=function(j){var I=b;return function(){var tt=b;b=I;try{return j.apply(this,arguments)}finally{b=tt}}}}(nh)),nh}var $m;function oy(){return $m||($m=1,eh.exports=ly()),eh.exports}var sh={exports:{}},Me={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tg;function cy(){if(tg)return Me;tg=1;var l=vh();function n(m){var d="https://react.dev/errors/"+m;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,d,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:m,containerInfo:d,implementation:g}}var p=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,d){if(m==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Me.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Me.createPortal=function(m,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(n(299));return u(m,d,null,g)},Me.flushSync=function(m){var d=p.T,g=a.p;try{if(p.T=null,a.p=2,m)return m()}finally{p.T=d,a.p=g,a.d.f()}},Me.preconnect=function(m,d){typeof m=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,a.d.C(m,d))},Me.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},Me.preinit=function(m,d){if(typeof m=="string"&&d&&typeof d.as=="string"){var g=d.as,v=f(g,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?a.d.S(m,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:y}):g==="script"&&a.d.X(m,{crossOrigin:v,integrity:b,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Me.preinitModule=function(m,d){if(typeof m=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=f(d.as,d.crossOrigin);a.d.M(m,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&a.d.M(m)},Me.preload=function(m,d){if(typeof m=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,v=f(g,d.crossOrigin);a.d.L(m,g,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Me.preloadModule=function(m,d){if(typeof m=="string")if(d){var g=f(d.as,d.crossOrigin);a.d.m(m,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else a.d.m(m)},Me.requestFormReset=function(m){a.d.r(m)},Me.unstable_batchedUpdates=function(m,d){return m(d)},Me.useFormState=function(m,d,g){return p.H.useFormState(m,d,g)},Me.useFormStatus=function(){return p.H.useHostTransitionStatus()},Me.version="19.1.0",Me}var eg;function uy(){if(eg)return sh.exports;eg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),sh.exports=cy(),sh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ng;function hy(){if(ng)return Sr;ng=1;var l=oy(),n=vh(),i=uy();function a(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var e=t,s=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(s=e.return),t=e.return;while(t)}return e.tag===3?s:null}function p(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function f(t){if(u(t)!==t)throw Error(a(188))}function m(t){var e=t.alternate;if(!e){if(e=u(t),e===null)throw Error(a(188));return e!==t?null:t}for(var s=t,r=e;;){var c=s.return;if(c===null)break;var h=c.alternate;if(h===null){if(r=c.return,r!==null){s=r;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===s)return f(c),t;if(h===r)return f(c),e;h=h.sibling}throw Error(a(188))}if(s.return!==r.return)s=c,r=h;else{for(var _=!1,T=c.child;T;){if(T===s){_=!0,s=c,r=h;break}if(T===r){_=!0,r=c,s=h;break}T=T.sibling}if(!_){for(T=h.child;T;){if(T===s){_=!0,s=h,r=c;break}if(T===r){_=!0,r=h,s=c;break}T=T.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==r)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:e}function d(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=d(t),e!==null)return e;t=t.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),M=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function X(t){return t===null||typeof t!="object"?null:(t=Z&&t[Z]||t["@@iterator"],typeof t=="function"?t:null)}var nt=Symbol.for("react.client.reference");function et(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===nt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case S:return"Fragment";case A:return"Profiler";case x:return"StrictMode";case C:return"Suspense";case R:return"SuspenseList";case Q:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case y:return"Portal";case M:return(t.displayName||"Context")+".Provider";case D:return(t._context.displayName||"Context")+".Consumer";case U:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return e=t.displayName||null,e!==null?e:et(t.type)||"Memo";case k:e=t._payload,t=t._init;try{return et(t(e))}catch{}}return null}var it=Array.isArray,j=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt={pending:!1,data:null,method:null,action:null},st=[],N=-1;function H(t){return{current:t}}function $(t){0>N||(t.current=st[N],st[N]=null,N--)}function J(t,e){N++,st[N]=t.current,t.current=e}var ct=H(null),lt=H(null),ot=H(null),Et=H(null);function at(t,e){switch(J(ot,e),J(lt,t),J(ct,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Tm(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Tm(e),t=xm(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(ct),J(ct,t)}function re(){$(ct),$(lt),$(ot)}function xe(t){t.memoizedState!==null&&J(Et,t);var e=ct.current,s=xm(e,t.type);e!==s&&(J(lt,t),J(ct,s))}function Kt(t){lt.current===t&&($(ct),$(lt)),Et.current===t&&($(Et),mr._currentValue=tt)}var Ft=Object.prototype.hasOwnProperty,Re=l.unstable_scheduleCallback,Ue=l.unstable_cancelCallback,rt=l.unstable_shouldYield,ft=l.unstable_requestPaint,Ot=l.unstable_now,yt=l.unstable_getCurrentPriorityLevel,_t=l.unstable_ImmediatePriority,Mt=l.unstable_UserBlockingPriority,ne=l.unstable_NormalPriority,En=l.unstable_LowPriority,cs=l.unstable_IdlePriority,xa=l.log,Lo=l.unstable_setDisableYieldValue,Xs=null,Ie=null;function us(t){if(typeof xa=="function"&&Lo(t),Ie&&typeof Ie.setStrictMode=="function")try{Ie.setStrictMode(Xs,t)}catch{}}var Ze=Math.clz32?Math.clz32:X_,Y_=Math.log,G_=Math.LN2;function X_(t){return t>>>=0,t===0?32:31-(Y_(t)/G_|0)|0}var Yr=256,Gr=4194304;function Is(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Xr(t,e,s){var r=t.pendingLanes;if(r===0)return 0;var c=0,h=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=r&134217727;return T!==0?(r=T&~h,r!==0?c=Is(r):(_&=T,_!==0?c=Is(_):s||(s=T&~t,s!==0&&(c=Is(s))))):(T=r&~h,T!==0?c=Is(T):_!==0?c=Is(_):s||(s=r&~t,s!==0&&(c=Is(s)))),c===0?0:e!==0&&e!==c&&(e&h)===0&&(h=c&-c,s=e&-e,h>=s||h===32&&(s&4194048)!==0)?e:c}function wa(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function I_(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function af(){var t=Yr;return Yr<<=1,(Yr&4194048)===0&&(Yr=256),t}function rf(){var t=Gr;return Gr<<=1,(Gr&62914560)===0&&(Gr=4194304),t}function Ho(t){for(var e=[],s=0;31>s;s++)e.push(t);return e}function Aa(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Z_(t,e,s,r,c,h){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,O=t.expirationTimes,L=t.hiddenUpdates;for(s=_&~s;0<s;){var W=31-Ze(s),K=1<<W;T[W]=0,O[W]=-1;var Y=L[W];if(Y!==null)for(L[W]=null,W=0;W<Y.length;W++){var G=Y[W];G!==null&&(G.lane&=-536870913)}s&=~K}r!==0&&lf(t,r,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(_&~e))}function lf(t,e,s){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-Ze(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|s&4194090}function of(t,e){var s=t.entangledLanes|=e;for(t=t.entanglements;s;){var r=31-Ze(s),c=1<<r;c&e|t[r]&e&&(t[r]|=e),s&=~c}}function Yo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Go(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function cf(){var t=I.p;return t!==0?t:(t=window.event,t===void 0?32:Ym(t.type))}function Q_(t,e){var s=I.p;try{return I.p=t,e()}finally{I.p=s}}var hs=Math.random().toString(36).slice(2),Ee="__reactFiber$"+hs,Be="__reactProps$"+hs,_i="__reactContainer$"+hs,Xo="__reactEvents$"+hs,F_="__reactListeners$"+hs,W_="__reactHandles$"+hs,uf="__reactResources$"+hs,Ca="__reactMarker$"+hs;function Io(t){delete t[Ee],delete t[Be],delete t[Xo],delete t[F_],delete t[W_]}function vi(t){var e=t[Ee];if(e)return e;for(var s=t.parentNode;s;){if(e=s[_i]||s[Ee]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(t=Nm(t);t!==null;){if(s=t[Ee])return s;t=Nm(t)}return e}t=s,s=t.parentNode}return null}function yi(t){if(t=t[Ee]||t[_i]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Na(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(a(33))}function bi(t){var e=t[uf];return e||(e=t[uf]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ge(t){t[Ca]=!0}var hf=new Set,ff={};function Zs(t,e){Si(t,e),Si(t+"Capture",e)}function Si(t,e){for(ff[t]=e,t=0;t<e.length;t++)hf.add(e[t])}var P_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),df={},pf={};function K_(t){return Ft.call(pf,t)?!0:Ft.call(df,t)?!1:P_.test(t)?pf[t]=!0:(df[t]=!0,!1)}function Ir(t,e,s){if(K_(e))if(s===null)t.removeAttribute(e);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+s)}}function Zr(t,e,s){if(s===null)t.removeAttribute(e);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+s)}}function Ln(t,e,s,r){if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(e,s,""+r)}}var Zo,mf;function Ti(t){if(Zo===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);Zo=e&&e[1]||"",mf=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zo+t+mf}var Qo=!1;function Fo(t,e){if(!t||Qo)return"";Qo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(G){var Y=G}Reflect.construct(t,[],K)}else{try{K.call()}catch(G){Y=G}t.call(K.prototype)}}else{try{throw Error()}catch(G){Y=G}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(G){if(G&&Y&&typeof G.stack=="string")return[G.stack,Y.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=r.DetermineComponentFrameRoot(),_=h[0],T=h[1];if(_&&T){var O=_.split(`
`),L=T.split(`
`);for(c=r=0;r<O.length&&!O[r].includes("DetermineComponentFrameRoot");)r++;for(;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;if(r===O.length||c===L.length)for(r=O.length-1,c=L.length-1;1<=r&&0<=c&&O[r]!==L[c];)c--;for(;1<=r&&0<=c;r--,c--)if(O[r]!==L[c]){if(r!==1||c!==1)do if(r--,c--,0>c||O[r]!==L[c]){var W=`
`+O[r].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=r&&0<=c);break}}}finally{Qo=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Ti(s):""}function J_(t){switch(t.tag){case 26:case 27:case 5:return Ti(t.type);case 16:return Ti("Lazy");case 13:return Ti("Suspense");case 19:return Ti("SuspenseList");case 0:case 15:return Fo(t.type,!1);case 11:return Fo(t.type.render,!1);case 1:return Fo(t.type,!0);case 31:return Ti("Activity");default:return""}}function gf(t){try{var e="";do e+=J_(t),t=t.return;while(t);return e}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function rn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _f(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $_(t){var e=_f(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,h=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return c.call(this)},set:function(_){r=""+_,h.call(this,_)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(_){r=""+_},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qr(t){t._valueTracker||(t._valueTracker=$_(t))}function vf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var s=e.getValue(),r="";return t&&(r=_f(t)?t.checked?"true":"false":t.value),t=r,t!==s?(e.setValue(t),!0):!1}function Fr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var t0=/[\n"\\]/g;function ln(t){return t.replace(t0,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Wo(t,e,s,r,c,h,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),e!=null?_==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+rn(e)):t.value!==""+rn(e)&&(t.value=""+rn(e)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),e!=null?Po(t,_,rn(e)):s!=null?Po(t,_,rn(s)):r!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+rn(T):t.removeAttribute("name")}function yf(t,e,s,r,c,h,_,T){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),e!=null||s!=null){if(!(h!=="submit"&&h!=="reset"||e!=null))return;s=s!=null?""+rn(s):"",e=e!=null?""+rn(e):s,T||e===t.value||(t.value=e),t.defaultValue=e}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=T?t.checked:!!r,t.defaultChecked=!!r,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Po(t,e,s){e==="number"&&Fr(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function xi(t,e,s,r){if(t=t.options,e){e={};for(var c=0;c<s.length;c++)e["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=e.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&r&&(t[s].defaultSelected=!0)}else{for(s=""+rn(s),e=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,r&&(t[c].defaultSelected=!0);return}e!==null||t[c].disabled||(e=t[c])}e!==null&&(e.selected=!0)}}function bf(t,e,s){if(e!=null&&(e=""+rn(e),e!==t.value&&(t.value=e),s==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=s!=null?""+rn(s):""}function Sf(t,e,s,r){if(e==null){if(r!=null){if(s!=null)throw Error(a(92));if(it(r)){if(1<r.length)throw Error(a(93));r=r[0]}s=r}s==null&&(s=""),e=s}s=rn(e),t.defaultValue=s,r=t.textContent,r===s&&r!==""&&r!==null&&(t.value=r)}function wi(t,e){if(e){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=e;return}}t.textContent=e}var e0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tf(t,e,s){var r=e.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,s):typeof s!="number"||s===0||e0.has(e)?e==="float"?t.cssFloat=s:t[e]=(""+s).trim():t[e]=s+"px"}function xf(t,e,s){if(e!=null&&typeof e!="object")throw Error(a(62));if(t=t.style,s!=null){for(var r in s)!s.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var c in e)r=e[c],e.hasOwnProperty(c)&&s[c]!==r&&Tf(t,c,r)}else for(var h in e)e.hasOwnProperty(h)&&Tf(t,h,e[h])}function Ko(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var n0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),s0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wr(t){return s0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Jo=null;function $o(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ai=null,Ci=null;function wf(t){var e=yi(t);if(e&&(t=e.stateNode)){var s=t[Be]||null;t:switch(t=e.stateNode,e.type){case"input":if(Wo(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),e=s.name,s.type==="radio"&&e!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ln(""+e)+'"][type="radio"]'),e=0;e<s.length;e++){var r=s[e];if(r!==t&&r.form===t.form){var c=r[Be]||null;if(!c)throw Error(a(90));Wo(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(e=0;e<s.length;e++)r=s[e],r.form===t.form&&vf(r)}break t;case"textarea":bf(t,s.value,s.defaultValue);break t;case"select":e=s.value,e!=null&&xi(t,!!s.multiple,e,!1)}}}var tc=!1;function Af(t,e,s){if(tc)return t(e,s);tc=!0;try{var r=t(e);return r}finally{if(tc=!1,(Ai!==null||Ci!==null)&&(jl(),Ai&&(e=Ai,t=Ci,Ci=Ai=null,wf(e),t)))for(e=0;e<t.length;e++)wf(t[e])}}function Ea(t,e){var s=t.stateNode;if(s===null)return null;var r=s[Be]||null;if(r===null)return null;s=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,e,typeof s));return s}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ec=!1;if(Hn)try{var Oa={};Object.defineProperty(Oa,"passive",{get:function(){ec=!0}}),window.addEventListener("test",Oa,Oa),window.removeEventListener("test",Oa,Oa)}catch{ec=!1}var fs=null,nc=null,Pr=null;function Cf(){if(Pr)return Pr;var t,e=nc,s=e.length,r,c="value"in fs?fs.value:fs.textContent,h=c.length;for(t=0;t<s&&e[t]===c[t];t++);var _=s-t;for(r=1;r<=_&&e[s-r]===c[h-r];r++);return Pr=c.slice(t,1<r?1-r:void 0)}function Kr(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jr(){return!0}function Nf(){return!1}function Le(t){function e(s,r,c,h,_){this._reactName=s,this._targetInst=c,this.type=r,this.nativeEvent=h,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(h):h[T]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Jr:Nf,this.isPropagationStopped=Nf,this}return g(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Jr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Jr)},persist:function(){},isPersistent:Jr}),e}var Qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$r=Le(Qs),Ma=g({},Qs,{view:0,detail:0}),i0=Le(Ma),sc,ic,Da,tl=g({},Ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Da&&(Da&&t.type==="mousemove"?(sc=t.screenX-Da.screenX,ic=t.screenY-Da.screenY):ic=sc=0,Da=t),sc)},movementY:function(t){return"movementY"in t?t.movementY:ic}}),Ef=Le(tl),a0=g({},tl,{dataTransfer:0}),r0=Le(a0),l0=g({},Ma,{relatedTarget:0}),ac=Le(l0),o0=g({},Qs,{animationName:0,elapsedTime:0,pseudoElement:0}),c0=Le(o0),u0=g({},Qs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),h0=Le(u0),f0=g({},Qs,{data:0}),Of=Le(f0),d0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=m0[t])?!!e[t]:!1}function rc(){return g0}var _0=g({},Ma,{key:function(t){if(t.key){var e=d0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?p0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rc,charCode:function(t){return t.type==="keypress"?Kr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),v0=Le(_0),y0=g({},tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mf=Le(y0),b0=g({},Ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rc}),S0=Le(b0),T0=g({},Qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),x0=Le(T0),w0=g({},tl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),A0=Le(w0),C0=g({},Qs,{newState:0,oldState:0}),N0=Le(C0),E0=[9,13,27,32],lc=Hn&&"CompositionEvent"in window,ka=null;Hn&&"documentMode"in document&&(ka=document.documentMode);var O0=Hn&&"TextEvent"in window&&!ka,Df=Hn&&(!lc||ka&&8<ka&&11>=ka),kf=" ",Rf=!1;function jf(t,e){switch(t){case"keyup":return E0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ni=!1;function M0(t,e){switch(t){case"compositionend":return zf(e);case"keypress":return e.which!==32?null:(Rf=!0,kf);case"textInput":return t=e.data,t===kf&&Rf?null:t;default:return null}}function D0(t,e){if(Ni)return t==="compositionend"||!lc&&jf(t,e)?(t=Cf(),Pr=nc=fs=null,Ni=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Df&&e.locale!=="ko"?null:e.data;default:return null}}var k0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!k0[t.type]:e==="textarea"}function qf(t,e,s,r){Ai?Ci?Ci.push(r):Ci=[r]:Ai=r,e=Ll(e,"onChange"),0<e.length&&(s=new $r("onChange","change",null,s,r),t.push({event:s,listeners:e}))}var Ra=null,ja=null;function R0(t){_m(t,0)}function el(t){var e=Na(t);if(vf(e))return t}function Uf(t,e){if(t==="change")return e}var Bf=!1;if(Hn){var oc;if(Hn){var cc="oninput"in document;if(!cc){var Lf=document.createElement("div");Lf.setAttribute("oninput","return;"),cc=typeof Lf.oninput=="function"}oc=cc}else oc=!1;Bf=oc&&(!document.documentMode||9<document.documentMode)}function Hf(){Ra&&(Ra.detachEvent("onpropertychange",Yf),ja=Ra=null)}function Yf(t){if(t.propertyName==="value"&&el(ja)){var e=[];qf(e,ja,t,$o(t)),Af(R0,e)}}function j0(t,e,s){t==="focusin"?(Hf(),Ra=e,ja=s,Ra.attachEvent("onpropertychange",Yf)):t==="focusout"&&Hf()}function z0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return el(ja)}function V0(t,e){if(t==="click")return el(e)}function q0(t,e){if(t==="input"||t==="change")return el(e)}function U0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qe=typeof Object.is=="function"?Object.is:U0;function za(t,e){if(Qe(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var s=Object.keys(t),r=Object.keys(e);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var c=s[r];if(!Ft.call(e,c)||!Qe(t[c],e[c]))return!1}return!0}function Gf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xf(t,e){var s=Gf(t);t=0;for(var r;s;){if(s.nodeType===3){if(r=t+s.textContent.length,t<=e&&r>=e)return{node:s,offset:e-t};t=r}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Gf(s)}}function If(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?If(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Zf(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Fr(t.document);e instanceof t.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)t=e.contentWindow;else break;e=Fr(t.document)}return e}function uc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var B0=Hn&&"documentMode"in document&&11>=document.documentMode,Ei=null,hc=null,Va=null,fc=!1;function Qf(t,e,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;fc||Ei==null||Ei!==Fr(r)||(r=Ei,"selectionStart"in r&&uc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Va&&za(Va,r)||(Va=r,r=Ll(hc,"onSelect"),0<r.length&&(e=new $r("onSelect","select",null,e,s),t.push({event:e,listeners:r}),e.target=Ei)))}function Fs(t,e){var s={};return s[t.toLowerCase()]=e.toLowerCase(),s["Webkit"+t]="webkit"+e,s["Moz"+t]="moz"+e,s}var Oi={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionrun:Fs("Transition","TransitionRun"),transitionstart:Fs("Transition","TransitionStart"),transitioncancel:Fs("Transition","TransitionCancel"),transitionend:Fs("Transition","TransitionEnd")},dc={},Ff={};Hn&&(Ff=document.createElement("div").style,"AnimationEvent"in window||(delete Oi.animationend.animation,delete Oi.animationiteration.animation,delete Oi.animationstart.animation),"TransitionEvent"in window||delete Oi.transitionend.transition);function Ws(t){if(dc[t])return dc[t];if(!Oi[t])return t;var e=Oi[t],s;for(s in e)if(e.hasOwnProperty(s)&&s in Ff)return dc[t]=e[s];return t}var Wf=Ws("animationend"),Pf=Ws("animationiteration"),Kf=Ws("animationstart"),L0=Ws("transitionrun"),H0=Ws("transitionstart"),Y0=Ws("transitioncancel"),Jf=Ws("transitionend"),$f=new Map,pc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pc.push("scrollEnd");function yn(t,e){$f.set(t,e),Zs(e,[t])}var td=new WeakMap;function on(t,e){if(typeof t=="object"&&t!==null){var s=td.get(t);return s!==void 0?s:(e={value:t,source:e,stack:gf(e)},td.set(t,e),e)}return{value:t,source:e,stack:gf(e)}}var cn=[],Mi=0,mc=0;function nl(){for(var t=Mi,e=mc=Mi=0;e<t;){var s=cn[e];cn[e++]=null;var r=cn[e];cn[e++]=null;var c=cn[e];cn[e++]=null;var h=cn[e];if(cn[e++]=null,r!==null&&c!==null){var _=r.pending;_===null?c.next=c:(c.next=_.next,_.next=c),r.pending=c}h!==0&&ed(s,c,h)}}function sl(t,e,s,r){cn[Mi++]=t,cn[Mi++]=e,cn[Mi++]=s,cn[Mi++]=r,mc|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function gc(t,e,s,r){return sl(t,e,s,r),il(t)}function Di(t,e){return sl(t,null,null,e),il(t)}function ed(t,e,s){t.lanes|=s;var r=t.alternate;r!==null&&(r.lanes|=s);for(var c=!1,h=t.return;h!==null;)h.childLanes|=s,r=h.alternate,r!==null&&(r.childLanes|=s),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&e!==null&&(c=31-Ze(s),t=h.hiddenUpdates,r=t[c],r===null?t[c]=[e]:r.push(e),e.lane=s|536870912),h):null}function il(t){if(50<lr)throw lr=0,Tu=null,Error(a(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var ki={};function G0(t,e,s,r){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fe(t,e,s,r){return new G0(t,e,s,r)}function _c(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yn(t,e){var s=t.alternate;return s===null?(s=Fe(t.tag,e,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=e,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,e=t.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function nd(t,e){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,e=s.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function al(t,e,s,r,c,h){var _=0;if(r=t,typeof t=="function")_c(t)&&(_=1);else if(typeof t=="string")_=Iv(t,s,ct.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case Q:return t=Fe(31,s,e,c),t.elementType=Q,t.lanes=h,t;case S:return Ps(s.children,c,h,e);case x:_=8,c|=24;break;case A:return t=Fe(12,s,e,c|2),t.elementType=A,t.lanes=h,t;case C:return t=Fe(13,s,e,c),t.elementType=C,t.lanes=h,t;case R:return t=Fe(19,s,e,c),t.elementType=R,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case E:case M:_=10;break t;case D:_=9;break t;case U:_=11;break t;case V:_=14;break t;case k:_=16,r=null;break t}_=29,s=Error(a(130,t===null?"null":typeof t,"")),r=null}return e=Fe(_,s,e,c),e.elementType=t,e.type=r,e.lanes=h,e}function Ps(t,e,s,r){return t=Fe(7,t,r,e),t.lanes=s,t}function vc(t,e,s){return t=Fe(6,t,null,e),t.lanes=s,t}function yc(t,e,s){return e=Fe(4,t.children!==null?t.children:[],t.key,e),e.lanes=s,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Ri=[],ji=0,rl=null,ll=0,un=[],hn=0,Ks=null,Gn=1,Xn="";function Js(t,e){Ri[ji++]=ll,Ri[ji++]=rl,rl=t,ll=e}function sd(t,e,s){un[hn++]=Gn,un[hn++]=Xn,un[hn++]=Ks,Ks=t;var r=Gn;t=Xn;var c=32-Ze(r)-1;r&=~(1<<c),s+=1;var h=32-Ze(e)+c;if(30<h){var _=c-c%5;h=(r&(1<<_)-1).toString(32),r>>=_,c-=_,Gn=1<<32-Ze(e)+c|s<<c|r,Xn=h+t}else Gn=1<<h|s<<c|r,Xn=t}function bc(t){t.return!==null&&(Js(t,1),sd(t,1,0))}function Sc(t){for(;t===rl;)rl=Ri[--ji],Ri[ji]=null,ll=Ri[--ji],Ri[ji]=null;for(;t===Ks;)Ks=un[--hn],un[hn]=null,Xn=un[--hn],un[hn]=null,Gn=un[--hn],un[hn]=null}var je=null,Jt=null,Rt=!1,$s=null,On=!1,Tc=Error(a(519));function ti(t){var e=Error(a(418,""));throw Ba(on(e,t)),Tc}function id(t){var e=t.stateNode,s=t.type,r=t.memoizedProps;switch(e[Ee]=t,e[Be]=r,s){case"dialog":Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":case"embed":Ct("load",e);break;case"video":case"audio":for(s=0;s<cr.length;s++)Ct(cr[s],e);break;case"source":Ct("error",e);break;case"img":case"image":case"link":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"input":Ct("invalid",e),yf(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Qr(e);break;case"select":Ct("invalid",e);break;case"textarea":Ct("invalid",e),Sf(e,r.value,r.defaultValue,r.children),Qr(e)}s=r.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||e.textContent===""+s||r.suppressHydrationWarning===!0||Sm(e.textContent,s)?(r.popover!=null&&(Ct("beforetoggle",e),Ct("toggle",e)),r.onScroll!=null&&Ct("scroll",e),r.onScrollEnd!=null&&Ct("scrollend",e),r.onClick!=null&&(e.onclick=Hl),e=!0):e=!1,e||ti(t)}function ad(t){for(je=t.return;je;)switch(je.tag){case 5:case 13:On=!1;return;case 27:case 3:On=!0;return;default:je=je.return}}function qa(t){if(t!==je)return!1;if(!Rt)return ad(t),Rt=!0,!1;var e=t.tag,s;if((s=e!==3&&e!==27)&&((s=e===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Uu(t.type,t.memoizedProps)),s=!s),s&&Jt&&ti(t),ad(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(e===0){Jt=Sn(t.nextSibling);break t}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++;t=t.nextSibling}Jt=null}}else e===27?(e=Jt,Es(t.type)?(t=Yu,Yu=null,Jt=t):Jt=e):Jt=je?Sn(t.stateNode.nextSibling):null;return!0}function Ua(){Jt=je=null,Rt=!1}function rd(){var t=$s;return t!==null&&(Ge===null?Ge=t:Ge.push.apply(Ge,t),$s=null),t}function Ba(t){$s===null?$s=[t]:$s.push(t)}var xc=H(null),ei=null,In=null;function ds(t,e,s){J(xc,e._currentValue),e._currentValue=s}function Zn(t){t._currentValue=xc.current,$(xc)}function wc(t,e,s){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===s)break;t=t.return}}function Ac(t,e,s,r){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var _=c.child;h=h.firstContext;t:for(;h!==null;){var T=h;h=c;for(var O=0;O<e.length;O++)if(T.context===e[O]){h.lanes|=s,T=h.alternate,T!==null&&(T.lanes|=s),wc(h.return,s,t),r||(_=null);break t}h=T.next}}else if(c.tag===18){if(_=c.return,_===null)throw Error(a(341));_.lanes|=s,h=_.alternate,h!==null&&(h.lanes|=s),wc(_,s,t),_=null}else _=c.child;if(_!==null)_.return=c;else for(_=c;_!==null;){if(_===t){_=null;break}if(c=_.sibling,c!==null){c.return=_.return,_=c;break}_=_.return}c=_}}function La(t,e,s,r){t=null;for(var c=e,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var _=c.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var T=c.type;Qe(c.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(c===Et.current){if(_=c.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(mr):t=[mr])}c=c.return}t!==null&&Ac(e,t,s,r),e.flags|=262144}function ol(t){for(t=t.firstContext;t!==null;){if(!Qe(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ni(t){ei=t,In=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Oe(t){return ld(ei,t)}function cl(t,e){return ei===null&&ni(t),ld(t,e)}function ld(t,e){var s=e._currentValue;if(e={context:e,memoizedValue:s,next:null},In===null){if(t===null)throw Error(a(308));In=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else In=In.next=e;return s}var X0=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(s,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(s){return s()})}},I0=l.unstable_scheduleCallback,Z0=l.unstable_NormalPriority,fe={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cc(){return{controller:new X0,data:new Map,refCount:0}}function Ha(t){t.refCount--,t.refCount===0&&I0(Z0,function(){t.controller.abort()})}var Ya=null,Nc=0,zi=0,Vi=null;function Q0(t,e){if(Ya===null){var s=Ya=[];Nc=0,zi=Ou(),Vi={status:"pending",value:void 0,then:function(r){s.push(r)}}}return Nc++,e.then(od,od),e}function od(){if(--Nc===0&&Ya!==null){Vi!==null&&(Vi.status="fulfilled");var t=Ya;Ya=null,zi=0,Vi=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function F0(t,e){var s=[],r={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var c=0;c<s.length;c++)(0,s[c])(e)},function(c){for(r.status="rejected",r.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),r}var cd=j.S;j.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&Q0(t,e),cd!==null&&cd(t,e)};var si=H(null);function Ec(){var t=si.current;return t!==null?t:Yt.pooledCache}function ul(t,e){e===null?J(si,si.current):J(si,e.pool)}function ud(){var t=Ec();return t===null?null:{parent:fe._currentValue,pool:t}}var Ga=Error(a(460)),hd=Error(a(474)),hl=Error(a(542)),Oc={then:function(){}};function fd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function fl(){}function dd(t,e,s){switch(s=t[s],s===void 0?t.push(e):s!==e&&(e.then(fl,fl),e=s),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,md(t),t;default:if(typeof e.status=="string")e.then(fl,fl);else{if(t=Yt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var c=e;c.status="fulfilled",c.value=r}},function(r){if(e.status==="pending"){var c=e;c.status="rejected",c.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,md(t),t}throw Xa=e,Ga}}var Xa=null;function pd(){if(Xa===null)throw Error(a(459));var t=Xa;return Xa=null,t}function md(t){if(t===Ga||t===hl)throw Error(a(483))}var ps=!1;function Mc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ms(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function gs(t,e,s){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(zt&2)!==0){var c=r.pending;return c===null?e.next=e:(e.next=c.next,c.next=e),r.pending=e,e=il(t),ed(t,null,s),e}return sl(t,r,e,s),il(t)}function Ia(t,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,s|=r,e.lanes=s,of(t,s)}}function kc(t,e){var s=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var c=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};h===null?c=h=_:h=h.next=_,s=s.next}while(s!==null);h===null?c=h=e:h=h.next=e}else c=h=e;s={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:r.shared,callbacks:r.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=e:t.next=e,s.lastBaseUpdate=e}var Rc=!1;function Za(){if(Rc){var t=Vi;if(t!==null)throw t}}function Qa(t,e,s,r){Rc=!1;var c=t.updateQueue;ps=!1;var h=c.firstBaseUpdate,_=c.lastBaseUpdate,T=c.shared.pending;if(T!==null){c.shared.pending=null;var O=T,L=O.next;O.next=null,_===null?h=L:_.next=L,_=O;var W=t.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==_&&(T===null?W.firstBaseUpdate=L:T.next=L,W.lastBaseUpdate=O))}if(h!==null){var K=c.baseState;_=0,W=L=O=null,T=h;do{var Y=T.lane&-536870913,G=Y!==T.lane;if(G?(Dt&Y)===Y:(r&Y)===Y){Y!==0&&Y===zi&&(Rc=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var gt=t,pt=T;Y=e;var Bt=s;switch(pt.tag){case 1:if(gt=pt.payload,typeof gt=="function"){K=gt.call(Bt,K,Y);break t}K=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=pt.payload,Y=typeof gt=="function"?gt.call(Bt,K,Y):gt,Y==null)break t;K=g({},K,Y);break t;case 2:ps=!0}}Y=T.callback,Y!==null&&(t.flags|=64,G&&(t.flags|=8192),G=c.callbacks,G===null?c.callbacks=[Y]:G.push(Y))}else G={lane:Y,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(L=W=G,O=K):W=W.next=G,_|=Y;if(T=T.next,T===null){if(T=c.shared.pending,T===null)break;G=T,T=G.next,G.next=null,c.lastBaseUpdate=G,c.shared.pending=null}}while(!0);W===null&&(O=K),c.baseState=O,c.firstBaseUpdate=L,c.lastBaseUpdate=W,h===null&&(c.shared.lanes=0),ws|=_,t.lanes=_,t.memoizedState=K}}function gd(t,e){if(typeof t!="function")throw Error(a(191,t));t.call(e)}function _d(t,e){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)gd(s[t],e)}var qi=H(null),dl=H(0);function vd(t,e){t=$n,J(dl,t),J(qi,e),$n=t|e.baseLanes}function jc(){J(dl,$n),J(qi,qi.current)}function zc(){$n=dl.current,$(qi),$(dl)}var _s=0,Tt=null,qt=null,le=null,pl=!1,Ui=!1,ii=!1,ml=0,Fa=0,Bi=null,W0=0;function se(){throw Error(a(321))}function Vc(t,e){if(e===null)return!1;for(var s=0;s<e.length&&s<t.length;s++)if(!Qe(t[s],e[s]))return!1;return!0}function qc(t,e,s,r,c,h){return _s=h,Tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,j.H=t===null||t.memoizedState===null?ep:np,ii=!1,h=s(r,c),ii=!1,Ui&&(h=bd(e,s,r,c)),yd(t),h}function yd(t){j.H=Sl;var e=qt!==null&&qt.next!==null;if(_s=0,le=qt=Tt=null,pl=!1,Fa=0,Bi=null,e)throw Error(a(300));t===null||_e||(t=t.dependencies,t!==null&&ol(t)&&(_e=!0))}function bd(t,e,s,r){Tt=t;var c=0;do{if(Ui&&(Bi=null),Fa=0,Ui=!1,25<=c)throw Error(a(301));if(c+=1,le=qt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}j.H=nv,h=e(s,r)}while(Ui);return h}function P0(){var t=j.H,e=t.useState()[0];return e=typeof e.then=="function"?Wa(e):e,t=t.useState()[0],(qt!==null?qt.memoizedState:null)!==t&&(Tt.flags|=1024),e}function Uc(){var t=ml!==0;return ml=0,t}function Bc(t,e,s){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s}function Lc(t){if(pl){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}pl=!1}_s=0,le=qt=Tt=null,Ui=!1,Fa=ml=0,Bi=null}function He(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return le===null?Tt.memoizedState=le=t:le=le.next=t,le}function oe(){if(qt===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=qt.next;var e=le===null?Tt.memoizedState:le.next;if(e!==null)le=e,qt=t;else{if(t===null)throw Tt.alternate===null?Error(a(467)):Error(a(310));qt=t,t={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},le===null?Tt.memoizedState=le=t:le=le.next=t}return le}function Hc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wa(t){var e=Fa;return Fa+=1,Bi===null&&(Bi=[]),t=dd(Bi,t,e),e=Tt,(le===null?e.memoizedState:le.next)===null&&(e=e.alternate,j.H=e===null||e.memoizedState===null?ep:np),t}function gl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wa(t);if(t.$$typeof===M)return Oe(t)}throw Error(a(438,String(t)))}function Yc(t){var e=null,s=Tt.updateQueue;if(s!==null&&(e=s.memoCache),e==null){var r=Tt.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(c){return c.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),s===null&&(s=Hc(),Tt.updateQueue=s),s.memoCache=e,s=e.data[e.index],s===void 0)for(s=e.data[e.index]=Array(t),r=0;r<t;r++)s[r]=F;return e.index++,s}function Qn(t,e){return typeof e=="function"?e(t):e}function _l(t){var e=oe();return Gc(e,qt,t)}function Gc(t,e,s){var r=t.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=s;var c=t.baseQueue,h=r.pending;if(h!==null){if(c!==null){var _=c.next;c.next=h.next,h.next=_}e.baseQueue=c=h,r.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{e=c.next;var T=_=null,O=null,L=e,W=!1;do{var K=L.lane&-536870913;if(K!==L.lane?(Dt&K)===K:(_s&K)===K){var Y=L.revertLane;if(Y===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),K===zi&&(W=!0);else if((_s&Y)===Y){L=L.next,Y===zi&&(W=!0);continue}else K={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},O===null?(T=O=K,_=h):O=O.next=K,Tt.lanes|=Y,ws|=Y;K=L.action,ii&&s(h,K),h=L.hasEagerState?L.eagerState:s(h,K)}else Y={lane:K,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},O===null?(T=O=Y,_=h):O=O.next=Y,Tt.lanes|=K,ws|=K;L=L.next}while(L!==null&&L!==e);if(O===null?_=h:O.next=T,!Qe(h,t.memoizedState)&&(_e=!0,W&&(s=Vi,s!==null)))throw s;t.memoizedState=h,t.baseState=_,t.baseQueue=O,r.lastRenderedState=h}return c===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Xc(t){var e=oe(),s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var r=s.dispatch,c=s.pending,h=e.memoizedState;if(c!==null){s.pending=null;var _=c=c.next;do h=t(h,_.action),_=_.next;while(_!==c);Qe(h,e.memoizedState)||(_e=!0),e.memoizedState=h,e.baseQueue===null&&(e.baseState=h),s.lastRenderedState=h}return[h,r]}function Sd(t,e,s){var r=Tt,c=oe(),h=Rt;if(h){if(s===void 0)throw Error(a(407));s=s()}else s=e();var _=!Qe((qt||c).memoizedState,s);_&&(c.memoizedState=s,_e=!0),c=c.queue;var T=wd.bind(null,r,c,t);if(Pa(2048,8,T,[t]),c.getSnapshot!==e||_||le!==null&&le.memoizedState.tag&1){if(r.flags|=2048,Li(9,vl(),xd.bind(null,r,c,s,e),null),Yt===null)throw Error(a(349));h||(_s&124)!==0||Td(r,e,s)}return s}function Td(t,e,s){t.flags|=16384,t={getSnapshot:e,value:s},e=Tt.updateQueue,e===null?(e=Hc(),Tt.updateQueue=e,e.stores=[t]):(s=e.stores,s===null?e.stores=[t]:s.push(t))}function xd(t,e,s,r){e.value=s,e.getSnapshot=r,Ad(e)&&Cd(t)}function wd(t,e,s){return s(function(){Ad(e)&&Cd(t)})}function Ad(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!Qe(t,s)}catch{return!0}}function Cd(t){var e=Di(t,2);e!==null&&$e(e,t,2)}function Ic(t){var e=He();if(typeof t=="function"){var s=t;if(t=s(),ii){us(!0);try{s()}finally{us(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:t},e}function Nd(t,e,s,r){return t.baseState=s,Gc(t,qt,typeof r=="function"?r:Qn)}function K0(t,e,s,r,c){if(bl(t))throw Error(a(485));if(t=e.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){h.listeners.push(_)}};j.T!==null?s(!0):h.isTransition=!1,r(h),s=e.pending,s===null?(h.next=e.pending=h,Ed(e,h)):(h.next=s.next,e.pending=s.next=h)}}function Ed(t,e){var s=e.action,r=e.payload,c=t.state;if(e.isTransition){var h=j.T,_={};j.T=_;try{var T=s(c,r),O=j.S;O!==null&&O(_,T),Od(t,e,T)}catch(L){Zc(t,e,L)}finally{j.T=h}}else try{h=s(c,r),Od(t,e,h)}catch(L){Zc(t,e,L)}}function Od(t,e,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(r){Md(t,e,r)},function(r){return Zc(t,e,r)}):Md(t,e,s)}function Md(t,e,s){e.status="fulfilled",e.value=s,Dd(e),t.state=s,e=t.pending,e!==null&&(s=e.next,s===e?t.pending=null:(s=s.next,e.next=s,Ed(t,s)))}function Zc(t,e,s){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=s,Dd(e),e=e.next;while(e!==r)}t.action=null}function Dd(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function kd(t,e){return e}function Rd(t,e){if(Rt){var s=Yt.formState;if(s!==null){t:{var r=Tt;if(Rt){if(Jt){e:{for(var c=Jt,h=On;c.nodeType!==8;){if(!h){c=null;break e}if(c=Sn(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Jt=Sn(c.nextSibling),r=c.data==="F!";break t}}ti(r)}r=!1}r&&(e=s[0])}}return s=He(),s.memoizedState=s.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kd,lastRenderedState:e},s.queue=r,s=Jd.bind(null,Tt,r),r.dispatch=s,r=Ic(!1),h=Kc.bind(null,Tt,!1,r.queue),r=He(),c={state:e,dispatch:null,action:t,pending:null},r.queue=c,s=K0.bind(null,Tt,c,h,s),c.dispatch=s,r.memoizedState=t,[e,s,!1]}function jd(t){var e=oe();return zd(e,qt,t)}function zd(t,e,s){if(e=Gc(t,e,kd)[0],t=_l(Qn)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=Wa(e)}catch(_){throw _===Ga?hl:_}else r=e;e=oe();var c=e.queue,h=c.dispatch;return s!==e.memoizedState&&(Tt.flags|=2048,Li(9,vl(),J0.bind(null,c,s),null)),[r,h,t]}function J0(t,e){t.action=e}function Vd(t){var e=oe(),s=qt;if(s!==null)return zd(e,s,t);oe(),e=e.memoizedState,s=oe();var r=s.queue.dispatch;return s.memoizedState=t,[e,r,!1]}function Li(t,e,s,r){return t={tag:t,create:s,deps:r,inst:e,next:null},e=Tt.updateQueue,e===null&&(e=Hc(),Tt.updateQueue=e),s=e.lastEffect,s===null?e.lastEffect=t.next=t:(r=s.next,s.next=t,t.next=r,e.lastEffect=t),t}function vl(){return{destroy:void 0,resource:void 0}}function qd(){return oe().memoizedState}function yl(t,e,s,r){var c=He();r=r===void 0?null:r,Tt.flags|=t,c.memoizedState=Li(1|e,vl(),s,r)}function Pa(t,e,s,r){var c=oe();r=r===void 0?null:r;var h=c.memoizedState.inst;qt!==null&&r!==null&&Vc(r,qt.memoizedState.deps)?c.memoizedState=Li(e,h,s,r):(Tt.flags|=t,c.memoizedState=Li(1|e,h,s,r))}function Ud(t,e){yl(8390656,8,t,e)}function Bd(t,e){Pa(2048,8,t,e)}function Ld(t,e){return Pa(4,2,t,e)}function Hd(t,e){return Pa(4,4,t,e)}function Yd(t,e){if(typeof e=="function"){t=t();var s=e(t);return function(){typeof s=="function"?s():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Gd(t,e,s){s=s!=null?s.concat([t]):null,Pa(4,4,Yd.bind(null,e,t),s)}function Qc(){}function Xd(t,e){var s=oe();e=e===void 0?null:e;var r=s.memoizedState;return e!==null&&Vc(e,r[1])?r[0]:(s.memoizedState=[t,e],t)}function Id(t,e){var s=oe();e=e===void 0?null:e;var r=s.memoizedState;if(e!==null&&Vc(e,r[1]))return r[0];if(r=t(),ii){us(!0);try{t()}finally{us(!1)}}return s.memoizedState=[r,e],r}function Fc(t,e,s){return s===void 0||(_s&1073741824)!==0?t.memoizedState=e:(t.memoizedState=s,t=Fp(),Tt.lanes|=t,ws|=t,s)}function Zd(t,e,s,r){return Qe(s,e)?s:qi.current!==null?(t=Fc(t,s,r),Qe(t,e)||(_e=!0),t):(_s&42)===0?(_e=!0,t.memoizedState=s):(t=Fp(),Tt.lanes|=t,ws|=t,e)}function Qd(t,e,s,r,c){var h=I.p;I.p=h!==0&&8>h?h:8;var _=j.T,T={};j.T=T,Kc(t,!1,e,s);try{var O=c(),L=j.S;if(L!==null&&L(T,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var W=F0(O,r);Ka(t,e,W,Je(t))}else Ka(t,e,r,Je(t))}catch(K){Ka(t,e,{then:function(){},status:"rejected",reason:K},Je())}finally{I.p=h,j.T=_}}function $0(){}function Wc(t,e,s,r){if(t.tag!==5)throw Error(a(476));var c=Fd(t).queue;Qd(t,c,e,tt,s===null?$0:function(){return Wd(t),s(r)})}function Fd(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:tt,baseState:tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:tt},next:null};var s={};return e.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:s},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Wd(t){var e=Fd(t).next.queue;Ka(t,e,{},Je())}function Pc(){return Oe(mr)}function Pd(){return oe().memoizedState}function Kd(){return oe().memoizedState}function tv(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var s=Je();t=ms(s);var r=gs(e,t,s);r!==null&&($e(r,e,s),Ia(r,e,s)),e={cache:Cc()},t.payload=e;return}e=e.return}}function ev(t,e,s){var r=Je();s={lane:r,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},bl(t)?$d(e,s):(s=gc(t,e,s,r),s!==null&&($e(s,t,r),tp(s,e,r)))}function Jd(t,e,s){var r=Je();Ka(t,e,s,r)}function Ka(t,e,s,r){var c={lane:r,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(bl(t))$d(e,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=e.lastRenderedReducer,h!==null))try{var _=e.lastRenderedState,T=h(_,s);if(c.hasEagerState=!0,c.eagerState=T,Qe(T,_))return sl(t,e,c,0),Yt===null&&nl(),!1}catch{}finally{}if(s=gc(t,e,c,r),s!==null)return $e(s,t,r),tp(s,e,r),!0}return!1}function Kc(t,e,s,r){if(r={lane:2,revertLane:Ou(),action:r,hasEagerState:!1,eagerState:null,next:null},bl(t)){if(e)throw Error(a(479))}else e=gc(t,s,r,2),e!==null&&$e(e,t,2)}function bl(t){var e=t.alternate;return t===Tt||e!==null&&e===Tt}function $d(t,e){Ui=pl=!0;var s=t.pending;s===null?e.next=e:(e.next=s.next,s.next=e),t.pending=e}function tp(t,e,s){if((s&4194048)!==0){var r=e.lanes;r&=t.pendingLanes,s|=r,e.lanes=s,of(t,s)}}var Sl={readContext:Oe,use:gl,useCallback:se,useContext:se,useEffect:se,useImperativeHandle:se,useLayoutEffect:se,useInsertionEffect:se,useMemo:se,useReducer:se,useRef:se,useState:se,useDebugValue:se,useDeferredValue:se,useTransition:se,useSyncExternalStore:se,useId:se,useHostTransitionStatus:se,useFormState:se,useActionState:se,useOptimistic:se,useMemoCache:se,useCacheRefresh:se},ep={readContext:Oe,use:gl,useCallback:function(t,e){return He().memoizedState=[t,e===void 0?null:e],t},useContext:Oe,useEffect:Ud,useImperativeHandle:function(t,e,s){s=s!=null?s.concat([t]):null,yl(4194308,4,Yd.bind(null,e,t),s)},useLayoutEffect:function(t,e){return yl(4194308,4,t,e)},useInsertionEffect:function(t,e){yl(4,2,t,e)},useMemo:function(t,e){var s=He();e=e===void 0?null:e;var r=t();if(ii){us(!0);try{t()}finally{us(!1)}}return s.memoizedState=[r,e],r},useReducer:function(t,e,s){var r=He();if(s!==void 0){var c=s(e);if(ii){us(!0);try{s(e)}finally{us(!1)}}}else c=e;return r.memoizedState=r.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},r.queue=t,t=t.dispatch=ev.bind(null,Tt,t),[r.memoizedState,t]},useRef:function(t){var e=He();return t={current:t},e.memoizedState=t},useState:function(t){t=Ic(t);var e=t.queue,s=Jd.bind(null,Tt,e);return e.dispatch=s,[t.memoizedState,s]},useDebugValue:Qc,useDeferredValue:function(t,e){var s=He();return Fc(s,t,e)},useTransition:function(){var t=Ic(!1);return t=Qd.bind(null,Tt,t.queue,!0,!1),He().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,s){var r=Tt,c=He();if(Rt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=e(),Yt===null)throw Error(a(349));(Dt&124)!==0||Td(r,e,s)}c.memoizedState=s;var h={value:s,getSnapshot:e};return c.queue=h,Ud(wd.bind(null,r,h,t),[t]),r.flags|=2048,Li(9,vl(),xd.bind(null,r,h,s,e),null),s},useId:function(){var t=He(),e=Yt.identifierPrefix;if(Rt){var s=Xn,r=Gn;s=(r&~(1<<32-Ze(r)-1)).toString(32)+s,e="«"+e+"R"+s,s=ml++,0<s&&(e+="H"+s.toString(32)),e+="»"}else s=W0++,e="«"+e+"r"+s.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:Pc,useFormState:Rd,useActionState:Rd,useOptimistic:function(t){var e=He();e.memoizedState=e.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=s,e=Kc.bind(null,Tt,!0,s),s.dispatch=e,[t,e]},useMemoCache:Yc,useCacheRefresh:function(){return He().memoizedState=tv.bind(null,Tt)}},np={readContext:Oe,use:gl,useCallback:Xd,useContext:Oe,useEffect:Bd,useImperativeHandle:Gd,useInsertionEffect:Ld,useLayoutEffect:Hd,useMemo:Id,useReducer:_l,useRef:qd,useState:function(){return _l(Qn)},useDebugValue:Qc,useDeferredValue:function(t,e){var s=oe();return Zd(s,qt.memoizedState,t,e)},useTransition:function(){var t=_l(Qn)[0],e=oe().memoizedState;return[typeof t=="boolean"?t:Wa(t),e]},useSyncExternalStore:Sd,useId:Pd,useHostTransitionStatus:Pc,useFormState:jd,useActionState:jd,useOptimistic:function(t,e){var s=oe();return Nd(s,qt,t,e)},useMemoCache:Yc,useCacheRefresh:Kd},nv={readContext:Oe,use:gl,useCallback:Xd,useContext:Oe,useEffect:Bd,useImperativeHandle:Gd,useInsertionEffect:Ld,useLayoutEffect:Hd,useMemo:Id,useReducer:Xc,useRef:qd,useState:function(){return Xc(Qn)},useDebugValue:Qc,useDeferredValue:function(t,e){var s=oe();return qt===null?Fc(s,t,e):Zd(s,qt.memoizedState,t,e)},useTransition:function(){var t=Xc(Qn)[0],e=oe().memoizedState;return[typeof t=="boolean"?t:Wa(t),e]},useSyncExternalStore:Sd,useId:Pd,useHostTransitionStatus:Pc,useFormState:Vd,useActionState:Vd,useOptimistic:function(t,e){var s=oe();return qt!==null?Nd(s,qt,t,e):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Yc,useCacheRefresh:Kd},Hi=null,Ja=0;function Tl(t){var e=Ja;return Ja+=1,Hi===null&&(Hi=[]),dd(Hi,t,e)}function $a(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function xl(t,e){throw e.$$typeof===v?Error(a(525)):(t=Object.prototype.toString.call(e),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function sp(t){var e=t._init;return e(t._payload)}function ip(t){function e(q,z){if(t){var B=q.deletions;B===null?(q.deletions=[z],q.flags|=16):B.push(z)}}function s(q,z){if(!t)return null;for(;z!==null;)e(q,z),z=z.sibling;return null}function r(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function c(q,z){return q=Yn(q,z),q.index=0,q.sibling=null,q}function h(q,z,B){return q.index=B,t?(B=q.alternate,B!==null?(B=B.index,B<z?(q.flags|=67108866,z):B):(q.flags|=67108866,z)):(q.flags|=1048576,z)}function _(q){return t&&q.alternate===null&&(q.flags|=67108866),q}function T(q,z,B,P){return z===null||z.tag!==6?(z=vc(B,q.mode,P),z.return=q,z):(z=c(z,B),z.return=q,z)}function O(q,z,B,P){var ht=B.type;return ht===S?W(q,z,B.props.children,P,B.key):z!==null&&(z.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===k&&sp(ht)===z.type)?(z=c(z,B.props),$a(z,B),z.return=q,z):(z=al(B.type,B.key,B.props,null,q.mode,P),$a(z,B),z.return=q,z)}function L(q,z,B,P){return z===null||z.tag!==4||z.stateNode.containerInfo!==B.containerInfo||z.stateNode.implementation!==B.implementation?(z=yc(B,q.mode,P),z.return=q,z):(z=c(z,B.children||[]),z.return=q,z)}function W(q,z,B,P,ht){return z===null||z.tag!==7?(z=Ps(B,q.mode,P,ht),z.return=q,z):(z=c(z,B),z.return=q,z)}function K(q,z,B){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=vc(""+z,q.mode,B),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return B=al(z.type,z.key,z.props,null,q.mode,B),$a(B,z),B.return=q,B;case y:return z=yc(z,q.mode,B),z.return=q,z;case k:var P=z._init;return z=P(z._payload),K(q,z,B)}if(it(z)||X(z))return z=Ps(z,q.mode,B,null),z.return=q,z;if(typeof z.then=="function")return K(q,Tl(z),B);if(z.$$typeof===M)return K(q,cl(q,z),B);xl(q,z)}return null}function Y(q,z,B,P){var ht=z!==null?z.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ht!==null?null:T(q,z,""+B,P);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return B.key===ht?O(q,z,B,P):null;case y:return B.key===ht?L(q,z,B,P):null;case k:return ht=B._init,B=ht(B._payload),Y(q,z,B,P)}if(it(B)||X(B))return ht!==null?null:W(q,z,B,P,null);if(typeof B.then=="function")return Y(q,z,Tl(B),P);if(B.$$typeof===M)return Y(q,z,cl(q,B),P);xl(q,B)}return null}function G(q,z,B,P,ht){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return q=q.get(B)||null,T(z,q,""+P,ht);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case b:return q=q.get(P.key===null?B:P.key)||null,O(z,q,P,ht);case y:return q=q.get(P.key===null?B:P.key)||null,L(z,q,P,ht);case k:var wt=P._init;return P=wt(P._payload),G(q,z,B,P,ht)}if(it(P)||X(P))return q=q.get(B)||null,W(z,q,P,ht,null);if(typeof P.then=="function")return G(q,z,B,Tl(P),ht);if(P.$$typeof===M)return G(q,z,B,cl(z,P),ht);xl(z,P)}return null}function gt(q,z,B,P){for(var ht=null,wt=null,dt=z,mt=z=0,ye=null;dt!==null&&mt<B.length;mt++){dt.index>mt?(ye=dt,dt=null):ye=dt.sibling;var kt=Y(q,dt,B[mt],P);if(kt===null){dt===null&&(dt=ye);break}t&&dt&&kt.alternate===null&&e(q,dt),z=h(kt,z,mt),wt===null?ht=kt:wt.sibling=kt,wt=kt,dt=ye}if(mt===B.length)return s(q,dt),Rt&&Js(q,mt),ht;if(dt===null){for(;mt<B.length;mt++)dt=K(q,B[mt],P),dt!==null&&(z=h(dt,z,mt),wt===null?ht=dt:wt.sibling=dt,wt=dt);return Rt&&Js(q,mt),ht}for(dt=r(dt);mt<B.length;mt++)ye=G(dt,q,mt,B[mt],P),ye!==null&&(t&&ye.alternate!==null&&dt.delete(ye.key===null?mt:ye.key),z=h(ye,z,mt),wt===null?ht=ye:wt.sibling=ye,wt=ye);return t&&dt.forEach(function(Rs){return e(q,Rs)}),Rt&&Js(q,mt),ht}function pt(q,z,B,P){if(B==null)throw Error(a(151));for(var ht=null,wt=null,dt=z,mt=z=0,ye=null,kt=B.next();dt!==null&&!kt.done;mt++,kt=B.next()){dt.index>mt?(ye=dt,dt=null):ye=dt.sibling;var Rs=Y(q,dt,kt.value,P);if(Rs===null){dt===null&&(dt=ye);break}t&&dt&&Rs.alternate===null&&e(q,dt),z=h(Rs,z,mt),wt===null?ht=Rs:wt.sibling=Rs,wt=Rs,dt=ye}if(kt.done)return s(q,dt),Rt&&Js(q,mt),ht;if(dt===null){for(;!kt.done;mt++,kt=B.next())kt=K(q,kt.value,P),kt!==null&&(z=h(kt,z,mt),wt===null?ht=kt:wt.sibling=kt,wt=kt);return Rt&&Js(q,mt),ht}for(dt=r(dt);!kt.done;mt++,kt=B.next())kt=G(dt,q,mt,kt.value,P),kt!==null&&(t&&kt.alternate!==null&&dt.delete(kt.key===null?mt:kt.key),z=h(kt,z,mt),wt===null?ht=kt:wt.sibling=kt,wt=kt);return t&&dt.forEach(function(sy){return e(q,sy)}),Rt&&Js(q,mt),ht}function Bt(q,z,B,P){if(typeof B=="object"&&B!==null&&B.type===S&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case b:t:{for(var ht=B.key;z!==null;){if(z.key===ht){if(ht=B.type,ht===S){if(z.tag===7){s(q,z.sibling),P=c(z,B.props.children),P.return=q,q=P;break t}}else if(z.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===k&&sp(ht)===z.type){s(q,z.sibling),P=c(z,B.props),$a(P,B),P.return=q,q=P;break t}s(q,z);break}else e(q,z);z=z.sibling}B.type===S?(P=Ps(B.props.children,q.mode,P,B.key),P.return=q,q=P):(P=al(B.type,B.key,B.props,null,q.mode,P),$a(P,B),P.return=q,q=P)}return _(q);case y:t:{for(ht=B.key;z!==null;){if(z.key===ht)if(z.tag===4&&z.stateNode.containerInfo===B.containerInfo&&z.stateNode.implementation===B.implementation){s(q,z.sibling),P=c(z,B.children||[]),P.return=q,q=P;break t}else{s(q,z);break}else e(q,z);z=z.sibling}P=yc(B,q.mode,P),P.return=q,q=P}return _(q);case k:return ht=B._init,B=ht(B._payload),Bt(q,z,B,P)}if(it(B))return gt(q,z,B,P);if(X(B)){if(ht=X(B),typeof ht!="function")throw Error(a(150));return B=ht.call(B),pt(q,z,B,P)}if(typeof B.then=="function")return Bt(q,z,Tl(B),P);if(B.$$typeof===M)return Bt(q,z,cl(q,B),P);xl(q,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,z!==null&&z.tag===6?(s(q,z.sibling),P=c(z,B),P.return=q,q=P):(s(q,z),P=vc(B,q.mode,P),P.return=q,q=P),_(q)):s(q,z)}return function(q,z,B,P){try{Ja=0;var ht=Bt(q,z,B,P);return Hi=null,ht}catch(dt){if(dt===Ga||dt===hl)throw dt;var wt=Fe(29,dt,null,q.mode);return wt.lanes=P,wt.return=q,wt}finally{}}}var Yi=ip(!0),ap=ip(!1),fn=H(null),Mn=null;function vs(t){var e=t.alternate;J(de,de.current&1),J(fn,t),Mn===null&&(e===null||qi.current!==null||e.memoizedState!==null)&&(Mn=t)}function rp(t){if(t.tag===22){if(J(de,de.current),J(fn,t),Mn===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Mn=t)}}else ys()}function ys(){J(de,de.current),J(fn,fn.current)}function Fn(t){$(fn),Mn===t&&(Mn=null),$(de)}var de=H(0);function wl(t){for(var e=t;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Hu(s)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Jc(t,e,s,r){e=t.memoizedState,s=s(r,e),s=s==null?e:g({},e,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var $c={enqueueSetState:function(t,e,s){t=t._reactInternals;var r=Je(),c=ms(r);c.payload=e,s!=null&&(c.callback=s),e=gs(t,c,r),e!==null&&($e(e,t,r),Ia(e,t,r))},enqueueReplaceState:function(t,e,s){t=t._reactInternals;var r=Je(),c=ms(r);c.tag=1,c.payload=e,s!=null&&(c.callback=s),e=gs(t,c,r),e!==null&&($e(e,t,r),Ia(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var s=Je(),r=ms(s);r.tag=2,e!=null&&(r.callback=e),e=gs(t,r,s),e!==null&&($e(e,t,s),Ia(e,t,s))}};function lp(t,e,s,r,c,h,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,h,_):e.prototype&&e.prototype.isPureReactComponent?!za(s,r)||!za(c,h):!0}function op(t,e,s,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,r),e.state!==t&&$c.enqueueReplaceState(e,e.state,null)}function ai(t,e){var s=e;if("ref"in e){s={};for(var r in e)r!=="ref"&&(s[r]=e[r])}if(t=t.defaultProps){s===e&&(s=g({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}var Al=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function cp(t){Al(t)}function up(t){console.error(t)}function hp(t){Al(t)}function Cl(t,e){try{var s=t.onUncaughtError;s(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function fp(t,e,s){try{var r=t.onCaughtError;r(s.value,{componentStack:s.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function tu(t,e,s){return s=ms(s),s.tag=3,s.payload={element:null},s.callback=function(){Cl(t,e)},s}function dp(t){return t=ms(t),t.tag=3,t}function pp(t,e,s,r){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var h=r.value;t.payload=function(){return c(h)},t.callback=function(){fp(e,s,r)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){fp(e,s,r),typeof c!="function"&&(As===null?As=new Set([this]):As.add(this));var T=r.stack;this.componentDidCatch(r.value,{componentStack:T!==null?T:""})})}function sv(t,e,s,r,c){if(s.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=s.alternate,e!==null&&La(e,s,c,!0),s=fn.current,s!==null){switch(s.tag){case 13:return Mn===null?wu():s.alternate===null&&$t===0&&($t=3),s.flags&=-257,s.flags|=65536,s.lanes=c,r===Oc?s.flags|=16384:(e=s.updateQueue,e===null?s.updateQueue=new Set([r]):e.add(r),Cu(t,r,c)),!1;case 22:return s.flags|=65536,r===Oc?s.flags|=16384:(e=s.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},s.updateQueue=e):(s=e.retryQueue,s===null?e.retryQueue=new Set([r]):s.add(r)),Cu(t,r,c)),!1}throw Error(a(435,s.tag))}return Cu(t,r,c),wu(),!1}if(Rt)return e=fn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=c,r!==Tc&&(t=Error(a(422),{cause:r}),Ba(on(t,s)))):(r!==Tc&&(e=Error(a(423),{cause:r}),Ba(on(e,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,r=on(r,s),c=tu(t.stateNode,r,c),kc(t,c),$t!==4&&($t=2)),!1;var h=Error(a(520),{cause:r});if(h=on(h,s),rr===null?rr=[h]:rr.push(h),$t!==4&&($t=2),e===null)return!0;r=on(r,s),s=e;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=tu(s.stateNode,r,t),kc(s,t),!1;case 1:if(e=s.type,h=s.stateNode,(s.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(As===null||!As.has(h))))return s.flags|=65536,c&=-c,s.lanes|=c,c=dp(c),pp(c,t,s,r),kc(s,c),!1}s=s.return}while(s!==null);return!1}var mp=Error(a(461)),_e=!1;function we(t,e,s,r){e.child=t===null?ap(e,null,s,r):Yi(e,t.child,s,r)}function gp(t,e,s,r,c){s=s.render;var h=e.ref;if("ref"in r){var _={};for(var T in r)T!=="ref"&&(_[T]=r[T])}else _=r;return ni(e),r=qc(t,e,s,_,h,c),T=Uc(),t!==null&&!_e?(Bc(t,e,c),Wn(t,e,c)):(Rt&&T&&bc(e),e.flags|=1,we(t,e,r,c),e.child)}function _p(t,e,s,r,c){if(t===null){var h=s.type;return typeof h=="function"&&!_c(h)&&h.defaultProps===void 0&&s.compare===null?(e.tag=15,e.type=h,vp(t,e,h,r,c)):(t=al(s.type,null,r,e,e.mode,c),t.ref=e.ref,t.return=e,e.child=t)}if(h=t.child,!ou(t,c)){var _=h.memoizedProps;if(s=s.compare,s=s!==null?s:za,s(_,r)&&t.ref===e.ref)return Wn(t,e,c)}return e.flags|=1,t=Yn(h,r),t.ref=e.ref,t.return=e,e.child=t}function vp(t,e,s,r,c){if(t!==null){var h=t.memoizedProps;if(za(h,r)&&t.ref===e.ref)if(_e=!1,e.pendingProps=r=h,ou(t,c))(t.flags&131072)!==0&&(_e=!0);else return e.lanes=t.lanes,Wn(t,e,c)}return eu(t,e,s,r,c)}function yp(t,e,s){var r=e.pendingProps,c=r.children,h=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if((e.flags&128)!==0){if(r=h!==null?h.baseLanes|s:s,t!==null){for(c=e.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;e.childLanes=h&~r}else e.childLanes=0,e.child=null;return bp(t,e,r,s)}if((s&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&ul(e,h!==null?h.cachePool:null),h!==null?vd(e,h):jc(),rp(e);else return e.lanes=e.childLanes=536870912,bp(t,e,h!==null?h.baseLanes|s:s,s)}else h!==null?(ul(e,h.cachePool),vd(e,h),ys(),e.memoizedState=null):(t!==null&&ul(e,null),jc(),ys());return we(t,e,c,s),e.child}function bp(t,e,s,r){var c=Ec();return c=c===null?null:{parent:fe._currentValue,pool:c},e.memoizedState={baseLanes:s,cachePool:c},t!==null&&ul(e,null),jc(),rp(e),t!==null&&La(t,e,r,!0),null}function Nl(t,e){var s=e.ref;if(s===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(e.flags|=4194816)}}function eu(t,e,s,r,c){return ni(e),s=qc(t,e,s,r,void 0,c),r=Uc(),t!==null&&!_e?(Bc(t,e,c),Wn(t,e,c)):(Rt&&r&&bc(e),e.flags|=1,we(t,e,s,c),e.child)}function Sp(t,e,s,r,c,h){return ni(e),e.updateQueue=null,s=bd(e,r,s,c),yd(t),r=Uc(),t!==null&&!_e?(Bc(t,e,h),Wn(t,e,h)):(Rt&&r&&bc(e),e.flags|=1,we(t,e,s,h),e.child)}function Tp(t,e,s,r,c){if(ni(e),e.stateNode===null){var h=ki,_=s.contextType;typeof _=="object"&&_!==null&&(h=Oe(_)),h=new s(r,h),e.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=$c,e.stateNode=h,h._reactInternals=e,h=e.stateNode,h.props=r,h.state=e.memoizedState,h.refs={},Mc(e),_=s.contextType,h.context=typeof _=="object"&&_!==null?Oe(_):ki,h.state=e.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Jc(e,s,_,r),h.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(_=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),_!==h.state&&$c.enqueueReplaceState(h,h.state,null),Qa(e,r,h,c),Za(),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){h=e.stateNode;var T=e.memoizedProps,O=ai(s,T);h.props=O;var L=h.context,W=s.contextType;_=ki,typeof W=="object"&&W!==null&&(_=Oe(W));var K=s.getDerivedStateFromProps;W=typeof K=="function"||typeof h.getSnapshotBeforeUpdate=="function",T=e.pendingProps!==T,W||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T||L!==_)&&op(e,h,r,_),ps=!1;var Y=e.memoizedState;h.state=Y,Qa(e,r,h,c),Za(),L=e.memoizedState,T||Y!==L||ps?(typeof K=="function"&&(Jc(e,s,K,r),L=e.memoizedState),(O=ps||lp(e,s,O,r,Y,L,_))?(W||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(e.flags|=4194308)):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=L),h.props=r,h.state=L,h.context=_,r=O):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{h=e.stateNode,Dc(t,e),_=e.memoizedProps,W=ai(s,_),h.props=W,K=e.pendingProps,Y=h.context,L=s.contextType,O=ki,typeof L=="object"&&L!==null&&(O=Oe(L)),T=s.getDerivedStateFromProps,(L=typeof T=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==K||Y!==O)&&op(e,h,r,O),ps=!1,Y=e.memoizedState,h.state=Y,Qa(e,r,h,c),Za();var G=e.memoizedState;_!==K||Y!==G||ps||t!==null&&t.dependencies!==null&&ol(t.dependencies)?(typeof T=="function"&&(Jc(e,s,T,r),G=e.memoizedState),(W=ps||lp(e,s,W,r,Y,G,O)||t!==null&&t.dependencies!==null&&ol(t.dependencies))?(L||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(r,G,O),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(r,G,O)),typeof h.componentDidUpdate=="function"&&(e.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof h.componentDidUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=G),h.props=r,h.state=G,h.context=O,r=W):(typeof h.componentDidUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(e.flags|=1024),r=!1)}return h=r,Nl(t,e),r=(e.flags&128)!==0,h||r?(h=e.stateNode,s=r&&typeof s.getDerivedStateFromError!="function"?null:h.render(),e.flags|=1,t!==null&&r?(e.child=Yi(e,t.child,null,c),e.child=Yi(e,null,s,c)):we(t,e,s,c),e.memoizedState=h.state,t=e.child):t=Wn(t,e,c),t}function xp(t,e,s,r){return Ua(),e.flags|=256,we(t,e,s,r),e.child}var nu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function su(t){return{baseLanes:t,cachePool:ud()}}function iu(t,e,s){return t=t!==null?t.childLanes&~s:0,e&&(t|=dn),t}function wp(t,e,s){var r=e.pendingProps,c=!1,h=(e.flags&128)!==0,_;if((_=h)||(_=t!==null&&t.memoizedState===null?!1:(de.current&2)!==0),_&&(c=!0,e.flags&=-129),_=(e.flags&32)!==0,e.flags&=-33,t===null){if(Rt){if(c?vs(e):ys(),Rt){var T=Jt,O;if(O=T){t:{for(O=T,T=On;O.nodeType!==8;){if(!T){T=null;break t}if(O=Sn(O.nextSibling),O===null){T=null;break t}}T=O}T!==null?(e.memoizedState={dehydrated:T,treeContext:Ks!==null?{id:Gn,overflow:Xn}:null,retryLane:536870912,hydrationErrors:null},O=Fe(18,null,null,0),O.stateNode=T,O.return=e,e.child=O,je=e,Jt=null,O=!0):O=!1}O||ti(e)}if(T=e.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Hu(T)?e.lanes=32:e.lanes=536870912,null;Fn(e)}return T=r.children,r=r.fallback,c?(ys(),c=e.mode,T=El({mode:"hidden",children:T},c),r=Ps(r,c,s,null),T.return=e,r.return=e,T.sibling=r,e.child=T,c=e.child,c.memoizedState=su(s),c.childLanes=iu(t,_,s),e.memoizedState=nu,r):(vs(e),au(e,T))}if(O=t.memoizedState,O!==null&&(T=O.dehydrated,T!==null)){if(h)e.flags&256?(vs(e),e.flags&=-257,e=ru(t,e,s)):e.memoizedState!==null?(ys(),e.child=t.child,e.flags|=128,e=null):(ys(),c=r.fallback,T=e.mode,r=El({mode:"visible",children:r.children},T),c=Ps(c,T,s,null),c.flags|=2,r.return=e,c.return=e,r.sibling=c,e.child=r,Yi(e,t.child,null,s),r=e.child,r.memoizedState=su(s),r.childLanes=iu(t,_,s),e.memoizedState=nu,e=c);else if(vs(e),Hu(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var L=_.dgst;_=L,r=Error(a(419)),r.stack="",r.digest=_,Ba({value:r,source:null,stack:null}),e=ru(t,e,s)}else if(_e||La(t,e,s,!1),_=(s&t.childLanes)!==0,_e||_){if(_=Yt,_!==null&&(r=s&-s,r=(r&42)!==0?1:Yo(r),r=(r&(_.suspendedLanes|s))!==0?0:r,r!==0&&r!==O.retryLane))throw O.retryLane=r,Di(t,r),$e(_,t,r),mp;T.data==="$?"||wu(),e=ru(t,e,s)}else T.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=O.treeContext,Jt=Sn(T.nextSibling),je=e,Rt=!0,$s=null,On=!1,t!==null&&(un[hn++]=Gn,un[hn++]=Xn,un[hn++]=Ks,Gn=t.id,Xn=t.overflow,Ks=e),e=au(e,r.children),e.flags|=4096);return e}return c?(ys(),c=r.fallback,T=e.mode,O=t.child,L=O.sibling,r=Yn(O,{mode:"hidden",children:r.children}),r.subtreeFlags=O.subtreeFlags&65011712,L!==null?c=Yn(L,c):(c=Ps(c,T,s,null),c.flags|=2),c.return=e,r.return=e,r.sibling=c,e.child=r,r=c,c=e.child,T=t.child.memoizedState,T===null?T=su(s):(O=T.cachePool,O!==null?(L=fe._currentValue,O=O.parent!==L?{parent:L,pool:L}:O):O=ud(),T={baseLanes:T.baseLanes|s,cachePool:O}),c.memoizedState=T,c.childLanes=iu(t,_,s),e.memoizedState=nu,r):(vs(e),s=t.child,t=s.sibling,s=Yn(s,{mode:"visible",children:r.children}),s.return=e,s.sibling=null,t!==null&&(_=e.deletions,_===null?(e.deletions=[t],e.flags|=16):_.push(t)),e.child=s,e.memoizedState=null,s)}function au(t,e){return e=El({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function El(t,e){return t=Fe(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ru(t,e,s){return Yi(e,t.child,null,s),t=au(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ap(t,e,s){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),wc(t.return,e,s)}function lu(t,e,s,r,c){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:c}:(h.isBackwards=e,h.rendering=null,h.renderingStartTime=0,h.last=r,h.tail=s,h.tailMode=c)}function Cp(t,e,s){var r=e.pendingProps,c=r.revealOrder,h=r.tail;if(we(t,e,r.children,s),r=de.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ap(t,s,e);else if(t.tag===19)Ap(t,s,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(J(de,r),c){case"forwards":for(s=e.child,c=null;s!==null;)t=s.alternate,t!==null&&wl(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=e.child,e.child=null):(c=s.sibling,s.sibling=null),lu(e,!1,c,s,h);break;case"backwards":for(s=null,c=e.child,e.child=null;c!==null;){if(t=c.alternate,t!==null&&wl(t)===null){e.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}lu(e,!0,s,null,h);break;case"together":lu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wn(t,e,s){if(t!==null&&(e.dependencies=t.dependencies),ws|=e.lanes,(s&e.childLanes)===0)if(t!==null){if(La(t,e,s,!1),(s&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(a(153));if(e.child!==null){for(t=e.child,s=Yn(t,t.pendingProps),e.child=s,s.return=e;t.sibling!==null;)t=t.sibling,s=s.sibling=Yn(t,t.pendingProps),s.return=e;s.sibling=null}return e.child}function ou(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&ol(t)))}function iv(t,e,s){switch(e.tag){case 3:at(e,e.stateNode.containerInfo),ds(e,fe,t.memoizedState.cache),Ua();break;case 27:case 5:xe(e);break;case 4:at(e,e.stateNode.containerInfo);break;case 10:ds(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(vs(e),e.flags|=128,null):(s&e.child.childLanes)!==0?wp(t,e,s):(vs(e),t=Wn(t,e,s),t!==null?t.sibling:null);vs(e);break;case 19:var c=(t.flags&128)!==0;if(r=(s&e.childLanes)!==0,r||(La(t,e,s,!1),r=(s&e.childLanes)!==0),c){if(r)return Cp(t,e,s);e.flags|=128}if(c=e.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),J(de,de.current),r)break;return null;case 22:case 23:return e.lanes=0,yp(t,e,s);case 24:ds(e,fe,t.memoizedState.cache)}return Wn(t,e,s)}function Np(t,e,s){if(t!==null)if(t.memoizedProps!==e.pendingProps)_e=!0;else{if(!ou(t,s)&&(e.flags&128)===0)return _e=!1,iv(t,e,s);_e=(t.flags&131072)!==0}else _e=!1,Rt&&(e.flags&1048576)!==0&&sd(e,ll,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var r=e.elementType,c=r._init;if(r=c(r._payload),e.type=r,typeof r=="function")_c(r)?(t=ai(r,t),e.tag=1,e=Tp(null,e,r,t,s)):(e.tag=0,e=eu(null,e,r,t,s));else{if(r!=null){if(c=r.$$typeof,c===U){e.tag=11,e=gp(null,e,r,t,s);break t}else if(c===V){e.tag=14,e=_p(null,e,r,t,s);break t}}throw e=et(r)||r,Error(a(306,e,""))}}return e;case 0:return eu(t,e,e.type,e.pendingProps,s);case 1:return r=e.type,c=ai(r,e.pendingProps),Tp(t,e,r,c,s);case 3:t:{if(at(e,e.stateNode.containerInfo),t===null)throw Error(a(387));r=e.pendingProps;var h=e.memoizedState;c=h.element,Dc(t,e),Qa(e,r,null,s);var _=e.memoizedState;if(r=_.cache,ds(e,fe,r),r!==h.cache&&Ac(e,[fe],s,!0),Za(),r=_.element,h.isDehydrated)if(h={element:r,isDehydrated:!1,cache:_.cache},e.updateQueue.baseState=h,e.memoizedState=h,e.flags&256){e=xp(t,e,r,s);break t}else if(r!==c){c=on(Error(a(424)),e),Ba(c),e=xp(t,e,r,s);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Jt=Sn(t.firstChild),je=e,Rt=!0,$s=null,On=!0,s=ap(e,null,r,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ua(),r===c){e=Wn(t,e,s);break t}we(t,e,r,s)}e=e.child}return e;case 26:return Nl(t,e),t===null?(s=Dm(e.type,null,e.pendingProps,null))?e.memoizedState=s:Rt||(s=e.type,t=e.pendingProps,r=Yl(ot.current).createElement(s),r[Ee]=e,r[Be]=t,Ce(r,s,t),ge(r),e.stateNode=r):e.memoizedState=Dm(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return xe(e),t===null&&Rt&&(r=e.stateNode=Em(e.type,e.pendingProps,ot.current),je=e,On=!0,c=Jt,Es(e.type)?(Yu=c,Jt=Sn(r.firstChild)):Jt=c),we(t,e,e.pendingProps.children,s),Nl(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Rt&&((c=r=Jt)&&(r=kv(r,e.type,e.pendingProps,On),r!==null?(e.stateNode=r,je=e,Jt=Sn(r.firstChild),On=!1,c=!0):c=!1),c||ti(e)),xe(e),c=e.type,h=e.pendingProps,_=t!==null?t.memoizedProps:null,r=h.children,Uu(c,h)?r=null:_!==null&&Uu(c,_)&&(e.flags|=32),e.memoizedState!==null&&(c=qc(t,e,P0,null,null,s),mr._currentValue=c),Nl(t,e),we(t,e,r,s),e.child;case 6:return t===null&&Rt&&((t=s=Jt)&&(s=Rv(s,e.pendingProps,On),s!==null?(e.stateNode=s,je=e,Jt=null,t=!0):t=!1),t||ti(e)),null;case 13:return wp(t,e,s);case 4:return at(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Yi(e,null,r,s):we(t,e,r,s),e.child;case 11:return gp(t,e,e.type,e.pendingProps,s);case 7:return we(t,e,e.pendingProps,s),e.child;case 8:return we(t,e,e.pendingProps.children,s),e.child;case 12:return we(t,e,e.pendingProps.children,s),e.child;case 10:return r=e.pendingProps,ds(e,e.type,r.value),we(t,e,r.children,s),e.child;case 9:return c=e.type._context,r=e.pendingProps.children,ni(e),c=Oe(c),r=r(c),e.flags|=1,we(t,e,r,s),e.child;case 14:return _p(t,e,e.type,e.pendingProps,s);case 15:return vp(t,e,e.type,e.pendingProps,s);case 19:return Cp(t,e,s);case 31:return r=e.pendingProps,s=e.mode,r={mode:r.mode,children:r.children},t===null?(s=El(r,s),s.ref=e.ref,e.child=s,s.return=e,e=s):(s=Yn(t.child,r),s.ref=e.ref,e.child=s,s.return=e,e=s),e;case 22:return yp(t,e,s);case 24:return ni(e),r=Oe(fe),t===null?(c=Ec(),c===null&&(c=Yt,h=Cc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=s),c=h),e.memoizedState={parent:r,cache:c},Mc(e),ds(e,fe,c)):((t.lanes&s)!==0&&(Dc(t,e),Qa(e,null,null,s),Za()),c=t.memoizedState,h=e.memoizedState,c.parent!==r?(c={parent:r,cache:r},e.memoizedState=c,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=c),ds(e,fe,r)):(r=h.cache,ds(e,fe,r),r!==c.cache&&Ac(e,[fe],s,!0))),we(t,e,e.pendingProps.children,s),e.child;case 29:throw e.pendingProps}throw Error(a(156,e.tag))}function Pn(t){t.flags|=4}function Ep(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Vm(e)){if(e=fn.current,e!==null&&((Dt&4194048)===Dt?Mn!==null:(Dt&62914560)!==Dt&&(Dt&536870912)===0||e!==Mn))throw Xa=Oc,hd;t.flags|=8192}}function Ol(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?rf():536870912,t.lanes|=e,Zi|=e)}function tr(t,e){if(!Rt)switch(t.tailMode){case"hidden":e=t.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,s=0,r=0;if(e)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=r,t.childLanes=s,e}function av(t,e,s){var r=e.pendingProps;switch(Sc(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(e),null;case 1:return Wt(e),null;case 3:return s=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Zn(fe),re(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(qa(e)?Pn(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,rd())),Wt(e),null;case 26:return s=e.memoizedState,t===null?(Pn(e),s!==null?(Wt(e),Ep(e,s)):(Wt(e),e.flags&=-16777217)):s?s!==t.memoizedState?(Pn(e),Wt(e),Ep(e,s)):(Wt(e),e.flags&=-16777217):(t.memoizedProps!==r&&Pn(e),Wt(e),e.flags&=-16777217),null;case 27:Kt(e),s=ot.current;var c=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Pn(e);else{if(!r){if(e.stateNode===null)throw Error(a(166));return Wt(e),null}t=ct.current,qa(e)?id(e):(t=Em(c,r,s),e.stateNode=t,Pn(e))}return Wt(e),null;case 5:if(Kt(e),s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Pn(e);else{if(!r){if(e.stateNode===null)throw Error(a(166));return Wt(e),null}if(t=ct.current,qa(e))id(e);else{switch(c=Yl(ot.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?c.createElement("select",{is:r.is}):c.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?c.createElement(s,{is:r.is}):c.createElement(s)}}t[Ee]=e,t[Be]=r;t:for(c=e.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break t;for(;c.sibling===null;){if(c.return===null||c.return===e)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}e.stateNode=t;t:switch(Ce(t,s,r),s){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Pn(e)}}return Wt(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Pn(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(a(166));if(t=ot.current,qa(e)){if(t=e.stateNode,s=e.memoizedProps,r=null,c=je,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}t[Ee]=e,t=!!(t.nodeValue===s||r!==null&&r.suppressHydrationWarning===!0||Sm(t.nodeValue,s)),t||ti(e)}else t=Yl(t).createTextNode(r),t[Ee]=e,e.stateNode=t}return Wt(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=qa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=e.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Ee]=e}else Ua(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Wt(e),c=!1}else c=rd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return e.flags&256?(Fn(e),e):(Fn(e),null)}if(Fn(e),(e.flags&128)!==0)return e.lanes=s,e;if(s=r!==null,t=t!==null&&t.memoizedState!==null,s){r=e.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool);var h=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==c&&(r.flags|=2048)}return s!==t&&s&&(e.child.flags|=8192),Ol(e,e.updateQueue),Wt(e),null;case 4:return re(),t===null&&Ru(e.stateNode.containerInfo),Wt(e),null;case 10:return Zn(e.type),Wt(e),null;case 19:if($(de),c=e.memoizedState,c===null)return Wt(e),null;if(r=(e.flags&128)!==0,h=c.rendering,h===null)if(r)tr(c,!1);else{if($t!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(h=wl(t),h!==null){for(e.flags|=128,tr(c,!1),t=h.updateQueue,e.updateQueue=t,Ol(e,t),e.subtreeFlags=0,t=s,s=e.child;s!==null;)nd(s,t),s=s.sibling;return J(de,de.current&1|2),e.child}t=t.sibling}c.tail!==null&&Ot()>kl&&(e.flags|=128,r=!0,tr(c,!1),e.lanes=4194304)}else{if(!r)if(t=wl(h),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,Ol(e,t),tr(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Rt)return Wt(e),null}else 2*Ot()-c.renderingStartTime>kl&&s!==536870912&&(e.flags|=128,r=!0,tr(c,!1),e.lanes=4194304);c.isBackwards?(h.sibling=e.child,e.child=h):(t=c.last,t!==null?t.sibling=h:e.child=h,c.last=h)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=Ot(),e.sibling=null,t=de.current,J(de,r?t&1|2:t&1),e):(Wt(e),null);case 22:case 23:return Fn(e),zc(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?(s&536870912)!==0&&(e.flags&128)===0&&(Wt(e),e.subtreeFlags&6&&(e.flags|=8192)):Wt(e),s=e.updateQueue,s!==null&&Ol(e,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==s&&(e.flags|=2048),t!==null&&$(si),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),Zn(fe),Wt(e),null;case 25:return null;case 30:return null}throw Error(a(156,e.tag))}function rv(t,e){switch(Sc(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zn(fe),re(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Kt(e),null;case 13:if(Fn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(a(340));Ua()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $(de),null;case 4:return re(),null;case 10:return Zn(e.type),null;case 22:case 23:return Fn(e),zc(),t!==null&&$(si),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Zn(fe),null;case 25:return null;default:return null}}function Op(t,e){switch(Sc(e),e.tag){case 3:Zn(fe),re();break;case 26:case 27:case 5:Kt(e);break;case 4:re();break;case 13:Fn(e);break;case 19:$(de);break;case 10:Zn(e.type);break;case 22:case 23:Fn(e),zc(),t!==null&&$(si);break;case 24:Zn(fe)}}function er(t,e){try{var s=e.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var c=r.next;s=c;do{if((s.tag&t)===t){r=void 0;var h=s.create,_=s.inst;r=h(),_.destroy=r}s=s.next}while(s!==c)}}catch(T){Ht(e,e.return,T)}}function bs(t,e,s){try{var r=e.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var h=c.next;r=h;do{if((r.tag&t)===t){var _=r.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,c=e;var O=s,L=T;try{L()}catch(W){Ht(c,O,W)}}}r=r.next}while(r!==h)}}catch(W){Ht(e,e.return,W)}}function Mp(t){var e=t.updateQueue;if(e!==null){var s=t.stateNode;try{_d(e,s)}catch(r){Ht(t,t.return,r)}}}function Dp(t,e,s){s.props=ai(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(r){Ht(t,e,r)}}function nr(t,e){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof s=="function"?t.refCleanup=s(r):s.current=r}}catch(c){Ht(t,e,c)}}function Dn(t,e){var s=t.ref,r=t.refCleanup;if(s!==null)if(typeof r=="function")try{r()}catch(c){Ht(t,e,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Ht(t,e,c)}else s.current=null}function kp(t){var e=t.type,s=t.memoizedProps,r=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break t;case"img":s.src?r.src=s.src:s.srcSet&&(r.srcset=s.srcSet)}}catch(c){Ht(t,t.return,c)}}function cu(t,e,s){try{var r=t.stateNode;Nv(r,t.type,s,e),r[Be]=e}catch(c){Ht(t,t.return,c)}}function Rp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Es(t.type)||t.tag===4}function uu(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Rp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Es(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hu(t,e,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,e):(e=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,e.appendChild(t),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=Hl));else if(r!==4&&(r===27&&Es(t.type)&&(s=t.stateNode,e=null),t=t.child,t!==null))for(hu(t,e,s),t=t.sibling;t!==null;)hu(t,e,s),t=t.sibling}function Ml(t,e,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?s.insertBefore(t,e):s.appendChild(t);else if(r!==4&&(r===27&&Es(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Ml(t,e,s),t=t.sibling;t!==null;)Ml(t,e,s),t=t.sibling}function jp(t){var e=t.stateNode,s=t.memoizedProps;try{for(var r=t.type,c=e.attributes;c.length;)e.removeAttributeNode(c[0]);Ce(e,r,s),e[Ee]=t,e[Be]=s}catch(h){Ht(t,t.return,h)}}var Kn=!1,ie=!1,fu=!1,zp=typeof WeakSet=="function"?WeakSet:Set,ve=null;function lv(t,e){if(t=t.containerInfo,Vu=Fl,t=Zf(t),uc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var c=r.anchorOffset,h=r.focusNode;r=r.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break t}var _=0,T=-1,O=-1,L=0,W=0,K=t,Y=null;e:for(;;){for(var G;K!==s||c!==0&&K.nodeType!==3||(T=_+c),K!==h||r!==0&&K.nodeType!==3||(O=_+r),K.nodeType===3&&(_+=K.nodeValue.length),(G=K.firstChild)!==null;)Y=K,K=G;for(;;){if(K===t)break e;if(Y===s&&++L===c&&(T=_),Y===h&&++W===r&&(O=_),(G=K.nextSibling)!==null)break;K=Y,Y=K.parentNode}K=G}s=T===-1||O===-1?null:{start:T,end:O}}else s=null}s=s||{start:0,end:0}}else s=null;for(qu={focusedElem:t,selectionRange:s},Fl=!1,ve=e;ve!==null;)if(e=ve,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,ve=t;else for(;ve!==null;){switch(e=ve,h=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,s=e,c=h.memoizedProps,h=h.memoizedState,r=s.stateNode;try{var gt=ai(s.type,c,s.elementType===s.type);t=r.getSnapshotBeforeUpdate(gt,h),r.__reactInternalSnapshotBeforeUpdate=t}catch(pt){Ht(s,s.return,pt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,s=t.nodeType,s===9)Lu(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Lu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=e.sibling,t!==null){t.return=e.return,ve=t;break}ve=e.return}}function Vp(t,e,s){var r=s.flags;switch(s.tag){case 0:case 11:case 15:Ss(t,s),r&4&&er(5,s);break;case 1:if(Ss(t,s),r&4)if(t=s.stateNode,e===null)try{t.componentDidMount()}catch(_){Ht(s,s.return,_)}else{var c=ai(s.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(c,e,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ht(s,s.return,_)}}r&64&&Mp(s),r&512&&nr(s,s.return);break;case 3:if(Ss(t,s),r&64&&(t=s.updateQueue,t!==null)){if(e=null,s.child!==null)switch(s.child.tag){case 27:case 5:e=s.child.stateNode;break;case 1:e=s.child.stateNode}try{_d(t,e)}catch(_){Ht(s,s.return,_)}}break;case 27:e===null&&r&4&&jp(s);case 26:case 5:Ss(t,s),e===null&&r&4&&kp(s),r&512&&nr(s,s.return);break;case 12:Ss(t,s);break;case 13:Ss(t,s),r&4&&Bp(t,s),r&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=gv.bind(null,s),jv(t,s))));break;case 22:if(r=s.memoizedState!==null||Kn,!r){e=e!==null&&e.memoizedState!==null||ie,c=Kn;var h=ie;Kn=r,(ie=e)&&!h?Ts(t,s,(s.subtreeFlags&8772)!==0):Ss(t,s),Kn=c,ie=h}break;case 30:break;default:Ss(t,s)}}function qp(t){var e=t.alternate;e!==null&&(t.alternate=null,qp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Io(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Zt=null,Ye=!1;function Jn(t,e,s){for(s=s.child;s!==null;)Up(t,e,s),s=s.sibling}function Up(t,e,s){if(Ie&&typeof Ie.onCommitFiberUnmount=="function")try{Ie.onCommitFiberUnmount(Xs,s)}catch{}switch(s.tag){case 26:ie||Dn(s,e),Jn(t,e,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ie||Dn(s,e);var r=Zt,c=Ye;Es(s.type)&&(Zt=s.stateNode,Ye=!1),Jn(t,e,s),hr(s.stateNode),Zt=r,Ye=c;break;case 5:ie||Dn(s,e);case 6:if(r=Zt,c=Ye,Zt=null,Jn(t,e,s),Zt=r,Ye=c,Zt!==null)if(Ye)try{(Zt.nodeType===9?Zt.body:Zt.nodeName==="HTML"?Zt.ownerDocument.body:Zt).removeChild(s.stateNode)}catch(h){Ht(s,e,h)}else try{Zt.removeChild(s.stateNode)}catch(h){Ht(s,e,h)}break;case 18:Zt!==null&&(Ye?(t=Zt,Cm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),yr(t)):Cm(Zt,s.stateNode));break;case 4:r=Zt,c=Ye,Zt=s.stateNode.containerInfo,Ye=!0,Jn(t,e,s),Zt=r,Ye=c;break;case 0:case 11:case 14:case 15:ie||bs(2,s,e),ie||bs(4,s,e),Jn(t,e,s);break;case 1:ie||(Dn(s,e),r=s.stateNode,typeof r.componentWillUnmount=="function"&&Dp(s,e,r)),Jn(t,e,s);break;case 21:Jn(t,e,s);break;case 22:ie=(r=ie)||s.memoizedState!==null,Jn(t,e,s),ie=r;break;default:Jn(t,e,s)}}function Bp(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{yr(t)}catch(s){Ht(e,e.return,s)}}function ov(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new zp),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new zp),e;default:throw Error(a(435,t.tag))}}function du(t,e){var s=ov(t);e.forEach(function(r){var c=_v.bind(null,t,r);s.has(r)||(s.add(r),r.then(c,c))})}function We(t,e){var s=e.deletions;if(s!==null)for(var r=0;r<s.length;r++){var c=s[r],h=t,_=e,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(Es(T.type)){Zt=T.stateNode,Ye=!1;break t}break;case 5:Zt=T.stateNode,Ye=!1;break t;case 3:case 4:Zt=T.stateNode.containerInfo,Ye=!0;break t}T=T.return}if(Zt===null)throw Error(a(160));Up(h,_,c),Zt=null,Ye=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)Lp(e,t),e=e.sibling}var bn=null;function Lp(t,e){var s=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:We(e,t),Pe(t),r&4&&(bs(3,t,t.return),er(3,t),bs(5,t,t.return));break;case 1:We(e,t),Pe(t),r&512&&(ie||s===null||Dn(s,s.return)),r&64&&Kn&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?r:s.concat(r))));break;case 26:var c=bn;if(We(e,t),Pe(t),r&512&&(ie||s===null||Dn(s,s.return)),r&4){var h=s!==null?s.memoizedState:null;if(r=t.memoizedState,s===null)if(r===null)if(t.stateNode===null){t:{r=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(r){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Ca]||h[Ee]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(r),c.head.insertBefore(h,c.querySelector("head > title"))),Ce(h,r,s),h[Ee]=t,ge(h),r=h;break t;case"link":var _=jm("link","href",c).get(r+(s.href||""));if(_){for(var T=0;T<_.length;T++)if(h=_[T],h.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&h.getAttribute("rel")===(s.rel==null?null:s.rel)&&h.getAttribute("title")===(s.title==null?null:s.title)&&h.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(T,1);break e}}h=c.createElement(r),Ce(h,r,s),c.head.appendChild(h);break;case"meta":if(_=jm("meta","content",c).get(r+(s.content||""))){for(T=0;T<_.length;T++)if(h=_[T],h.getAttribute("content")===(s.content==null?null:""+s.content)&&h.getAttribute("name")===(s.name==null?null:s.name)&&h.getAttribute("property")===(s.property==null?null:s.property)&&h.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&h.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(T,1);break e}}h=c.createElement(r),Ce(h,r,s),c.head.appendChild(h);break;default:throw Error(a(468,r))}h[Ee]=t,ge(h),r=h}t.stateNode=r}else zm(c,t.type,t.stateNode);else t.stateNode=Rm(c,r,t.memoizedProps);else h!==r?(h===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):h.count--,r===null?zm(c,t.type,t.stateNode):Rm(c,r,t.memoizedProps)):r===null&&t.stateNode!==null&&cu(t,t.memoizedProps,s.memoizedProps)}break;case 27:We(e,t),Pe(t),r&512&&(ie||s===null||Dn(s,s.return)),s!==null&&r&4&&cu(t,t.memoizedProps,s.memoizedProps);break;case 5:if(We(e,t),Pe(t),r&512&&(ie||s===null||Dn(s,s.return)),t.flags&32){c=t.stateNode;try{wi(c,"")}catch(G){Ht(t,t.return,G)}}r&4&&t.stateNode!=null&&(c=t.memoizedProps,cu(t,c,s!==null?s.memoizedProps:c)),r&1024&&(fu=!0);break;case 6:if(We(e,t),Pe(t),r&4){if(t.stateNode===null)throw Error(a(162));r=t.memoizedProps,s=t.stateNode;try{s.nodeValue=r}catch(G){Ht(t,t.return,G)}}break;case 3:if(Il=null,c=bn,bn=Gl(e.containerInfo),We(e,t),bn=c,Pe(t),r&4&&s!==null&&s.memoizedState.isDehydrated)try{yr(e.containerInfo)}catch(G){Ht(t,t.return,G)}fu&&(fu=!1,Hp(t));break;case 4:r=bn,bn=Gl(t.stateNode.containerInfo),We(e,t),Pe(t),bn=r;break;case 12:We(e,t),Pe(t);break;case 13:We(e,t),Pe(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(yu=Ot()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,du(t,r)));break;case 22:c=t.memoizedState!==null;var O=s!==null&&s.memoizedState!==null,L=Kn,W=ie;if(Kn=L||c,ie=W||O,We(e,t),ie=W,Kn=L,Pe(t),r&8192)t:for(e=t.stateNode,e._visibility=c?e._visibility&-2:e._visibility|1,c&&(s===null||O||Kn||ie||ri(t)),s=null,e=t;;){if(e.tag===5||e.tag===26){if(s===null){O=s=e;try{if(h=O.stateNode,c)_=h.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=O.stateNode;var K=O.memoizedProps.style,Y=K!=null&&K.hasOwnProperty("display")?K.display:null;T.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(G){Ht(O,O.return,G)}}}else if(e.tag===6){if(s===null){O=e;try{O.stateNode.nodeValue=c?"":O.memoizedProps}catch(G){Ht(O,O.return,G)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;s===e&&(s=null),e=e.return}s===e&&(s=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(s=r.retryQueue,s!==null&&(r.retryQueue=null,du(t,s))));break;case 19:We(e,t),Pe(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,du(t,r)));break;case 30:break;case 21:break;default:We(e,t),Pe(t)}}function Pe(t){var e=t.flags;if(e&2){try{for(var s,r=t.return;r!==null;){if(Rp(r)){s=r;break}r=r.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var c=s.stateNode,h=uu(t);Ml(t,h,c);break;case 5:var _=s.stateNode;s.flags&32&&(wi(_,""),s.flags&=-33);var T=uu(t);Ml(t,T,_);break;case 3:case 4:var O=s.stateNode.containerInfo,L=uu(t);hu(t,L,O);break;default:throw Error(a(161))}}catch(W){Ht(t,t.return,W)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Hp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Hp(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Ss(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Vp(t,e.alternate,e),e=e.sibling}function ri(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:bs(4,e,e.return),ri(e);break;case 1:Dn(e,e.return);var s=e.stateNode;typeof s.componentWillUnmount=="function"&&Dp(e,e.return,s),ri(e);break;case 27:hr(e.stateNode);case 26:case 5:Dn(e,e.return),ri(e);break;case 22:e.memoizedState===null&&ri(e);break;case 30:ri(e);break;default:ri(e)}t=t.sibling}}function Ts(t,e,s){for(s=s&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,c=t,h=e,_=h.flags;switch(h.tag){case 0:case 11:case 15:Ts(c,h,s),er(4,h);break;case 1:if(Ts(c,h,s),r=h,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(L){Ht(r,r.return,L)}if(r=h,c=r.updateQueue,c!==null){var T=r.stateNode;try{var O=c.shared.hiddenCallbacks;if(O!==null)for(c.shared.hiddenCallbacks=null,c=0;c<O.length;c++)gd(O[c],T)}catch(L){Ht(r,r.return,L)}}s&&_&64&&Mp(h),nr(h,h.return);break;case 27:jp(h);case 26:case 5:Ts(c,h,s),s&&r===null&&_&4&&kp(h),nr(h,h.return);break;case 12:Ts(c,h,s);break;case 13:Ts(c,h,s),s&&_&4&&Bp(c,h);break;case 22:h.memoizedState===null&&Ts(c,h,s),nr(h,h.return);break;case 30:break;default:Ts(c,h,s)}e=e.sibling}}function pu(t,e){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Ha(s))}function mu(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ha(t))}function kn(t,e,s,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Yp(t,e,s,r),e=e.sibling}function Yp(t,e,s,r){var c=e.flags;switch(e.tag){case 0:case 11:case 15:kn(t,e,s,r),c&2048&&er(9,e);break;case 1:kn(t,e,s,r);break;case 3:kn(t,e,s,r),c&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ha(t)));break;case 12:if(c&2048){kn(t,e,s,r),t=e.stateNode;try{var h=e.memoizedProps,_=h.id,T=h.onPostCommit;typeof T=="function"&&T(_,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){Ht(e,e.return,O)}}else kn(t,e,s,r);break;case 13:kn(t,e,s,r);break;case 23:break;case 22:h=e.stateNode,_=e.alternate,e.memoizedState!==null?h._visibility&2?kn(t,e,s,r):sr(t,e):h._visibility&2?kn(t,e,s,r):(h._visibility|=2,Gi(t,e,s,r,(e.subtreeFlags&10256)!==0)),c&2048&&pu(_,e);break;case 24:kn(t,e,s,r),c&2048&&mu(e.alternate,e);break;default:kn(t,e,s,r)}}function Gi(t,e,s,r,c){for(c=c&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var h=t,_=e,T=s,O=r,L=_.flags;switch(_.tag){case 0:case 11:case 15:Gi(h,_,T,O,c),er(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?Gi(h,_,T,O,c):sr(h,_):(W._visibility|=2,Gi(h,_,T,O,c)),c&&L&2048&&pu(_.alternate,_);break;case 24:Gi(h,_,T,O,c),c&&L&2048&&mu(_.alternate,_);break;default:Gi(h,_,T,O,c)}e=e.sibling}}function sr(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var s=t,r=e,c=r.flags;switch(r.tag){case 22:sr(s,r),c&2048&&pu(r.alternate,r);break;case 24:sr(s,r),c&2048&&mu(r.alternate,r);break;default:sr(s,r)}e=e.sibling}}var ir=8192;function Xi(t){if(t.subtreeFlags&ir)for(t=t.child;t!==null;)Gp(t),t=t.sibling}function Gp(t){switch(t.tag){case 26:Xi(t),t.flags&ir&&t.memoizedState!==null&&Qv(bn,t.memoizedState,t.memoizedProps);break;case 5:Xi(t);break;case 3:case 4:var e=bn;bn=Gl(t.stateNode.containerInfo),Xi(t),bn=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=ir,ir=16777216,Xi(t),ir=e):Xi(t));break;default:Xi(t)}}function Xp(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function ar(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var s=0;s<e.length;s++){var r=e[s];ve=r,Zp(r,t)}Xp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ip(t),t=t.sibling}function Ip(t){switch(t.tag){case 0:case 11:case 15:ar(t),t.flags&2048&&bs(9,t,t.return);break;case 3:ar(t);break;case 12:ar(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Dl(t)):ar(t);break;default:ar(t)}}function Dl(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var s=0;s<e.length;s++){var r=e[s];ve=r,Zp(r,t)}Xp(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:bs(8,e,e.return),Dl(e);break;case 22:s=e.stateNode,s._visibility&2&&(s._visibility&=-3,Dl(e));break;default:Dl(e)}t=t.sibling}}function Zp(t,e){for(;ve!==null;){var s=ve;switch(s.tag){case 0:case 11:case 15:bs(8,s,e);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var r=s.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Ha(s.memoizedState.cache)}if(r=s.child,r!==null)r.return=s,ve=r;else t:for(s=t;ve!==null;){r=ve;var c=r.sibling,h=r.return;if(qp(r),r===s){ve=null;break t}if(c!==null){c.return=h,ve=c;break t}ve=h}}}var cv={getCacheForType:function(t){var e=Oe(fe),s=e.data.get(t);return s===void 0&&(s=t(),e.data.set(t,s)),s}},uv=typeof WeakMap=="function"?WeakMap:Map,zt=0,Yt=null,At=null,Dt=0,Vt=0,Ke=null,xs=!1,Ii=!1,gu=!1,$n=0,$t=0,ws=0,li=0,_u=0,dn=0,Zi=0,rr=null,Ge=null,vu=!1,yu=0,kl=1/0,Rl=null,As=null,Ae=0,Cs=null,Qi=null,Fi=0,bu=0,Su=null,Qp=null,lr=0,Tu=null;function Je(){if((zt&2)!==0&&Dt!==0)return Dt&-Dt;if(j.T!==null){var t=zi;return t!==0?t:Ou()}return cf()}function Fp(){dn===0&&(dn=(Dt&536870912)===0||Rt?af():536870912);var t=fn.current;return t!==null&&(t.flags|=32),dn}function $e(t,e,s){(t===Yt&&(Vt===2||Vt===9)||t.cancelPendingCommit!==null)&&(Wi(t,0),Ns(t,Dt,dn,!1)),Aa(t,s),((zt&2)===0||t!==Yt)&&(t===Yt&&((zt&2)===0&&(li|=s),$t===4&&Ns(t,Dt,dn,!1)),Rn(t))}function Wp(t,e,s){if((zt&6)!==0)throw Error(a(327));var r=!s&&(e&124)===0&&(e&t.expiredLanes)===0||wa(t,e),c=r?dv(t,e):Au(t,e,!0),h=r;do{if(c===0){Ii&&!r&&Ns(t,e,0,!1);break}else{if(s=t.current.alternate,h&&!hv(s)){c=Au(t,e,!1),h=!1;continue}if(c===2){if(h=e,t.errorRecoveryDisabledLanes&h)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){e=_;t:{var T=t;c=rr;var O=T.current.memoizedState.isDehydrated;if(O&&(Wi(T,_).flags|=256),_=Au(T,_,!1),_!==2){if(gu&&!O){T.errorRecoveryDisabledLanes|=h,li|=h,c=4;break t}h=Ge,Ge=c,h!==null&&(Ge===null?Ge=h:Ge.push.apply(Ge,h))}c=_}if(h=!1,c!==2)continue}}if(c===1){Wi(t,0),Ns(t,e,0,!0);break}t:{switch(r=t,h=c,h){case 0:case 1:throw Error(a(345));case 4:if((e&4194048)!==e)break;case 6:Ns(r,e,dn,!xs);break t;case 2:Ge=null;break;case 3:case 5:break;default:throw Error(a(329))}if((e&62914560)===e&&(c=yu+300-Ot(),10<c)){if(Ns(r,e,dn,!xs),Xr(r,0,!0)!==0)break t;r.timeoutHandle=wm(Pp.bind(null,r,s,Ge,Rl,vu,e,dn,li,Zi,xs,h,2,-0,0),c);break t}Pp(r,s,Ge,Rl,vu,e,dn,li,Zi,xs,h,0,-0,0)}}break}while(!0);Rn(t)}function Pp(t,e,s,r,c,h,_,T,O,L,W,K,Y,G){if(t.timeoutHandle=-1,K=e.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(pr={stylesheets:null,count:0,unsuspend:Zv},Gp(e),K=Fv(),K!==null)){t.cancelPendingCommit=K(sm.bind(null,t,e,h,s,r,c,_,T,O,W,1,Y,G)),Ns(t,h,_,!L);return}sm(t,e,h,s,r,c,_,T,O)}function hv(t){for(var e=t;;){var s=e.tag;if((s===0||s===11||s===15)&&e.flags&16384&&(s=e.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var r=0;r<s.length;r++){var c=s[r],h=c.getSnapshot;c=c.value;try{if(!Qe(h(),c))return!1}catch{return!1}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ns(t,e,s,r){e&=~_u,e&=~li,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var c=e;0<c;){var h=31-Ze(c),_=1<<h;r[h]=-1,c&=~_}s!==0&&lf(t,s,e)}function jl(){return(zt&6)===0?(or(0),!1):!0}function xu(){if(At!==null){if(Vt===0)var t=At.return;else t=At,In=ei=null,Lc(t),Hi=null,Ja=0,t=At;for(;t!==null;)Op(t.alternate,t),t=t.return;At=null}}function Wi(t,e){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Ov(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),xu(),Yt=t,At=s=Yn(t.current,null),Dt=e,Vt=0,Ke=null,xs=!1,Ii=wa(t,e),gu=!1,Zi=dn=_u=li=ws=$t=0,Ge=rr=null,vu=!1,(e&8)!==0&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var c=31-Ze(r),h=1<<c;e|=t[c],r&=~h}return $n=e,nl(),s}function Kp(t,e){Tt=null,j.H=Sl,e===Ga||e===hl?(e=pd(),Vt=3):e===hd?(e=pd(),Vt=4):Vt=e===mp?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Ke=e,At===null&&($t=1,Cl(t,on(e,t.current)))}function Jp(){var t=j.H;return j.H=Sl,t===null?Sl:t}function $p(){var t=j.A;return j.A=cv,t}function wu(){$t=4,xs||(Dt&4194048)!==Dt&&fn.current!==null||(Ii=!0),(ws&134217727)===0&&(li&134217727)===0||Yt===null||Ns(Yt,Dt,dn,!1)}function Au(t,e,s){var r=zt;zt|=2;var c=Jp(),h=$p();(Yt!==t||Dt!==e)&&(Rl=null,Wi(t,e)),e=!1;var _=$t;t:do try{if(Vt!==0&&At!==null){var T=At,O=Ke;switch(Vt){case 8:xu(),_=6;break t;case 3:case 2:case 9:case 6:fn.current===null&&(e=!0);var L=Vt;if(Vt=0,Ke=null,Pi(t,T,O,L),s&&Ii){_=0;break t}break;default:L=Vt,Vt=0,Ke=null,Pi(t,T,O,L)}}fv(),_=$t;break}catch(W){Kp(t,W)}while(!0);return e&&t.shellSuspendCounter++,In=ei=null,zt=r,j.H=c,j.A=h,At===null&&(Yt=null,Dt=0,nl()),_}function fv(){for(;At!==null;)tm(At)}function dv(t,e){var s=zt;zt|=2;var r=Jp(),c=$p();Yt!==t||Dt!==e?(Rl=null,kl=Ot()+500,Wi(t,e)):Ii=wa(t,e);t:do try{if(Vt!==0&&At!==null){e=At;var h=Ke;e:switch(Vt){case 1:Vt=0,Ke=null,Pi(t,e,h,1);break;case 2:case 9:if(fd(h)){Vt=0,Ke=null,em(e);break}e=function(){Vt!==2&&Vt!==9||Yt!==t||(Vt=7),Rn(t)},h.then(e,e);break t;case 3:Vt=7;break t;case 4:Vt=5;break t;case 7:fd(h)?(Vt=0,Ke=null,em(e)):(Vt=0,Ke=null,Pi(t,e,h,7));break;case 5:var _=null;switch(At.tag){case 26:_=At.memoizedState;case 5:case 27:var T=At;if(!_||Vm(_)){Vt=0,Ke=null;var O=T.sibling;if(O!==null)At=O;else{var L=T.return;L!==null?(At=L,zl(L)):At=null}break e}}Vt=0,Ke=null,Pi(t,e,h,5);break;case 6:Vt=0,Ke=null,Pi(t,e,h,6);break;case 8:xu(),$t=6;break t;default:throw Error(a(462))}}pv();break}catch(W){Kp(t,W)}while(!0);return In=ei=null,j.H=r,j.A=c,zt=s,At!==null?0:(Yt=null,Dt=0,nl(),$t)}function pv(){for(;At!==null&&!rt();)tm(At)}function tm(t){var e=Np(t.alternate,t,$n);t.memoizedProps=t.pendingProps,e===null?zl(t):At=e}function em(t){var e=t,s=e.alternate;switch(e.tag){case 15:case 0:e=Sp(s,e,e.pendingProps,e.type,void 0,Dt);break;case 11:e=Sp(s,e,e.pendingProps,e.type.render,e.ref,Dt);break;case 5:Lc(e);default:Op(s,e),e=At=nd(e,$n),e=Np(s,e,$n)}t.memoizedProps=t.pendingProps,e===null?zl(t):At=e}function Pi(t,e,s,r){In=ei=null,Lc(e),Hi=null,Ja=0;var c=e.return;try{if(sv(t,c,e,s,Dt)){$t=1,Cl(t,on(s,t.current)),At=null;return}}catch(h){if(c!==null)throw At=c,h;$t=1,Cl(t,on(s,t.current)),At=null;return}e.flags&32768?(Rt||r===1?t=!0:Ii||(Dt&536870912)!==0?t=!1:(xs=t=!0,(r===2||r===9||r===3||r===6)&&(r=fn.current,r!==null&&r.tag===13&&(r.flags|=16384))),nm(e,t)):zl(e)}function zl(t){var e=t;do{if((e.flags&32768)!==0){nm(e,xs);return}t=e.return;var s=av(e.alternate,e,$n);if(s!==null){At=s;return}if(e=e.sibling,e!==null){At=e;return}At=e=t}while(e!==null);$t===0&&($t=5)}function nm(t,e){do{var s=rv(t.alternate,t);if(s!==null){s.flags&=32767,At=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!e&&(t=t.sibling,t!==null)){At=t;return}At=t=s}while(t!==null);$t=6,At=null}function sm(t,e,s,r,c,h,_,T,O){t.cancelPendingCommit=null;do Vl();while(Ae!==0);if((zt&6)!==0)throw Error(a(327));if(e!==null){if(e===t.current)throw Error(a(177));if(h=e.lanes|e.childLanes,h|=mc,Z_(t,s,h,_,T,O),t===Yt&&(At=Yt=null,Dt=0),Qi=e,Cs=t,Fi=s,bu=h,Su=c,Qp=r,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,vv(ne,function(){return om(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||r){r=j.T,j.T=null,c=I.p,I.p=2,_=zt,zt|=4;try{lv(t,e,s)}finally{zt=_,I.p=c,j.T=r}}Ae=1,im(),am(),rm()}}function im(){if(Ae===1){Ae=0;var t=Cs,e=Qi,s=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||s){s=j.T,j.T=null;var r=I.p;I.p=2;var c=zt;zt|=4;try{Lp(e,t);var h=qu,_=Zf(t.containerInfo),T=h.focusedElem,O=h.selectionRange;if(_!==T&&T&&T.ownerDocument&&If(T.ownerDocument.documentElement,T)){if(O!==null&&uc(T)){var L=O.start,W=O.end;if(W===void 0&&(W=L),"selectionStart"in T)T.selectionStart=L,T.selectionEnd=Math.min(W,T.value.length);else{var K=T.ownerDocument||document,Y=K&&K.defaultView||window;if(Y.getSelection){var G=Y.getSelection(),gt=T.textContent.length,pt=Math.min(O.start,gt),Bt=O.end===void 0?pt:Math.min(O.end,gt);!G.extend&&pt>Bt&&(_=Bt,Bt=pt,pt=_);var q=Xf(T,pt),z=Xf(T,Bt);if(q&&z&&(G.rangeCount!==1||G.anchorNode!==q.node||G.anchorOffset!==q.offset||G.focusNode!==z.node||G.focusOffset!==z.offset)){var B=K.createRange();B.setStart(q.node,q.offset),G.removeAllRanges(),pt>Bt?(G.addRange(B),G.extend(z.node,z.offset)):(B.setEnd(z.node,z.offset),G.addRange(B))}}}}for(K=[],G=T;G=G.parentNode;)G.nodeType===1&&K.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<K.length;T++){var P=K[T];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}Fl=!!Vu,qu=Vu=null}finally{zt=c,I.p=r,j.T=s}}t.current=e,Ae=2}}function am(){if(Ae===2){Ae=0;var t=Cs,e=Qi,s=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||s){s=j.T,j.T=null;var r=I.p;I.p=2;var c=zt;zt|=4;try{Vp(t,e.alternate,e)}finally{zt=c,I.p=r,j.T=s}}Ae=3}}function rm(){if(Ae===4||Ae===3){Ae=0,ft();var t=Cs,e=Qi,s=Fi,r=Qp;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Ae=5:(Ae=0,Qi=Cs=null,lm(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(As=null),Go(s),e=e.stateNode,Ie&&typeof Ie.onCommitFiberRoot=="function")try{Ie.onCommitFiberRoot(Xs,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=j.T,c=I.p,I.p=2,j.T=null;try{for(var h=t.onRecoverableError,_=0;_<r.length;_++){var T=r[_];h(T.value,{componentStack:T.stack})}}finally{j.T=e,I.p=c}}(Fi&3)!==0&&Vl(),Rn(t),c=t.pendingLanes,(s&4194090)!==0&&(c&42)!==0?t===Tu?lr++:(lr=0,Tu=t):lr=0,or(0)}}function lm(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Ha(e)))}function Vl(t){return im(),am(),rm(),om()}function om(){if(Ae!==5)return!1;var t=Cs,e=bu;bu=0;var s=Go(Fi),r=j.T,c=I.p;try{I.p=32>s?32:s,j.T=null,s=Su,Su=null;var h=Cs,_=Fi;if(Ae=0,Qi=Cs=null,Fi=0,(zt&6)!==0)throw Error(a(331));var T=zt;if(zt|=4,Ip(h.current),Yp(h,h.current,_,s),zt=T,or(0,!1),Ie&&typeof Ie.onPostCommitFiberRoot=="function")try{Ie.onPostCommitFiberRoot(Xs,h)}catch{}return!0}finally{I.p=c,j.T=r,lm(t,e)}}function cm(t,e,s){e=on(s,e),e=tu(t.stateNode,e,2),t=gs(t,e,2),t!==null&&(Aa(t,2),Rn(t))}function Ht(t,e,s){if(t.tag===3)cm(t,t,s);else for(;e!==null;){if(e.tag===3){cm(e,t,s);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(As===null||!As.has(r))){t=on(s,t),s=dp(2),r=gs(e,s,2),r!==null&&(pp(s,r,e,t),Aa(r,2),Rn(r));break}}e=e.return}}function Cu(t,e,s){var r=t.pingCache;if(r===null){r=t.pingCache=new uv;var c=new Set;r.set(e,c)}else c=r.get(e),c===void 0&&(c=new Set,r.set(e,c));c.has(s)||(gu=!0,c.add(s),t=mv.bind(null,t,e,s),e.then(t,t))}function mv(t,e,s){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Yt===t&&(Dt&s)===s&&($t===4||$t===3&&(Dt&62914560)===Dt&&300>Ot()-yu?(zt&2)===0&&Wi(t,0):_u|=s,Zi===Dt&&(Zi=0)),Rn(t)}function um(t,e){e===0&&(e=rf()),t=Di(t,e),t!==null&&(Aa(t,e),Rn(t))}function gv(t){var e=t.memoizedState,s=0;e!==null&&(s=e.retryLane),um(t,s)}function _v(t,e){var s=0;switch(t.tag){case 13:var r=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(a(314))}r!==null&&r.delete(e),um(t,s)}function vv(t,e){return Re(t,e)}var ql=null,Ki=null,Nu=!1,Ul=!1,Eu=!1,oi=0;function Rn(t){t!==Ki&&t.next===null&&(Ki===null?ql=Ki=t:Ki=Ki.next=t),Ul=!0,Nu||(Nu=!0,bv())}function or(t,e){if(!Eu&&Ul){Eu=!0;do for(var s=!1,r=ql;r!==null;){if(t!==0){var c=r.pendingLanes;if(c===0)var h=0;else{var _=r.suspendedLanes,T=r.pingedLanes;h=(1<<31-Ze(42|t)+1)-1,h&=c&~(_&~T),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(s=!0,pm(r,h))}else h=Dt,h=Xr(r,r===Yt?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(h&3)===0||wa(r,h)||(s=!0,pm(r,h));r=r.next}while(s);Eu=!1}}function yv(){hm()}function hm(){Ul=Nu=!1;var t=0;oi!==0&&(Ev()&&(t=oi),oi=0);for(var e=Ot(),s=null,r=ql;r!==null;){var c=r.next,h=fm(r,e);h===0?(r.next=null,s===null?ql=c:s.next=c,c===null&&(Ki=s)):(s=r,(t!==0||(h&3)!==0)&&(Ul=!0)),r=c}or(t)}function fm(t,e){for(var s=t.suspendedLanes,r=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var _=31-Ze(h),T=1<<_,O=c[_];O===-1?((T&s)===0||(T&r)!==0)&&(c[_]=I_(T,e)):O<=e&&(t.expiredLanes|=T),h&=~T}if(e=Yt,s=Dt,s=Xr(t,t===e?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,s===0||t===e&&(Vt===2||Vt===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Ue(r),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||wa(t,s)){if(e=s&-s,e===t.callbackPriority)return e;switch(r!==null&&Ue(r),Go(s)){case 2:case 8:s=Mt;break;case 32:s=ne;break;case 268435456:s=cs;break;default:s=ne}return r=dm.bind(null,t),s=Re(s,r),t.callbackPriority=e,t.callbackNode=s,e}return r!==null&&r!==null&&Ue(r),t.callbackPriority=2,t.callbackNode=null,2}function dm(t,e){if(Ae!==0&&Ae!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Vl()&&t.callbackNode!==s)return null;var r=Dt;return r=Xr(t,t===Yt?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(Wp(t,r,e),fm(t,Ot()),t.callbackNode!=null&&t.callbackNode===s?dm.bind(null,t):null)}function pm(t,e){if(Vl())return null;Wp(t,e,!0)}function bv(){Mv(function(){(zt&6)!==0?Re(_t,yv):hm()})}function Ou(){return oi===0&&(oi=af()),oi}function mm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Wr(""+t)}function gm(t,e){var s=e.ownerDocument.createElement("input");return s.name=e.name,s.value=e.value,t.id&&s.setAttribute("form",t.id),e.parentNode.insertBefore(s,e),t=new FormData(t),s.parentNode.removeChild(s),t}function Sv(t,e,s,r,c){if(e==="submit"&&s&&s.stateNode===c){var h=mm((c[Be]||null).action),_=r.submitter;_&&(e=(e=_[Be]||null)?mm(e.formAction):_.getAttribute("formAction"),e!==null&&(h=e,_=null));var T=new $r("action","action",null,r,c);t.push({event:T,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(oi!==0){var O=_?gm(c,_):new FormData(c);Wc(s,{pending:!0,data:O,method:c.method,action:h},null,O)}}else typeof h=="function"&&(T.preventDefault(),O=_?gm(c,_):new FormData(c),Wc(s,{pending:!0,data:O,method:c.method,action:h},h,O))},currentTarget:c}]})}}for(var Mu=0;Mu<pc.length;Mu++){var Du=pc[Mu],Tv=Du.toLowerCase(),xv=Du[0].toUpperCase()+Du.slice(1);yn(Tv,"on"+xv)}yn(Wf,"onAnimationEnd"),yn(Pf,"onAnimationIteration"),yn(Kf,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(L0,"onTransitionRun"),yn(H0,"onTransitionStart"),yn(Y0,"onTransitionCancel"),yn(Jf,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),Zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cr));function _m(t,e){e=(e&4)!==0;for(var s=0;s<t.length;s++){var r=t[s],c=r.event;r=r.listeners;t:{var h=void 0;if(e)for(var _=r.length-1;0<=_;_--){var T=r[_],O=T.instance,L=T.currentTarget;if(T=T.listener,O!==h&&c.isPropagationStopped())break t;h=T,c.currentTarget=L;try{h(c)}catch(W){Al(W)}c.currentTarget=null,h=O}else for(_=0;_<r.length;_++){if(T=r[_],O=T.instance,L=T.currentTarget,T=T.listener,O!==h&&c.isPropagationStopped())break t;h=T,c.currentTarget=L;try{h(c)}catch(W){Al(W)}c.currentTarget=null,h=O}}}}function Ct(t,e){var s=e[Xo];s===void 0&&(s=e[Xo]=new Set);var r=t+"__bubble";s.has(r)||(vm(e,t,2,!1),s.add(r))}function ku(t,e,s){var r=0;e&&(r|=4),vm(s,t,r,e)}var Bl="_reactListening"+Math.random().toString(36).slice(2);function Ru(t){if(!t[Bl]){t[Bl]=!0,hf.forEach(function(s){s!=="selectionchange"&&(wv.has(s)||ku(s,!1,t),ku(s,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Bl]||(e[Bl]=!0,ku("selectionchange",!1,e))}}function vm(t,e,s,r){switch(Ym(e)){case 2:var c=Kv;break;case 8:c=Jv;break;default:c=Qu}s=c.bind(null,e,s,t),c=void 0,!ec||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(c=!0),r?c!==void 0?t.addEventListener(e,s,{capture:!0,passive:c}):t.addEventListener(e,s,!0):c!==void 0?t.addEventListener(e,s,{passive:c}):t.addEventListener(e,s,!1)}function ju(t,e,s,r,c){var h=r;if((e&1)===0&&(e&2)===0&&r!==null)t:for(;;){if(r===null)return;var _=r.tag;if(_===3||_===4){var T=r.stateNode.containerInfo;if(T===c)break;if(_===4)for(_=r.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===c)return;_=_.return}for(;T!==null;){if(_=vi(T),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){r=h=_;continue t}T=T.parentNode}}r=r.return}Af(function(){var L=h,W=$o(s),K=[];t:{var Y=$f.get(t);if(Y!==void 0){var G=$r,gt=t;switch(t){case"keypress":if(Kr(s)===0)break t;case"keydown":case"keyup":G=v0;break;case"focusin":gt="focus",G=ac;break;case"focusout":gt="blur",G=ac;break;case"beforeblur":case"afterblur":G=ac;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Ef;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=r0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=S0;break;case Wf:case Pf:case Kf:G=c0;break;case Jf:G=x0;break;case"scroll":case"scrollend":G=i0;break;case"wheel":G=A0;break;case"copy":case"cut":case"paste":G=h0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Mf;break;case"toggle":case"beforetoggle":G=N0}var pt=(e&4)!==0,Bt=!pt&&(t==="scroll"||t==="scrollend"),q=pt?Y!==null?Y+"Capture":null:Y;pt=[];for(var z=L,B;z!==null;){var P=z;if(B=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||B===null||q===null||(P=Ea(z,q),P!=null&&pt.push(ur(z,P,B))),Bt)break;z=z.return}0<pt.length&&(Y=new G(Y,gt,null,s,W),K.push({event:Y,listeners:pt}))}}if((e&7)===0){t:{if(Y=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",Y&&s!==Jo&&(gt=s.relatedTarget||s.fromElement)&&(vi(gt)||gt[_i]))break t;if((G||Y)&&(Y=W.window===W?W:(Y=W.ownerDocument)?Y.defaultView||Y.parentWindow:window,G?(gt=s.relatedTarget||s.toElement,G=L,gt=gt?vi(gt):null,gt!==null&&(Bt=u(gt),pt=gt.tag,gt!==Bt||pt!==5&&pt!==27&&pt!==6)&&(gt=null)):(G=null,gt=L),G!==gt)){if(pt=Ef,P="onMouseLeave",q="onMouseEnter",z="mouse",(t==="pointerout"||t==="pointerover")&&(pt=Mf,P="onPointerLeave",q="onPointerEnter",z="pointer"),Bt=G==null?Y:Na(G),B=gt==null?Y:Na(gt),Y=new pt(P,z+"leave",G,s,W),Y.target=Bt,Y.relatedTarget=B,P=null,vi(W)===L&&(pt=new pt(q,z+"enter",gt,s,W),pt.target=B,pt.relatedTarget=Bt,P=pt),Bt=P,G&&gt)e:{for(pt=G,q=gt,z=0,B=pt;B;B=Ji(B))z++;for(B=0,P=q;P;P=Ji(P))B++;for(;0<z-B;)pt=Ji(pt),z--;for(;0<B-z;)q=Ji(q),B--;for(;z--;){if(pt===q||q!==null&&pt===q.alternate)break e;pt=Ji(pt),q=Ji(q)}pt=null}else pt=null;G!==null&&ym(K,Y,G,pt,!1),gt!==null&&Bt!==null&&ym(K,Bt,gt,pt,!0)}}t:{if(Y=L?Na(L):window,G=Y.nodeName&&Y.nodeName.toLowerCase(),G==="select"||G==="input"&&Y.type==="file")var ht=Uf;else if(Vf(Y))if(Bf)ht=q0;else{ht=z0;var wt=j0}else G=Y.nodeName,!G||G.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?L&&Ko(L.elementType)&&(ht=Uf):ht=V0;if(ht&&(ht=ht(t,L))){qf(K,ht,s,W);break t}wt&&wt(t,Y,L),t==="focusout"&&L&&Y.type==="number"&&L.memoizedProps.value!=null&&Po(Y,"number",Y.value)}switch(wt=L?Na(L):window,t){case"focusin":(Vf(wt)||wt.contentEditable==="true")&&(Ei=wt,hc=L,Va=null);break;case"focusout":Va=hc=Ei=null;break;case"mousedown":fc=!0;break;case"contextmenu":case"mouseup":case"dragend":fc=!1,Qf(K,s,W);break;case"selectionchange":if(B0)break;case"keydown":case"keyup":Qf(K,s,W)}var dt;if(lc)t:{switch(t){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else Ni?jf(t,s)&&(mt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(mt="onCompositionStart");mt&&(Df&&s.locale!=="ko"&&(Ni||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Ni&&(dt=Cf()):(fs=W,nc="value"in fs?fs.value:fs.textContent,Ni=!0)),wt=Ll(L,mt),0<wt.length&&(mt=new Of(mt,t,null,s,W),K.push({event:mt,listeners:wt}),dt?mt.data=dt:(dt=zf(s),dt!==null&&(mt.data=dt)))),(dt=O0?M0(t,s):D0(t,s))&&(mt=Ll(L,"onBeforeInput"),0<mt.length&&(wt=new Of("onBeforeInput","beforeinput",null,s,W),K.push({event:wt,listeners:mt}),wt.data=dt)),Sv(K,t,L,s,W)}_m(K,e)})}function ur(t,e,s){return{instance:t,listener:e,currentTarget:s}}function Ll(t,e){for(var s=e+"Capture",r=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Ea(t,s),c!=null&&r.unshift(ur(t,c,h)),c=Ea(t,e),c!=null&&r.push(ur(t,c,h))),t.tag===3)return r;t=t.return}return[]}function Ji(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ym(t,e,s,r,c){for(var h=e._reactName,_=[];s!==null&&s!==r;){var T=s,O=T.alternate,L=T.stateNode;if(T=T.tag,O!==null&&O===r)break;T!==5&&T!==26&&T!==27||L===null||(O=L,c?(L=Ea(s,h),L!=null&&_.unshift(ur(s,L,O))):c||(L=Ea(s,h),L!=null&&_.push(ur(s,L,O)))),s=s.return}_.length!==0&&t.push({event:e,listeners:_})}var Av=/\r\n?/g,Cv=/\u0000|\uFFFD/g;function bm(t){return(typeof t=="string"?t:""+t).replace(Av,`
`).replace(Cv,"")}function Sm(t,e){return e=bm(e),bm(t)===e}function Hl(){}function Ut(t,e,s,r,c,h){switch(s){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||wi(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&wi(t,""+r);break;case"className":Zr(t,"class",r);break;case"tabIndex":Zr(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Zr(t,s,r);break;case"style":xf(t,r,h);break;case"data":if(e!=="object"){Zr(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||s!=="href")){t.removeAttribute(s);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(s);break}r=Wr(""+r),t.setAttribute(s,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(s==="formAction"?(e!=="input"&&Ut(t,e,"name",c.name,c,null),Ut(t,e,"formEncType",c.formEncType,c,null),Ut(t,e,"formMethod",c.formMethod,c,null),Ut(t,e,"formTarget",c.formTarget,c,null)):(Ut(t,e,"encType",c.encType,c,null),Ut(t,e,"method",c.method,c,null),Ut(t,e,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(s);break}r=Wr(""+r),t.setAttribute(s,r);break;case"onClick":r!=null&&(t.onclick=Hl);break;case"onScroll":r!=null&&Ct("scroll",t);break;case"onScrollEnd":r!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(s=r.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}s=Wr(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(s,""+r):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":r===!0?t.setAttribute(s,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(s,r):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(s,r):t.removeAttribute(s);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(s):t.setAttribute(s,r);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),Ir(t,"popover",r);break;case"xlinkActuate":Ln(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Ln(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Ln(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Ln(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Ln(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Ln(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Ln(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Ln(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Ln(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Ir(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=n0.get(s)||s,Ir(t,s,r))}}function zu(t,e,s,r,c,h){switch(s){case"style":xf(t,r,h);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(s=r.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof r=="string"?wi(t,r):(typeof r=="number"||typeof r=="bigint")&&wi(t,""+r);break;case"onScroll":r!=null&&Ct("scroll",t);break;case"onScrollEnd":r!=null&&Ct("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Hl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ff.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),e=s.slice(2,c?s.length-7:void 0),h=t[Be]||null,h=h!=null?h[s]:null,typeof h=="function"&&t.removeEventListener(e,h,c),typeof r=="function")){typeof h!="function"&&h!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(e,r,c);break t}s in t?t[s]=r:r===!0?t.setAttribute(s,""):Ir(t,s,r)}}}function Ce(t,e,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var r=!1,c=!1,h;for(h in s)if(s.hasOwnProperty(h)){var _=s[h];if(_!=null)switch(h){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,e));default:Ut(t,e,h,_,s,null)}}c&&Ut(t,e,"srcSet",s.srcSet,s,null),r&&Ut(t,e,"src",s.src,s,null);return;case"input":Ct("invalid",t);var T=h=_=c=null,O=null,L=null;for(r in s)if(s.hasOwnProperty(r)){var W=s[r];if(W!=null)switch(r){case"name":c=W;break;case"type":_=W;break;case"checked":O=W;break;case"defaultChecked":L=W;break;case"value":h=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,e));break;default:Ut(t,e,r,W,s,null)}}yf(t,h,T,O,L,_,c,!1),Qr(t);return;case"select":Ct("invalid",t),r=_=h=null;for(c in s)if(s.hasOwnProperty(c)&&(T=s[c],T!=null))switch(c){case"value":h=T;break;case"defaultValue":_=T;break;case"multiple":r=T;default:Ut(t,e,c,T,s,null)}e=h,s=_,t.multiple=!!r,e!=null?xi(t,!!r,e,!1):s!=null&&xi(t,!!r,s,!0);return;case"textarea":Ct("invalid",t),h=c=r=null;for(_ in s)if(s.hasOwnProperty(_)&&(T=s[_],T!=null))switch(_){case"value":r=T;break;case"defaultValue":c=T;break;case"children":h=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Ut(t,e,_,T,s,null)}Sf(t,r,c,h),Qr(t);return;case"option":for(O in s)if(s.hasOwnProperty(O)&&(r=s[O],r!=null))switch(O){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ut(t,e,O,r,s,null)}return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(r=0;r<cr.length;r++)Ct(cr[r],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in s)if(s.hasOwnProperty(L)&&(r=s[L],r!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,e));default:Ut(t,e,L,r,s,null)}return;default:if(Ko(e)){for(W in s)s.hasOwnProperty(W)&&(r=s[W],r!==void 0&&zu(t,e,W,r,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(r=s[T],r!=null&&Ut(t,e,T,r,s,null))}function Nv(t,e,s,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,_=null,T=null,O=null,L=null,W=null;for(G in s){var K=s[G];if(s.hasOwnProperty(G)&&K!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":O=K;default:r.hasOwnProperty(G)||Ut(t,e,G,null,r,K)}}for(var Y in r){var G=r[Y];if(K=s[Y],r.hasOwnProperty(Y)&&(G!=null||K!=null))switch(Y){case"type":h=G;break;case"name":c=G;break;case"checked":L=G;break;case"defaultChecked":W=G;break;case"value":_=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,e));break;default:G!==K&&Ut(t,e,Y,G,r,K)}}Wo(t,_,T,O,L,W,h,c);return;case"select":G=_=T=Y=null;for(h in s)if(O=s[h],s.hasOwnProperty(h)&&O!=null)switch(h){case"value":break;case"multiple":G=O;default:r.hasOwnProperty(h)||Ut(t,e,h,null,r,O)}for(c in r)if(h=r[c],O=s[c],r.hasOwnProperty(c)&&(h!=null||O!=null))switch(c){case"value":Y=h;break;case"defaultValue":T=h;break;case"multiple":_=h;default:h!==O&&Ut(t,e,c,h,r,O)}e=T,s=_,r=G,Y!=null?xi(t,!!s,Y,!1):!!r!=!!s&&(e!=null?xi(t,!!s,e,!0):xi(t,!!s,s?[]:"",!1));return;case"textarea":G=Y=null;for(T in s)if(c=s[T],s.hasOwnProperty(T)&&c!=null&&!r.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ut(t,e,T,null,r,c)}for(_ in r)if(c=r[_],h=s[_],r.hasOwnProperty(_)&&(c!=null||h!=null))switch(_){case"value":Y=c;break;case"defaultValue":G=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==h&&Ut(t,e,_,c,r,h)}bf(t,Y,G);return;case"option":for(var gt in s)if(Y=s[gt],s.hasOwnProperty(gt)&&Y!=null&&!r.hasOwnProperty(gt))switch(gt){case"selected":t.selected=!1;break;default:Ut(t,e,gt,null,r,Y)}for(O in r)if(Y=r[O],G=s[O],r.hasOwnProperty(O)&&Y!==G&&(Y!=null||G!=null))switch(O){case"selected":t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Ut(t,e,O,Y,r,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in s)Y=s[pt],s.hasOwnProperty(pt)&&Y!=null&&!r.hasOwnProperty(pt)&&Ut(t,e,pt,null,r,Y);for(L in r)if(Y=r[L],G=s[L],r.hasOwnProperty(L)&&Y!==G&&(Y!=null||G!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,e));break;default:Ut(t,e,L,Y,r,G)}return;default:if(Ko(e)){for(var Bt in s)Y=s[Bt],s.hasOwnProperty(Bt)&&Y!==void 0&&!r.hasOwnProperty(Bt)&&zu(t,e,Bt,void 0,r,Y);for(W in r)Y=r[W],G=s[W],!r.hasOwnProperty(W)||Y===G||Y===void 0&&G===void 0||zu(t,e,W,Y,r,G);return}}for(var q in s)Y=s[q],s.hasOwnProperty(q)&&Y!=null&&!r.hasOwnProperty(q)&&Ut(t,e,q,null,r,Y);for(K in r)Y=r[K],G=s[K],!r.hasOwnProperty(K)||Y===G||Y==null&&G==null||Ut(t,e,K,Y,r,G)}var Vu=null,qu=null;function Yl(t){return t.nodeType===9?t:t.ownerDocument}function Tm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xm(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Uu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bu=null;function Ev(){var t=window.event;return t&&t.type==="popstate"?t===Bu?!1:(Bu=t,!0):(Bu=null,!1)}var wm=typeof setTimeout=="function"?setTimeout:void 0,Ov=typeof clearTimeout=="function"?clearTimeout:void 0,Am=typeof Promise=="function"?Promise:void 0,Mv=typeof queueMicrotask=="function"?queueMicrotask:typeof Am<"u"?function(t){return Am.resolve(null).then(t).catch(Dv)}:wm;function Dv(t){setTimeout(function(){throw t})}function Es(t){return t==="head"}function Cm(t,e){var s=e,r=0,c=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(0<r&&8>r){s=r;var _=t.ownerDocument;if(s&1&&hr(_.documentElement),s&2&&hr(_.body),s&4)for(s=_.head,hr(s),_=s.firstChild;_;){var T=_.nextSibling,O=_.nodeName;_[Ca]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&_.rel.toLowerCase()==="stylesheet"||s.removeChild(_),_=T}}if(c===0){t.removeChild(h),yr(e);return}c--}else s==="$"||s==="$?"||s==="$!"?c++:r=s.charCodeAt(0)-48;else r=0;s=h}while(s);yr(e)}function Lu(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var s=e;switch(e=e.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Lu(s),Io(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function kv(t,e,s,r){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Ca])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Sn(t.nextSibling),t===null)break}return null}function Rv(t,e,s){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Sn(t.nextSibling),t===null))return null;return t}function Hu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function jv(t,e){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")e();else{var r=function(){e(),s.removeEventListener("DOMContentLoaded",r)};s.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Sn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Yu=null;function Nm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return t;e--}else s==="/$"&&e++}t=t.previousSibling}return null}function Em(t,e,s){switch(e=Yl(s),t){case"html":if(t=e.documentElement,!t)throw Error(a(452));return t;case"head":if(t=e.head,!t)throw Error(a(453));return t;case"body":if(t=e.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function hr(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Io(t)}var pn=new Map,Om=new Set;function Gl(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ts=I.d;I.d={f:zv,r:Vv,D:qv,C:Uv,L:Bv,m:Lv,X:Yv,S:Hv,M:Gv};function zv(){var t=ts.f(),e=jl();return t||e}function Vv(t){var e=yi(t);e!==null&&e.tag===5&&e.type==="form"?Wd(e):ts.r(t)}var $i=typeof document>"u"?null:document;function Mm(t,e,s){var r=$i;if(r&&typeof e=="string"&&e){var c=ln(e);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Om.has(c)||(Om.add(c),t={rel:t,crossOrigin:s,href:e},r.querySelector(c)===null&&(e=r.createElement("link"),Ce(e,"link",t),ge(e),r.head.appendChild(e)))}}function qv(t){ts.D(t),Mm("dns-prefetch",t,null)}function Uv(t,e){ts.C(t,e),Mm("preconnect",t,e)}function Bv(t,e,s){ts.L(t,e,s);var r=$i;if(r&&t&&e){var c='link[rel="preload"][as="'+ln(e)+'"]';e==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+ln(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+ln(s.imageSizes)+'"]')):c+='[href="'+ln(t)+'"]';var h=c;switch(e){case"style":h=ta(t);break;case"script":h=ea(t)}pn.has(h)||(t=g({rel:"preload",href:e==="image"&&s&&s.imageSrcSet?void 0:t,as:e},s),pn.set(h,t),r.querySelector(c)!==null||e==="style"&&r.querySelector(fr(h))||e==="script"&&r.querySelector(dr(h))||(e=r.createElement("link"),Ce(e,"link",t),ge(e),r.head.appendChild(e)))}}function Lv(t,e){ts.m(t,e);var s=$i;if(s&&t){var r=e&&typeof e.as=="string"?e.as:"script",c='link[rel="modulepreload"][as="'+ln(r)+'"][href="'+ln(t)+'"]',h=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ea(t)}if(!pn.has(h)&&(t=g({rel:"modulepreload",href:t},e),pn.set(h,t),s.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(dr(h)))return}r=s.createElement("link"),Ce(r,"link",t),ge(r),s.head.appendChild(r)}}}function Hv(t,e,s){ts.S(t,e,s);var r=$i;if(r&&t){var c=bi(r).hoistableStyles,h=ta(t);e=e||"default";var _=c.get(h);if(!_){var T={loading:0,preload:null};if(_=r.querySelector(fr(h)))T.loading=5;else{t=g({rel:"stylesheet",href:t,"data-precedence":e},s),(s=pn.get(h))&&Gu(t,s);var O=_=r.createElement("link");ge(O),Ce(O,"link",t),O._p=new Promise(function(L,W){O.onload=L,O.onerror=W}),O.addEventListener("load",function(){T.loading|=1}),O.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Xl(_,e,r)}_={type:"stylesheet",instance:_,count:1,state:T},c.set(h,_)}}}function Yv(t,e){ts.X(t,e);var s=$i;if(s&&t){var r=bi(s).hoistableScripts,c=ea(t),h=r.get(c);h||(h=s.querySelector(dr(c)),h||(t=g({src:t,async:!0},e),(e=pn.get(c))&&Xu(t,e),h=s.createElement("script"),ge(h),Ce(h,"link",t),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(c,h))}}function Gv(t,e){ts.M(t,e);var s=$i;if(s&&t){var r=bi(s).hoistableScripts,c=ea(t),h=r.get(c);h||(h=s.querySelector(dr(c)),h||(t=g({src:t,async:!0,type:"module"},e),(e=pn.get(c))&&Xu(t,e),h=s.createElement("script"),ge(h),Ce(h,"link",t),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(c,h))}}function Dm(t,e,s,r){var c=(c=ot.current)?Gl(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(e=ta(s.href),s=bi(c).hoistableStyles,r=s.get(e),r||(r={type:"style",instance:null,count:0,state:null},s.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=ta(s.href);var h=bi(c).hoistableStyles,_=h.get(t);if(_||(c=c.ownerDocument||c,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,_),(h=c.querySelector(fr(t)))&&!h._p&&(_.instance=h,_.state.loading=5),pn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},pn.set(t,s),h||Xv(c,t,s,_.state))),e&&r===null)throw Error(a(528,""));return _}if(e&&r!==null)throw Error(a(529,""));return null;case"script":return e=s.async,s=s.src,typeof s=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ea(s),s=bi(c).hoistableScripts,r=s.get(e),r||(r={type:"script",instance:null,count:0,state:null},s.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ta(t){return'href="'+ln(t)+'"'}function fr(t){return'link[rel="stylesheet"]['+t+"]"}function km(t){return g({},t,{"data-precedence":t.precedence,precedence:null})}function Xv(t,e,s,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Ce(e,"link",s),ge(e),t.head.appendChild(e))}function ea(t){return'[src="'+ln(t)+'"]'}function dr(t){return"script[async]"+t}function Rm(t,e,s){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+ln(s.href)+'"]');if(r)return e.instance=r,ge(r),r;var c=g({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),ge(r),Ce(r,"style",c),Xl(r,s.precedence,t),e.instance=r;case"stylesheet":c=ta(s.href);var h=t.querySelector(fr(c));if(h)return e.state.loading|=4,e.instance=h,ge(h),h;r=km(s),(c=pn.get(c))&&Gu(r,c),h=(t.ownerDocument||t).createElement("link"),ge(h);var _=h;return _._p=new Promise(function(T,O){_.onload=T,_.onerror=O}),Ce(h,"link",r),e.state.loading|=4,Xl(h,s.precedence,t),e.instance=h;case"script":return h=ea(s.src),(c=t.querySelector(dr(h)))?(e.instance=c,ge(c),c):(r=s,(c=pn.get(h))&&(r=g({},s),Xu(r,c)),t=t.ownerDocument||t,c=t.createElement("script"),ge(c),Ce(c,"link",r),t.head.appendChild(c),e.instance=c);case"void":return null;default:throw Error(a(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(r=e.instance,e.state.loading|=4,Xl(r,s.precedence,t));return e.instance}function Xl(t,e,s){for(var r=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,h=c,_=0;_<r.length;_++){var T=r[_];if(T.dataset.precedence===e)h=T;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(e=s.nodeType===9?s.head:s,e.insertBefore(t,e.firstChild))}function Gu(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Xu(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Il=null;function jm(t,e,s){if(Il===null){var r=new Map,c=Il=new Map;c.set(s,r)}else c=Il,r=c.get(s),r||(r=new Map,c.set(s,r));if(r.has(t))return r;for(r.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var h=s[c];if(!(h[Ca]||h[Ee]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var _=h.getAttribute(e)||"";_=t+_;var T=r.get(_);T?T.push(h):r.set(_,[h])}}return r}function zm(t,e,s){t=t.ownerDocument||t,t.head.insertBefore(s,e==="title"?t.querySelector("head > title"):null)}function Iv(t,e,s){if(s===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Vm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var pr=null;function Zv(){}function Qv(t,e,s){if(pr===null)throw Error(a(475));var r=pr;if(e.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var c=ta(s.href),h=t.querySelector(fr(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=Zl.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=h,ge(h);return}h=t.ownerDocument||t,s=km(s),(c=pn.get(c))&&Gu(s,c),h=h.createElement("link"),ge(h);var _=h;_._p=new Promise(function(T,O){_.onload=T,_.onerror=O}),Ce(h,"link",s),e.instance=h}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(r.count++,e=Zl.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function Fv(){if(pr===null)throw Error(a(475));var t=pr;return t.stylesheets&&t.count===0&&Iu(t,t.stylesheets),0<t.count?function(e){var s=setTimeout(function(){if(t.stylesheets&&Iu(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Zl(){if(this.count--,this.count===0){if(this.stylesheets)Iu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ql=null;function Iu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ql=new Map,e.forEach(Wv,t),Ql=null,Zl.call(t))}function Wv(t,e){if(!(e.state.loading&4)){var s=Ql.get(t);if(s)var r=s.get(null);else{s=new Map,Ql.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var _=c[h];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),r=_)}r&&s.set(null,r)}c=e.instance,_=c.getAttribute("data-precedence"),h=s.get(_)||r,h===r&&s.set(null,c),s.set(_,c),this.count++,r=Zl.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),e.state.loading|=4}}var mr={$$typeof:M,Provider:null,Consumer:null,_currentValue:tt,_currentValue2:tt,_threadCount:0};function Pv(t,e,s,r,c,h,_,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ho(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ho(0),this.hiddenUpdates=Ho(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function qm(t,e,s,r,c,h,_,T,O,L,W,K){return t=new Pv(t,e,s,_,T,O,L,K),e=1,h===!0&&(e|=24),h=Fe(3,null,null,e),t.current=h,h.stateNode=t,e=Cc(),e.refCount++,t.pooledCache=e,e.refCount++,h.memoizedState={element:r,isDehydrated:s,cache:e},Mc(h),t}function Um(t){return t?(t=ki,t):ki}function Bm(t,e,s,r,c,h){c=Um(c),r.context===null?r.context=c:r.pendingContext=c,r=ms(e),r.payload={element:s},h=h===void 0?null:h,h!==null&&(r.callback=h),s=gs(t,r,e),s!==null&&($e(s,t,e),Ia(s,t,e))}function Lm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<e?s:e}}function Zu(t,e){Lm(t,e),(t=t.alternate)&&Lm(t,e)}function Hm(t){if(t.tag===13){var e=Di(t,67108864);e!==null&&$e(e,t,67108864),Zu(t,67108864)}}var Fl=!0;function Kv(t,e,s,r){var c=j.T;j.T=null;var h=I.p;try{I.p=2,Qu(t,e,s,r)}finally{I.p=h,j.T=c}}function Jv(t,e,s,r){var c=j.T;j.T=null;var h=I.p;try{I.p=8,Qu(t,e,s,r)}finally{I.p=h,j.T=c}}function Qu(t,e,s,r){if(Fl){var c=Fu(r);if(c===null)ju(t,e,r,Wl,s),Gm(t,r);else if(ty(c,t,e,s,r))r.stopPropagation();else if(Gm(t,r),e&4&&-1<$v.indexOf(t)){for(;c!==null;){var h=yi(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var _=Is(h.pendingLanes);if(_!==0){var T=h;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var O=1<<31-Ze(_);T.entanglements[1]|=O,_&=~O}Rn(h),(zt&6)===0&&(kl=Ot()+500,or(0))}}break;case 13:T=Di(h,2),T!==null&&$e(T,h,2),jl(),Zu(h,2)}if(h=Fu(r),h===null&&ju(t,e,r,Wl,s),h===c)break;c=h}c!==null&&r.stopPropagation()}else ju(t,e,r,null,s)}}function Fu(t){return t=$o(t),Wu(t)}var Wl=null;function Wu(t){if(Wl=null,t=vi(t),t!==null){var e=u(t);if(e===null)t=null;else{var s=e.tag;if(s===13){if(t=p(e),t!==null)return t;t=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Wl=t,null}function Ym(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yt()){case _t:return 2;case Mt:return 8;case ne:case En:return 32;case cs:return 268435456;default:return 32}default:return 32}}var Pu=!1,Os=null,Ms=null,Ds=null,gr=new Map,_r=new Map,ks=[],$v="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gm(t,e){switch(t){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Ds=null;break;case"pointerover":case"pointerout":gr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_r.delete(e.pointerId)}}function vr(t,e,s,r,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:e,domEventName:s,eventSystemFlags:r,nativeEvent:h,targetContainers:[c]},e!==null&&(e=yi(e),e!==null&&Hm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,c!==null&&e.indexOf(c)===-1&&e.push(c),t)}function ty(t,e,s,r,c){switch(e){case"focusin":return Os=vr(Os,t,e,s,r,c),!0;case"dragenter":return Ms=vr(Ms,t,e,s,r,c),!0;case"mouseover":return Ds=vr(Ds,t,e,s,r,c),!0;case"pointerover":var h=c.pointerId;return gr.set(h,vr(gr.get(h)||null,t,e,s,r,c)),!0;case"gotpointercapture":return h=c.pointerId,_r.set(h,vr(_r.get(h)||null,t,e,s,r,c)),!0}return!1}function Xm(t){var e=vi(t.target);if(e!==null){var s=u(e);if(s!==null){if(e=s.tag,e===13){if(e=p(s),e!==null){t.blockedOn=e,Q_(t.priority,function(){if(s.tag===13){var r=Je();r=Yo(r);var c=Di(s,r);c!==null&&$e(c,s,r),Zu(s,r)}});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var s=Fu(t.nativeEvent);if(s===null){s=t.nativeEvent;var r=new s.constructor(s.type,s);Jo=r,s.target.dispatchEvent(r),Jo=null}else return e=yi(s),e!==null&&Hm(e),t.blockedOn=s,!1;e.shift()}return!0}function Im(t,e,s){Pl(t)&&s.delete(e)}function ey(){Pu=!1,Os!==null&&Pl(Os)&&(Os=null),Ms!==null&&Pl(Ms)&&(Ms=null),Ds!==null&&Pl(Ds)&&(Ds=null),gr.forEach(Im),_r.forEach(Im)}function Kl(t,e){t.blockedOn===e&&(t.blockedOn=null,Pu||(Pu=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,ey)))}var Jl=null;function Zm(t){Jl!==t&&(Jl=t,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Jl===t&&(Jl=null);for(var e=0;e<t.length;e+=3){var s=t[e],r=t[e+1],c=t[e+2];if(typeof r!="function"){if(Wu(r||s)===null)continue;break}var h=yi(s);h!==null&&(t.splice(e,3),e-=3,Wc(h,{pending:!0,data:c,method:s.method,action:r},r,c))}}))}function yr(t){function e(O){return Kl(O,t)}Os!==null&&Kl(Os,t),Ms!==null&&Kl(Ms,t),Ds!==null&&Kl(Ds,t),gr.forEach(e),_r.forEach(e);for(var s=0;s<ks.length;s++){var r=ks[s];r.blockedOn===t&&(r.blockedOn=null)}for(;0<ks.length&&(s=ks[0],s.blockedOn===null);)Xm(s),s.blockedOn===null&&ks.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(r=0;r<s.length;r+=3){var c=s[r],h=s[r+1],_=c[Be]||null;if(typeof h=="function")_||Zm(s);else if(_){var T=null;if(h&&h.hasAttribute("formAction")){if(c=h,_=h[Be]||null)T=_.formAction;else if(Wu(c)!==null)continue}else T=_.action;typeof T=="function"?s[r+1]=T:(s.splice(r,3),r-=3),Zm(s)}}}function Ku(t){this._internalRoot=t}$l.prototype.render=Ku.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(a(409));var s=e.current,r=Je();Bm(s,r,t,e,null,null)},$l.prototype.unmount=Ku.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bm(t.current,2,null,t,null,null),jl(),e[_i]=null}};function $l(t){this._internalRoot=t}$l.prototype.unstable_scheduleHydration=function(t){if(t){var e=cf();t={blockedOn:null,target:t,priority:e};for(var s=0;s<ks.length&&e!==0&&e<ks[s].priority;s++);ks.splice(s,0,t),s===0&&Xm(t)}};var Qm=n.version;if(Qm!=="19.1.0")throw Error(a(527,Qm,"19.1.0"));I.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=m(e),t=t!==null?d(t):null,t=t===null?null:t.stateNode,t};var ny={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var to=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!to.isDisabled&&to.supportsFiber)try{Xs=to.inject(ny),Ie=to}catch{}}return Sr.createRoot=function(t,e){if(!o(t))throw Error(a(299));var s=!1,r="",c=cp,h=up,_=hp,T=null;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(c=e.onUncaughtError),e.onCaughtError!==void 0&&(h=e.onCaughtError),e.onRecoverableError!==void 0&&(_=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(T=e.unstable_transitionCallbacks)),e=qm(t,1,!1,null,null,s,r,c,h,_,T,null),t[_i]=e.current,Ru(t),new Ku(e)},Sr.hydrateRoot=function(t,e,s){if(!o(t))throw Error(a(299));var r=!1,c="",h=cp,_=up,T=hp,O=null,L=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(O=s.unstable_transitionCallbacks),s.formState!==void 0&&(L=s.formState)),e=qm(t,1,!0,e,s??null,r,c,h,_,T,O,L),e.context=Um(null),s=e.current,r=Je(),r=Yo(r),c=ms(r),c.callback=null,gs(s,c,r),s=r,e.current.lanes=s,Aa(e,s),Rn(e),t[_i]=e.current,Ru(t),new $l(e)},Sr.version="19.1.0",Sr}var sg;function fy(){if(sg)return th.exports;sg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),th.exports=hy(),th.exports}var dy=fy();const Ng=ut.createContext(null),Eg=()=>{const l=ut.useContext(Ng);if(!l)throw new Error("AppContext must be used within AppProvider");return l},py=({children:l})=>{const[n,i]=ut.useState("rhythm");return w.jsx(Ng.Provider,{value:{mode:n,setMode:i},children:l})},Og="15.1.22",ig=(l,n,i)=>({endTime:n,insertTime:i,type:"exponentialRampToValue",value:l}),ag=(l,n,i)=>({endTime:n,insertTime:i,type:"linearRampToValue",value:l}),lh=(l,n)=>({startTime:n,type:"setValue",value:l}),Mg=(l,n,i)=>({duration:i,startTime:n,type:"setValueCurve",values:l}),Dg=(l,n,{startTime:i,target:a,timeConstant:o})=>a+(n-a)*Math.exp((i-l)/o),sa=l=>l.type==="exponentialRampToValue",co=l=>l.type==="linearRampToValue",zs=l=>sa(l)||co(l),yh=l=>l.type==="setValue",es=l=>l.type==="setValueCurve",uo=(l,n,i,a)=>{const o=l[n];return o===void 0?a:zs(o)||yh(o)?o.value:es(o)?o.values[o.values.length-1]:Dg(i,uo(l,n-1,o.startTime,a),o)},rg=(l,n,i,a,o)=>i===void 0?[a.insertTime,o]:zs(i)?[i.endTime,i.value]:yh(i)?[i.startTime,i.value]:es(i)?[i.startTime+i.duration,i.values[i.values.length-1]]:[i.startTime,uo(l,n-1,i.startTime,o)],oh=l=>l.type==="cancelAndHold",ch=l=>l.type==="cancelScheduledValues",js=l=>oh(l)||ch(l)?l.cancelTime:sa(l)||co(l)?l.endTime:l.startTime,lg=(l,n,i,{endTime:a,value:o})=>i===o?o:0<i&&0<o||i<0&&o<0?i*(o/i)**((l-n)/(a-n)):0,og=(l,n,i,{endTime:a,value:o})=>i+(l-n)/(a-n)*(o-i),my=(l,n)=>{const i=Math.floor(n),a=Math.ceil(n);return i===a?l[i]:(1-(n-i))*l[i]+(1-(a-n))*l[a]},gy=(l,{duration:n,startTime:i,values:a})=>{const o=(l-i)/n*(a.length-1);return my(a,o)},eo=l=>l.type==="setTarget";class _y{constructor(n){this._automationEvents=[],this._currenTime=0,this._defaultValue=n}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(n){const i=js(n);if(oh(n)||ch(n)){const a=this._automationEvents.findIndex(u=>ch(n)&&es(u)?u.startTime+u.duration>=i:js(u)>=i),o=this._automationEvents[a];if(a!==-1&&(this._automationEvents=this._automationEvents.slice(0,a)),oh(n)){const u=this._automationEvents[this._automationEvents.length-1];if(o!==void 0&&zs(o)){if(u!==void 0&&eo(u))throw new Error("The internal list is malformed.");const p=u===void 0?o.insertTime:es(u)?u.startTime+u.duration:js(u),f=u===void 0?this._defaultValue:es(u)?u.values[u.values.length-1]:u.value,m=sa(o)?lg(i,p,f,o):og(i,p,f,o),d=sa(o)?ig(m,i,this._currenTime):ag(m,i,this._currenTime);this._automationEvents.push(d)}if(u!==void 0&&eo(u)&&this._automationEvents.push(lh(this.getValue(i),i)),u!==void 0&&es(u)&&u.startTime+u.duration>i){const p=i-u.startTime,f=(u.values.length-1)/u.duration,m=Math.max(2,1+Math.ceil(p*f)),d=p/(m-1)*f,g=u.values.slice(0,m);if(d<1)for(let v=1;v<m;v+=1){const b=d*v%1;g[v]=u.values[v-1]*(1-b)+u.values[v]*b}this._automationEvents[this._automationEvents.length-1]=Mg(g,u.startTime,p)}}}else{const a=this._automationEvents.findIndex(p=>js(p)>i),o=a===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[a-1];if(o!==void 0&&es(o)&&js(o)+o.duration>i)return!1;const u=sa(n)?ig(n.value,n.endTime,this._currenTime):co(n)?ag(n.value,i,this._currenTime):n;if(a===-1)this._automationEvents.push(u);else{if(es(n)&&i+n.duration>js(this._automationEvents[a]))return!1;this._automationEvents.splice(a,0,u)}}return!0}flush(n){const i=this._automationEvents.findIndex(a=>js(a)>n);if(i>1){const a=this._automationEvents.slice(i-1),o=a[0];eo(o)&&a.unshift(lh(uo(this._automationEvents,i-2,o.startTime,this._defaultValue),o.startTime)),this._automationEvents=a}}getValue(n){if(this._automationEvents.length===0)return this._defaultValue;const i=this._automationEvents.findIndex(p=>js(p)>n),a=this._automationEvents[i],o=(i===-1?this._automationEvents.length:i)-1,u=this._automationEvents[o];if(u!==void 0&&eo(u)&&(a===void 0||!zs(a)||a.insertTime>n))return Dg(n,uo(this._automationEvents,o-1,u.startTime,this._defaultValue),u);if(u!==void 0&&yh(u)&&(a===void 0||!zs(a)))return u.value;if(u!==void 0&&es(u)&&(a===void 0||!zs(a)||u.startTime+u.duration>n))return n<u.startTime+u.duration?gy(n,u):u.values[u.values.length-1];if(u!==void 0&&zs(u)&&(a===void 0||!zs(a)))return u.value;if(a!==void 0&&sa(a)){const[p,f]=rg(this._automationEvents,o,u,a,this._defaultValue);return lg(n,p,f,a)}if(a!==void 0&&co(a)){const[p,f]=rg(this._automationEvents,o,u,a,this._defaultValue);return og(n,p,f,a)}return this._defaultValue}}const vy=l=>({cancelTime:l,type:"cancelAndHold"}),yy=l=>({cancelTime:l,type:"cancelScheduledValues"}),by=(l,n)=>({endTime:n,type:"exponentialRampToValue",value:l}),Sy=(l,n)=>({endTime:n,type:"linearRampToValue",value:l}),Ty=(l,n,i)=>({startTime:n,target:l,timeConstant:i,type:"setTarget"}),xy=()=>new DOMException("","AbortError"),wy=l=>(n,i,[a,o,u],p)=>{l(n[o],[i,a,u],f=>f[0]===i&&f[1]===a,p)},Ay=l=>(n,i,a)=>{const o=[];for(let u=0;u<a.numberOfInputs;u+=1)o.push(new Set);l.set(n,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:i})},Cy=l=>(n,i)=>{l.set(n,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:i})},oa=new WeakSet,kg=new WeakMap,bh=new WeakMap,Rg=new WeakMap,Sh=new WeakMap,To=new WeakMap,jg=new WeakMap,uh=new WeakMap,hh=new WeakMap,fh=new WeakMap,zg={construct(){return zg}},Ny=l=>{try{const n=new Proxy(l,zg);new n}catch{return!1}return!0},cg=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,ug=(l,n)=>{const i=[];let a=l.replace(/^[\s]+/,""),o=a.match(cg);for(;o!==null;){const u=o[1].slice(1,-1),p=o[0].replace(/([\s]+)?;?$/,"").replace(u,new URL(u,n).toString());i.push(p),a=a.slice(o[0].length).replace(/^[\s]+/,""),o=a.match(cg)}return[i.join(";"),a]},hg=l=>{if(l!==void 0&&!Array.isArray(l))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},fg=l=>{if(!Ny(l))throw new TypeError("The given value for processorCtor should be a constructor.");if(l.prototype===null||typeof l.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},Ey=(l,n,i,a,o,u,p,f,m,d,g,v,b)=>{let y=0;return(S,x,A={credentials:"omit"})=>{const E=g.get(S);if(E!==void 0&&E.has(x))return Promise.resolve();const D=d.get(S);if(D!==void 0){const C=D.get(x);if(C!==void 0)return C}const M=u(S),U=M.audioWorklet===void 0?o(x).then(([C,R])=>{const[V,k]=ug(C,R),Q=`${V};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${k}
})})(window,'_AWGS')`;return i(Q)}).then(()=>{const C=b._AWGS.pop();if(C===void 0)throw new SyntaxError;a(M.currentTime,M.sampleRate,()=>C(class{},void 0,(R,V)=>{if(R.trim()==="")throw n();const k=hh.get(M);if(k!==void 0){if(k.has(R))throw n();fg(V),hg(V.parameterDescriptors),k.set(R,V)}else fg(V),hg(V.parameterDescriptors),hh.set(M,new Map([[R,V]]))},M.sampleRate,void 0,void 0))}):Promise.all([o(x),Promise.resolve(l(v,v))]).then(([[C,R],V])=>{const k=y+1;y=k;const[Q,F]=ug(C,R),et=`${Q};((AudioWorkletProcessor,registerProcessor)=>{${F}
})(${V?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${V?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${V?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${k}',class extends AudioWorkletProcessor{process(){return !1}})`,it=new Blob([et],{type:"application/javascript; charset=utf-8"}),j=URL.createObjectURL(it);return M.audioWorklet.addModule(j,A).then(()=>{if(f(M))return M;const I=p(M);return I.audioWorklet.addModule(j,A).then(()=>I)}).then(I=>{if(m===null)throw new SyntaxError;try{new m(I,`__sac${k}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(j))});return D===void 0?d.set(S,new Map([[x,U]])):D.set(x,U),U.then(()=>{const C=g.get(S);C===void 0?g.set(S,new Set([x])):C.add(x)}).finally(()=>{const C=d.get(S);C!==void 0&&C.delete(x)}),U}},wn=(l,n)=>{const i=l.get(n);if(i===void 0)throw new Error("A value with the given key could not be found.");return i},xo=(l,n)=>{const i=Array.from(l).filter(n);if(i.length>1)throw Error("More than one element was found.");if(i.length===0)throw Error("No element was found.");const[a]=i;return l.delete(a),a},Vg=(l,n,i,a)=>{const o=wn(l,n),u=xo(o,p=>p[0]===i&&p[1]===a);return o.size===0&&l.delete(n),u},Or=l=>wn(jg,l),ca=l=>{if(oa.has(l))throw new Error("The AudioNode is already stored.");oa.add(l),Or(l).forEach(n=>n(!0))},qg=l=>"port"in l,Mr=l=>{if(!oa.has(l))throw new Error("The AudioNode is not stored.");oa.delete(l),Or(l).forEach(n=>n(!1))},dh=(l,n)=>{!qg(l)&&n.every(i=>i.size===0)&&Mr(l)},Oy=(l,n,i,a,o,u,p,f,m,d,g,v,b)=>{const y=new WeakMap;return(S,x,A,E,D)=>{const{activeInputs:M,passiveInputs:U}=u(x),{outputs:C}=u(S),R=f(S),V=k=>{const Q=m(x),F=m(S);if(k){const Z=Vg(U,S,A,E);l(M,S,Z,!1),!D&&!v(S)&&i(F,Q,A,E),b(x)&&ca(x)}else{const Z=a(M,S,A,E);n(U,E,Z,!1),!D&&!v(S)&&o(F,Q,A,E);const X=p(x);if(X===0)g(x)&&dh(x,M);else{const nt=y.get(x);nt!==void 0&&clearTimeout(nt),y.set(x,setTimeout(()=>{g(x)&&dh(x,M)},X*1e3))}}};return d(C,[x,A,E],k=>k[0]===x&&k[1]===A&&k[2]===E,!0)?(R.add(V),g(S)?l(M,S,[A,E,V],!0):n(U,E,[S,A,V],!0),!0):!1}},My=l=>(n,i,[a,o,u],p)=>{const f=n.get(a);f===void 0?n.set(a,new Set([[o,i,u]])):l(f,[o,i,u],m=>m[0]===o&&m[1]===i,p)},Dy=l=>(n,i)=>{const a=l(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.connect(a).connect(n.destination);const o=()=>{i.removeEventListener("ended",o),i.disconnect(a),a.disconnect()};i.addEventListener("ended",o)},ky=l=>(n,i)=>{l(n).add(i)},Ry={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},jy=(l,n,i,a,o,u)=>class extends l{constructor(f,m){const d=o(f),g={...Ry,...m},v=a(d,g),b=u(d)?n():null;super(f,!1,v,b),this._nativeAnalyserNode=v}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(f){this._nativeAnalyserNode.fftSize=f}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(f){const m=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=f,!(f>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=m,i()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(f){const m=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=f,!(this._nativeAnalyserNode.maxDecibels>f))throw this._nativeAnalyserNode.minDecibels=m,i()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(f){this._nativeAnalyserNode.smoothingTimeConstant=f}getByteFrequencyData(f){this._nativeAnalyserNode.getByteFrequencyData(f)}getByteTimeDomainData(f){this._nativeAnalyserNode.getByteTimeDomainData(f)}getFloatFrequencyData(f){this._nativeAnalyserNode.getFloatFrequencyData(f)}getFloatTimeDomainData(f){this._nativeAnalyserNode.getFloatTimeDomainData(f)}},ke=(l,n)=>l.context===n,zy=(l,n,i)=>()=>{const a=new WeakMap,o=async(u,p)=>{let f=n(u);if(!ke(f,p)){const d={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,fftSize:f.fftSize,maxDecibels:f.maxDecibels,minDecibels:f.minDecibels,smoothingTimeConstant:f.smoothingTimeConstant};f=l(p,d)}return a.set(p,f),await i(u,p,f),f};return{render(u,p){const f=a.get(p);return f!==void 0?Promise.resolve(f):o(u,p)}}},ho=l=>{try{l.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Vn=()=>new DOMException("","IndexSizeError"),Th=l=>{l.getChannelData=(n=>i=>{try{return n.call(l,i)}catch(a){throw a.code===12?Vn():a}})(l.getChannelData)},Vy={numberOfChannels:1},qy=(l,n,i,a,o,u,p,f)=>{let m=null;return class Ug{constructor(g){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:v,numberOfChannels:b,sampleRate:y}={...Vy,...g};m===null&&(m=new o(1,1,44100));const S=a!==null&&n(u,u)?new a({length:v,numberOfChannels:b,sampleRate:y}):m.createBuffer(b,v,y);if(S.numberOfChannels===0)throw i();return typeof S.copyFromChannel!="function"?(p(S),Th(S)):n(ho,()=>ho(S))||f(S),l.add(S),S}static[Symbol.hasInstance](g){return g!==null&&typeof g=="object"&&Object.getPrototypeOf(g)===Ug.prototype||l.has(g)}}},tn=-34028234663852886e22,ze=34028234663852886e22,ns=l=>oa.has(l),Uy={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},By=(l,n,i,a,o,u,p,f)=>class extends l{constructor(d,g){const v=u(d),b={...Uy,...g},y=o(v,b),S=p(v),x=S?n():null;super(d,!1,y,x),this._audioBufferSourceNodeRenderer=x,this._isBufferNullified=!1,this._isBufferSet=b.buffer!==null,this._nativeAudioBufferSourceNode=y,this._onended=null,this._playbackRate=i(this,S,y.playbackRate,ze,tn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(d){if(this._nativeAudioBufferSourceNode.buffer=d,d!==null){if(this._isBufferSet)throw a();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(d){this._nativeAudioBufferSourceNode.loop=d}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(d){this._nativeAudioBufferSourceNode.loopEnd=d}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(d){this._nativeAudioBufferSourceNode.loopStart=d}get onended(){return this._onended}set onended(d){const g=typeof d=="function"?f(this,d):null;this._nativeAudioBufferSourceNode.onended=g;const v=this._nativeAudioBufferSourceNode.onended;this._onended=v!==null&&v===g?d:v}get playbackRate(){return this._playbackRate}start(d=0,g=0,v){if(this._nativeAudioBufferSourceNode.start(d,g,v),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=v===void 0?[d,g]:[d,g,v]),this.context.state!=="closed"){ca(this);const b=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",b),ns(this)&&Mr(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",b)}}stop(d=0){this._nativeAudioBufferSourceNode.stop(d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=d)}},Ly=(l,n,i,a,o)=>()=>{const u=new WeakMap;let p=null,f=null;const m=async(d,g)=>{let v=i(d);const b=ke(v,g);if(!b){const y={buffer:v.buffer,channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,loop:v.loop,loopEnd:v.loopEnd,loopStart:v.loopStart,playbackRate:v.playbackRate.value};v=n(g,y),p!==null&&v.start(...p),f!==null&&v.stop(f)}return u.set(g,v),b?await l(g,d.playbackRate,v.playbackRate):await a(g,d.playbackRate,v.playbackRate),await o(d,g,v),v};return{set start(d){p=d},set stop(d){f=d},render(d,g){const v=u.get(g);return v!==void 0?Promise.resolve(v):m(d,g)}}},Hy=l=>"playbackRate"in l,Yy=l=>"frequency"in l&&"gain"in l,Gy=l=>"offset"in l,Xy=l=>!("frequency"in l)&&"gain"in l,Iy=l=>"detune"in l&&"frequency"in l&&!("gain"in l),Zy=l=>"pan"in l,Ve=l=>wn(kg,l),Dr=l=>wn(Rg,l),ph=(l,n)=>{const{activeInputs:i}=Ve(l);i.forEach(o=>o.forEach(([u])=>{n.includes(l)||ph(u,[...n,l])}));const a=Hy(l)?[l.playbackRate]:qg(l)?Array.from(l.parameters.values()):Yy(l)?[l.Q,l.detune,l.frequency,l.gain]:Gy(l)?[l.offset]:Xy(l)?[l.gain]:Iy(l)?[l.detune,l.frequency]:Zy(l)?[l.pan]:[];for(const o of a){const u=Dr(o);u!==void 0&&u.activeInputs.forEach(([p])=>ph(p,n))}ns(l)&&Mr(l)},Bg=l=>{ph(l.destination,[])},Qy=l=>l===void 0||typeof l=="number"||typeof l=="string"&&(l==="balanced"||l==="interactive"||l==="playback"),Fy=(l,n,i,a,o,u,p,f,m)=>class extends l{constructor(g={}){if(m===null)throw new Error("Missing the native AudioContext constructor.");let v;try{v=new m(g)}catch(S){throw S.code===12&&S.message==="sampleRate is not in range"?i():S}if(v===null)throw a();if(!Qy(g.latencyHint))throw new TypeError(`The provided value '${g.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(g.sampleRate!==void 0&&v.sampleRate!==g.sampleRate)throw i();super(v,2);const{latencyHint:b}=g,{sampleRate:y}=v;if(this._baseLatency=typeof v.baseLatency=="number"?v.baseLatency:b==="balanced"?512/y:b==="interactive"||b===void 0?256/y:b==="playback"?1024/y:Math.max(2,Math.min(128,Math.round(b*y/128)))*128/y,this._nativeAudioContext=v,m.name==="webkitAudioContext"?(this._nativeGainNode=v.createGain(),this._nativeOscillatorNode=v.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(v.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,v.state==="running"){this._state="suspended";const S=()=>{this._state==="suspended"&&(this._state=null),v.removeEventListener("statechange",S)};v.addEventListener("statechange",S)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw n()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Bg(this)}))}createMediaElementSource(g){return new o(this,{mediaElement:g})}createMediaStreamDestination(){return new u(this)}createMediaStreamSource(g){return new p(this,{mediaStream:g})}createMediaStreamTrackSource(g){return new f(this,{mediaStreamTrack:g})}resume(){return this._state==="suspended"?new Promise((g,v)=>{const b=()=>{this._nativeAudioContext.removeEventListener("statechange",b),this._nativeAudioContext.state==="running"?g():this.resume().then(g,v)};this._nativeAudioContext.addEventListener("statechange",b)}):this._nativeAudioContext.resume().catch(g=>{throw g===void 0||g.code===15?n():g})}suspend(){return this._nativeAudioContext.suspend().catch(g=>{throw g===void 0?n():g})}},Wy=(l,n,i,a,o,u,p,f)=>class extends l{constructor(d,g){const v=u(d),b=p(v),y=o(v,g,b),S=b?n(f):null;super(d,!1,y,S),this._isNodeOfNativeOfflineAudioContext=b,this._nativeAudioDestinationNode=y}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(d){if(this._isNodeOfNativeOfflineAudioContext)throw a();if(d>this._nativeAudioDestinationNode.maxChannelCount)throw i();this._nativeAudioDestinationNode.channelCount=d}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(d){if(this._isNodeOfNativeOfflineAudioContext)throw a();this._nativeAudioDestinationNode.channelCountMode=d}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},Py=l=>{const n=new WeakMap,i=async(a,o)=>{const u=o.destination;return n.set(o,u),await l(a,o,u),u};return{render(a,o){const u=n.get(o);return u!==void 0?Promise.resolve(u):i(a,o)}}},Ky=(l,n,i,a,o,u,p,f)=>(m,d)=>{const g=d.listener,v=()=>{const C=new Float32Array(1),R=n(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),V=p(d);let k=!1,Q=[0,0,-1,0,1,0],F=[0,0,0];const Z=()=>{if(k)return;k=!0;const it=a(d,256,9,0);it.onaudioprocess=({inputBuffer:j})=>{const I=[u(j,C,0),u(j,C,1),u(j,C,2),u(j,C,3),u(j,C,4),u(j,C,5)];I.some((st,N)=>st!==Q[N])&&(g.setOrientation(...I),Q=I);const tt=[u(j,C,6),u(j,C,7),u(j,C,8)];tt.some((st,N)=>st!==F[N])&&(g.setPosition(...tt),F=tt)},R.connect(it)},X=it=>j=>{j!==Q[it]&&(Q[it]=j,g.setOrientation(...Q))},nt=it=>j=>{j!==F[it]&&(F[it]=j,g.setPosition(...F))},et=(it,j,I)=>{const tt=i(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:j});tt.connect(R,0,it),tt.start(),Object.defineProperty(tt.offset,"defaultValue",{get(){return j}});const st=l({context:m},V,tt.offset,ze,tn);return f(st,"value",N=>()=>N.call(st),N=>H=>{try{N.call(st,H)}catch($){if($.code!==9)throw $}Z(),V&&I(H)}),st.cancelAndHoldAtTime=(N=>V?()=>{throw o()}:(...H)=>{const $=N.apply(st,H);return Z(),$})(st.cancelAndHoldAtTime),st.cancelScheduledValues=(N=>V?()=>{throw o()}:(...H)=>{const $=N.apply(st,H);return Z(),$})(st.cancelScheduledValues),st.exponentialRampToValueAtTime=(N=>V?()=>{throw o()}:(...H)=>{const $=N.apply(st,H);return Z(),$})(st.exponentialRampToValueAtTime),st.linearRampToValueAtTime=(N=>V?()=>{throw o()}:(...H)=>{const $=N.apply(st,H);return Z(),$})(st.linearRampToValueAtTime),st.setTargetAtTime=(N=>V?()=>{throw o()}:(...H)=>{const $=N.apply(st,H);return Z(),$})(st.setTargetAtTime),st.setValueAtTime=(N=>V?()=>{throw o()}:(...H)=>{const $=N.apply(st,H);return Z(),$})(st.setValueAtTime),st.setValueCurveAtTime=(N=>V?()=>{throw o()}:(...H)=>{const $=N.apply(st,H);return Z(),$})(st.setValueCurveAtTime),st};return{forwardX:et(0,0,X(0)),forwardY:et(1,0,X(1)),forwardZ:et(2,-1,X(2)),positionX:et(6,0,nt(0)),positionY:et(7,0,nt(1)),positionZ:et(8,0,nt(2)),upX:et(3,0,X(3)),upY:et(4,1,X(4)),upZ:et(5,0,X(5))}},{forwardX:b,forwardY:y,forwardZ:S,positionX:x,positionY:A,positionZ:E,upX:D,upY:M,upZ:U}=g.forwardX===void 0?v():g;return{get forwardX(){return b},get forwardY(){return y},get forwardZ(){return S},get positionX(){return x},get positionY(){return A},get positionZ(){return E},get upX(){return D},get upY(){return M},get upZ(){return U}}},fo=l=>"context"in l,kr=l=>fo(l[0]),pi=(l,n,i,a)=>{for(const o of l)if(i(o)){if(a)return!1;throw Error("The set contains at least one similar element.")}return l.add(n),!0},dg=(l,n,[i,a],o)=>{pi(l,[n,i,a],u=>u[0]===n&&u[1]===i,o)},pg=(l,[n,i,a],o)=>{const u=l.get(n);u===void 0?l.set(n,new Set([[i,a]])):pi(u,[i,a],p=>p[0]===i,o)},ga=l=>"inputs"in l,po=(l,n,i,a)=>{if(ga(n)){const o=n.inputs[a];return l.connect(o,i,0),[o,i,0]}return l.connect(n,i,a),[n,i,a]},Lg=(l,n,i)=>{for(const a of l)if(a[0]===n&&a[1]===i)return l.delete(a),a;return null},Jy=(l,n,i)=>xo(l,a=>a[0]===n&&a[1]===i),Hg=(l,n)=>{if(!Or(l).delete(n))throw new Error("Missing the expected event listener.")},Yg=(l,n,i)=>{const a=wn(l,n),o=xo(a,u=>u[0]===i);return a.size===0&&l.delete(n),o},mo=(l,n,i,a)=>{ga(n)?l.disconnect(n.inputs[a],i,0):l.disconnect(n,i,a)},It=l=>wn(bh,l),Tr=l=>wn(Sh,l),fi=l=>uh.has(l),ro=l=>!oa.has(l),mg=(l,n)=>new Promise(i=>{if(n!==null)i(!0);else{const a=l.createScriptProcessor(256,1,1),o=l.createGain(),u=l.createBuffer(1,2,44100),p=u.getChannelData(0);p[0]=1,p[1]=1;const f=l.createBufferSource();f.buffer=u,f.loop=!0,f.connect(a).connect(l.destination),f.connect(o),f.disconnect(o),a.onaudioprocess=m=>{const d=m.inputBuffer.getChannelData(0);Array.prototype.some.call(d,g=>g===1)?i(!0):i(!1),f.stop(),a.onaudioprocess=null,f.disconnect(a),a.disconnect(l.destination)},f.start()}}),ih=(l,n)=>{const i=new Map;for(const a of l)for(const o of a){const u=i.get(o);i.set(o,u===void 0?1:u+1)}i.forEach((a,o)=>n(o,a))},go=l=>"context"in l,$y=l=>{const n=new Map;l.connect=(i=>(a,o=0,u=0)=>{const p=go(a)?i(a,o,u):i(a,o),f=n.get(a);return f===void 0?n.set(a,[{input:u,output:o}]):f.every(m=>m.input!==u||m.output!==o)&&f.push({input:u,output:o}),p})(l.connect.bind(l)),l.disconnect=(i=>(a,o,u)=>{if(i.apply(l),a===void 0)n.clear();else if(typeof a=="number")for(const[p,f]of n){const m=f.filter(d=>d.output!==a);m.length===0?n.delete(p):n.set(p,m)}else if(n.has(a))if(o===void 0)n.delete(a);else{const p=n.get(a);if(p!==void 0){const f=p.filter(m=>m.output!==o&&(m.input!==u||u===void 0));f.length===0?n.delete(a):n.set(a,f)}}for(const[p,f]of n)f.forEach(m=>{go(p)?l.connect(p,m.output,m.input):l.connect(p,m.output)})})(l.disconnect)},tb=(l,n,i,a)=>{const{activeInputs:o,passiveInputs:u}=Dr(n),{outputs:p}=Ve(l),f=Or(l),m=d=>{const g=It(l),v=Tr(n);if(d){const b=Yg(u,l,i);dg(o,l,b,!1),!a&&!fi(l)&&g.connect(v,i)}else{const b=Jy(o,l,i);pg(u,b,!1),!a&&!fi(l)&&g.disconnect(v,i)}};return pi(p,[n,i],d=>d[0]===n&&d[1]===i,!0)?(f.add(m),ns(l)?dg(o,l,[i,m],!0):pg(u,[l,i,m],!0),!0):!1},eb=(l,n,i,a)=>{const{activeInputs:o,passiveInputs:u}=Ve(n),p=Lg(o[a],l,i);return p===null?[Vg(u,l,i,a)[2],!1]:[p[2],!0]},nb=(l,n,i)=>{const{activeInputs:a,passiveInputs:o}=Dr(n),u=Lg(a,l,i);return u===null?[Yg(o,l,i)[1],!1]:[u[2],!0]},xh=(l,n,i,a,o)=>{const[u,p]=eb(l,i,a,o);if(u!==null&&(Hg(l,u),p&&!n&&!fi(l)&&mo(It(l),It(i),a,o)),ns(i)){const{activeInputs:f}=Ve(i);dh(i,f)}},wh=(l,n,i,a)=>{const[o,u]=nb(l,i,a);o!==null&&(Hg(l,o),u&&!n&&!fi(l)&&It(l).disconnect(Tr(i),a))},sb=(l,n)=>{const i=Ve(l),a=[];for(const o of i.outputs)kr(o)?xh(l,n,...o):wh(l,n,...o),a.push(o[0]);return i.outputs.clear(),a},ib=(l,n,i)=>{const a=Ve(l),o=[];for(const u of a.outputs)u[1]===i&&(kr(u)?xh(l,n,...u):wh(l,n,...u),o.push(u[0]),a.outputs.delete(u));return o},ab=(l,n,i,a,o)=>{const u=Ve(l);return Array.from(u.outputs).filter(p=>p[0]===i&&(a===void 0||p[1]===a)&&(o===void 0||p[2]===o)).map(p=>(kr(p)?xh(l,n,...p):wh(l,n,...p),u.outputs.delete(p),p[0]))},rb=(l,n,i,a,o,u,p,f,m,d,g,v,b,y,S,x)=>class extends d{constructor(E,D,M,U){super(M),this._context=E,this._nativeAudioNode=M;const C=g(E);v(C)&&i(mg,()=>mg(C,x))!==!0&&$y(M),bh.set(this,M),jg.set(this,new Set),E.state!=="closed"&&D&&ca(this),l(this,U,M)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(E){this._nativeAudioNode.channelCount=E}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(E){this._nativeAudioNode.channelCountMode=E}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(E){this._nativeAudioNode.channelInterpretation=E}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(E,D=0,M=0){if(D<0||D>=this._nativeAudioNode.numberOfOutputs)throw o();const U=g(this._context),C=S(U);if(b(E)||y(E))throw u();if(fo(E)){const k=It(E);try{const F=po(this._nativeAudioNode,k,D,M),Z=ro(this);(C||Z)&&this._nativeAudioNode.disconnect(...F),this.context.state!=="closed"&&!Z&&ro(E)&&ca(E)}catch(F){throw F.code===12?u():F}if(n(this,E,D,M,C)){const F=m([this],E);ih(F,a(C))}return E}const R=Tr(E);if(R.name==="playbackRate"&&R.maxValue===1024)throw p();try{this._nativeAudioNode.connect(R,D),(C||ro(this))&&this._nativeAudioNode.disconnect(R,D)}catch(k){throw k.code===12?u():k}if(tb(this,E,D,C)){const k=m([this],E);ih(k,a(C))}}disconnect(E,D,M){let U;const C=g(this._context),R=S(C);if(E===void 0)U=sb(this,R);else if(typeof E=="number"){if(E<0||E>=this.numberOfOutputs)throw o();U=ib(this,R,E)}else{if(D!==void 0&&(D<0||D>=this.numberOfOutputs)||fo(E)&&M!==void 0&&(M<0||M>=E.numberOfInputs))throw o();if(U=ab(this,R,E,D,M),U.length===0)throw u()}for(const V of U){const k=m([this],V);ih(k,f)}}},lb=(l,n,i,a,o,u,p,f,m,d,g,v,b)=>(y,S,x,A=null,E=null)=>{const D=x.value,M=new _y(D),U=S?a(M):null,C={get defaultValue(){return D},get maxValue(){return A===null?x.maxValue:A},get minValue(){return E===null?x.minValue:E},get value(){return x.value},set value(R){x.value=R,C.setValueAtTime(R,y.context.currentTime)},cancelAndHoldAtTime(R){if(typeof x.cancelAndHoldAtTime=="function")U===null&&M.flush(y.context.currentTime),M.add(o(R)),x.cancelAndHoldAtTime(R);else{const V=Array.from(M).pop();U===null&&M.flush(y.context.currentTime),M.add(o(R));const k=Array.from(M).pop();x.cancelScheduledValues(R),V!==k&&k!==void 0&&(k.type==="exponentialRampToValue"?x.exponentialRampToValueAtTime(k.value,k.endTime):k.type==="linearRampToValue"?x.linearRampToValueAtTime(k.value,k.endTime):k.type==="setValue"?x.setValueAtTime(k.value,k.startTime):k.type==="setValueCurve"&&x.setValueCurveAtTime(k.values,k.startTime,k.duration))}return C},cancelScheduledValues(R){return U===null&&M.flush(y.context.currentTime),M.add(u(R)),x.cancelScheduledValues(R),C},exponentialRampToValueAtTime(R,V){if(R===0)throw new RangeError;if(!Number.isFinite(V)||V<0)throw new RangeError;const k=y.context.currentTime;return U===null&&M.flush(k),Array.from(M).length===0&&(M.add(d(D,k)),x.setValueAtTime(D,k)),M.add(p(R,V)),x.exponentialRampToValueAtTime(R,V),C},linearRampToValueAtTime(R,V){const k=y.context.currentTime;return U===null&&M.flush(k),Array.from(M).length===0&&(M.add(d(D,k)),x.setValueAtTime(D,k)),M.add(f(R,V)),x.linearRampToValueAtTime(R,V),C},setTargetAtTime(R,V,k){return U===null&&M.flush(y.context.currentTime),M.add(m(R,V,k)),x.setTargetAtTime(R,V,k),C},setValueAtTime(R,V){return U===null&&M.flush(y.context.currentTime),M.add(d(R,V)),x.setValueAtTime(R,V),C},setValueCurveAtTime(R,V,k){const Q=R instanceof Float32Array?R:new Float32Array(R);if(v!==null&&v.name==="webkitAudioContext"){const F=V+k,Z=y.context.sampleRate,X=Math.ceil(V*Z),nt=Math.floor(F*Z),et=nt-X,it=new Float32Array(et);for(let I=0;I<et;I+=1){const tt=(Q.length-1)/k*((X+I)/Z-V),st=Math.floor(tt),N=Math.ceil(tt);it[I]=st===N?Q[st]:(1-(tt-st))*Q[st]+(1-(N-tt))*Q[N]}U===null&&M.flush(y.context.currentTime),M.add(g(it,V,k)),x.setValueCurveAtTime(it,V,k);const j=nt/Z;j<F&&b(C,it[it.length-1],j),b(C,Q[Q.length-1],F)}else U===null&&M.flush(y.context.currentTime),M.add(g(Q,V,k)),x.setValueCurveAtTime(Q,V,k);return C}};return i.set(C,x),n.set(C,y),l(C,U),C},ob=l=>({replay(n){for(const i of l)if(i.type==="exponentialRampToValue"){const{endTime:a,value:o}=i;n.exponentialRampToValueAtTime(o,a)}else if(i.type==="linearRampToValue"){const{endTime:a,value:o}=i;n.linearRampToValueAtTime(o,a)}else if(i.type==="setTarget"){const{startTime:a,target:o,timeConstant:u}=i;n.setTargetAtTime(o,a,u)}else if(i.type==="setValue"){const{startTime:a,value:o}=i;n.setValueAtTime(o,a)}else if(i.type==="setValueCurve"){const{duration:a,startTime:o,values:u}=i;n.setValueCurveAtTime(u,o,a)}else throw new Error("Can't apply an unknown automation.")}});class Gg{constructor(n){this._map=new Map(n)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(n,i=null){return this._map.forEach((a,o)=>n.call(i,a,o,this))}get(n){return this._map.get(n)}has(n){return this._map.has(n)}keys(){return this._map.keys()}values(){return this._map.values()}}const cb={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},ub=(l,n,i,a,o,u,p,f,m,d,g,v,b,y)=>class extends n{constructor(x,A,E){var D;const M=f(x),U=m(M),C=g({...cb,...E});b(C);const R=hh.get(M),V=R==null?void 0:R.get(A),k=U||M.state!=="closed"?M:(D=p(M))!==null&&D!==void 0?D:M,Q=o(k,U?null:x.baseLatency,d,A,V,C),F=U?a(A,C,V):null;super(x,!0,Q,F);const Z=[];Q.parameters.forEach((nt,et)=>{const it=i(this,U,nt);Z.push([et,it])}),this._nativeAudioWorkletNode=Q,this._onprocessorerror=null,this._parameters=new Gg(Z),U&&l(M,this);const{activeInputs:X}=u(this);v(Q,X)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(x){const A=typeof x=="function"?y(this,x):null;this._nativeAudioWorkletNode.onprocessorerror=A;const E=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=E!==null&&E===A?x:E}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function _o(l,n,i,a,o){if(typeof l.copyFromChannel=="function")n[i].byteLength===0&&(n[i]=new Float32Array(128)),l.copyFromChannel(n[i],a,o);else{const u=l.getChannelData(a);if(n[i].byteLength===0)n[i]=u.slice(o,o+128);else{const p=new Float32Array(u.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);n[i].set(p)}}}const Xg=(l,n,i,a,o)=>{typeof l.copyToChannel=="function"?n[i].byteLength!==0&&l.copyToChannel(n[i],a,o):n[i].byteLength!==0&&l.getChannelData(a).set(n[i],o)},vo=(l,n)=>{const i=[];for(let a=0;a<l;a+=1){const o=[],u=typeof n=="number"?n:n[a];for(let p=0;p<u;p+=1)o.push(new Float32Array(128));i.push(o)}return i},hb=(l,n)=>{const i=wn(fh,l),a=It(n);return wn(i,a)},fb=async(l,n,i,a,o,u,p)=>{const f=n===null?Math.ceil(l.context.length/128)*128:n.length,m=a.channelCount*a.numberOfInputs,d=o.reduce((A,E)=>A+E,0),g=d===0?null:i.createBuffer(d,f,i.sampleRate);if(u===void 0)throw new Error("Missing the processor constructor.");const v=Ve(l),b=await hb(i,l),y=vo(a.numberOfInputs,a.channelCount),S=vo(a.numberOfOutputs,o),x=Array.from(l.parameters.keys()).reduce((A,E)=>({...A,[E]:new Float32Array(128)}),{});for(let A=0;A<f;A+=128){if(a.numberOfInputs>0&&n!==null)for(let E=0;E<a.numberOfInputs;E+=1)for(let D=0;D<a.channelCount;D+=1)_o(n,y[E],D,D,A);u.parameterDescriptors!==void 0&&n!==null&&u.parameterDescriptors.forEach(({name:E},D)=>{_o(n,x,E,m+D,A)});for(let E=0;E<a.numberOfInputs;E+=1)for(let D=0;D<o[E];D+=1)S[E][D].byteLength===0&&(S[E][D]=new Float32Array(128));try{const E=y.map((M,U)=>v.activeInputs[U].size===0?[]:M),D=p(A/i.sampleRate,i.sampleRate,()=>b.process(E,S,x));if(g!==null)for(let M=0,U=0;M<a.numberOfOutputs;M+=1){for(let C=0;C<o[M];C+=1)Xg(g,S[M],C,U+C,A);U+=o[M]}if(!D)break}catch(E){l.dispatchEvent(new ErrorEvent("processorerror",{colno:E.colno,filename:E.filename,lineno:E.lineno,message:E.message}));break}}return g},db=(l,n,i,a,o,u,p,f,m,d,g,v,b,y,S,x)=>(A,E,D)=>{const M=new WeakMap;let U=null;const C=async(R,V)=>{let k=g(R),Q=null;const F=ke(k,V),Z=Array.isArray(E.outputChannelCount)?E.outputChannelCount:Array.from(E.outputChannelCount);if(v===null){const X=Z.reduce((j,I)=>j+I,0),nt=o(V,{channelCount:Math.max(1,X),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,X)}),et=[];for(let j=0;j<R.numberOfOutputs;j+=1)et.push(a(V,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Z[j]}));const it=p(V,{channelCount:E.channelCount,channelCountMode:E.channelCountMode,channelInterpretation:E.channelInterpretation,gain:1});it.connect=n.bind(null,et),it.disconnect=m.bind(null,et),Q=[nt,et,it]}else F||(k=new v(V,A));if(M.set(V,Q===null?k:Q[2]),Q!==null){if(U===null){if(D===void 0)throw new Error("Missing the processor constructor.");if(b===null)throw new Error("Missing the native OfflineAudioContext constructor.");const I=R.channelCount*R.numberOfInputs,tt=D.parameterDescriptors===void 0?0:D.parameterDescriptors.length,st=I+tt;U=fb(R,st===0?null:await(async()=>{const H=new b(st,Math.ceil(R.context.length/128)*128,V.sampleRate),$=[],J=[];for(let ot=0;ot<E.numberOfInputs;ot+=1)$.push(p(H,{channelCount:E.channelCount,channelCountMode:E.channelCountMode,channelInterpretation:E.channelInterpretation,gain:1})),J.push(o(H,{channelCount:E.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:E.channelCount}));const ct=await Promise.all(Array.from(R.parameters.values()).map(async ot=>{const Et=u(H,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ot.value});return await y(H,ot,Et.offset),Et})),lt=a(H,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,I+tt)});for(let ot=0;ot<E.numberOfInputs;ot+=1){$[ot].connect(J[ot]);for(let Et=0;Et<E.channelCount;Et+=1)J[ot].connect(lt,Et,ot*E.channelCount+Et)}for(const[ot,Et]of ct.entries())Et.connect(lt,0,I+ot),Et.start(0);return lt.connect(H.destination),await Promise.all($.map(ot=>S(R,H,ot))),x(H)})(),V,E,Z,D,d)}const X=await U,nt=i(V,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[et,it,j]=Q;X!==null&&(nt.buffer=X,nt.start(0)),nt.connect(et);for(let I=0,tt=0;I<R.numberOfOutputs;I+=1){const st=it[I];for(let N=0;N<Z[I];N+=1)et.connect(st,tt+N,N);tt+=Z[I]}return j}if(F)for(const[X,nt]of R.parameters.entries())await l(V,nt,k.parameters.get(X));else for(const[X,nt]of R.parameters.entries())await y(V,nt,k.parameters.get(X));return await S(R,V,k),k};return{render(R,V){f(V,R);const k=M.get(V);return k!==void 0?Promise.resolve(k):C(R,V)}}},pb=(l,n,i,a,o,u,p,f,m,d,g,v,b,y,S,x,A,E,D,M)=>class extends S{constructor(C,R){super(C,R),this._nativeContext=C,this._audioWorklet=l===void 0?void 0:{addModule:(V,k)=>l(this,V,k)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new n(this)}createBiquadFilter(){return new o(this)}createBuffer(C,R,V){return new i({length:R,numberOfChannels:C,sampleRate:V})}createBufferSource(){return new a(this)}createChannelMerger(C=6){return new u(this,{numberOfInputs:C})}createChannelSplitter(C=6){return new p(this,{numberOfOutputs:C})}createConstantSource(){return new f(this)}createConvolver(){return new m(this)}createDelay(C=1){return new g(this,{maxDelayTime:C})}createDynamicsCompressor(){return new v(this)}createGain(){return new b(this)}createIIRFilter(C,R){return new y(this,{feedback:R,feedforward:C})}createOscillator(){return new x(this)}createPanner(){return new A(this)}createPeriodicWave(C,R,V={disableNormalization:!1}){return new E(this,{...V,imag:R,real:C})}createStereoPanner(){return new D(this)}createWaveShaper(){return new M(this)}decodeAudioData(C,R,V){return d(this._nativeContext,C).then(k=>(typeof R=="function"&&R(k),k),k=>{throw typeof V=="function"&&V(k),k})}},mb={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},gb=(l,n,i,a,o,u,p,f)=>class extends l{constructor(d,g){const v=u(d),b={...mb,...g},y=o(v,b),S=p(v),x=S?i():null;super(d,!1,y,x),this._Q=n(this,S,y.Q,ze,tn),this._detune=n(this,S,y.detune,1200*Math.log2(ze),-1200*Math.log2(ze)),this._frequency=n(this,S,y.frequency,d.sampleRate/2,0),this._gain=n(this,S,y.gain,40*Math.log10(ze),tn),this._nativeBiquadFilterNode=y,f(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(d){this._nativeBiquadFilterNode.type=d}getFrequencyResponse(d,g,v){try{this._nativeBiquadFilterNode.getFrequencyResponse(d,g,v)}catch(b){throw b.code===11?a():b}if(d.length!==g.length||g.length!==v.length)throw a()}},_b=(l,n,i,a,o)=>()=>{const u=new WeakMap,p=async(f,m)=>{let d=i(f);const g=ke(d,m);if(!g){const v={Q:d.Q.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,gain:d.gain.value,type:d.type};d=n(m,v)}return u.set(m,d),g?(await l(m,f.Q,d.Q),await l(m,f.detune,d.detune),await l(m,f.frequency,d.frequency),await l(m,f.gain,d.gain)):(await a(m,f.Q,d.Q),await a(m,f.detune,d.detune),await a(m,f.frequency,d.frequency),await a(m,f.gain,d.gain)),await o(f,m,d),d};return{render(f,m){const d=u.get(m);return d!==void 0?Promise.resolve(d):p(f,m)}}},vb=(l,n)=>(i,a)=>{const o=n.get(i);if(o!==void 0)return o;const u=l.get(i);if(u!==void 0)return u;try{const p=a();return p instanceof Promise?(l.set(i,p),p.catch(()=>!1).then(f=>(l.delete(i),n.set(i,f),f))):(n.set(i,p),p)}catch{return n.set(i,!1),!1}},yb={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},bb=(l,n,i,a,o)=>class extends l{constructor(p,f){const m=a(p),d={...yb,...f},g=i(m,d),v=o(m)?n():null;super(p,!1,g,v)}},Sb=(l,n,i)=>()=>{const a=new WeakMap,o=async(u,p)=>{let f=n(u);if(!ke(f,p)){const d={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,numberOfInputs:f.numberOfInputs};f=l(p,d)}return a.set(p,f),await i(u,p,f),f};return{render(u,p){const f=a.get(p);return f!==void 0?Promise.resolve(f):o(u,p)}}},Tb={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},xb=(l,n,i,a,o,u)=>class extends l{constructor(f,m){const d=a(f),g=u({...Tb,...m}),v=i(d,g),b=o(d)?n():null;super(f,!1,v,b)}},wb=(l,n,i)=>()=>{const a=new WeakMap,o=async(u,p)=>{let f=n(u);if(!ke(f,p)){const d={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,numberOfOutputs:f.numberOfOutputs};f=l(p,d)}return a.set(p,f),await i(u,p,f),f};return{render(u,p){const f=a.get(p);return f!==void 0?Promise.resolve(f):o(u,p)}}},Ab=l=>(n,i,a)=>l(i,n,a),Cb=l=>(n,i,a=0,o=0)=>{const u=n[a];if(u===void 0)throw l();return go(i)?u.connect(i,0,o):u.connect(i,0)},Nb=l=>(n,i)=>{const a=l(n,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=n.createBuffer(1,2,44100);return a.buffer=o,a.loop=!0,a.connect(i),a.start(),()=>{a.stop(),a.disconnect(i)}},Eb={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Ob=(l,n,i,a,o,u,p)=>class extends l{constructor(m,d){const g=o(m),v={...Eb,...d},b=a(g,v),y=u(g),S=y?i():null;super(m,!1,b,S),this._constantSourceNodeRenderer=S,this._nativeConstantSourceNode=b,this._offset=n(this,y,b.offset,ze,tn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(m){const d=typeof m=="function"?p(this,m):null;this._nativeConstantSourceNode.onended=d;const g=this._nativeConstantSourceNode.onended;this._onended=g!==null&&g===d?m:g}start(m=0){if(this._nativeConstantSourceNode.start(m),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=m),this.context.state!=="closed"){ca(this);const d=()=>{this._nativeConstantSourceNode.removeEventListener("ended",d),ns(this)&&Mr(this)};this._nativeConstantSourceNode.addEventListener("ended",d)}}stop(m=0){this._nativeConstantSourceNode.stop(m),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=m)}},Mb=(l,n,i,a,o)=>()=>{const u=new WeakMap;let p=null,f=null;const m=async(d,g)=>{let v=i(d);const b=ke(v,g);if(!b){const y={channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,offset:v.offset.value};v=n(g,y),p!==null&&v.start(p),f!==null&&v.stop(f)}return u.set(g,v),b?await l(g,d.offset,v.offset):await a(g,d.offset,v.offset),await o(d,g,v),v};return{set start(d){p=d},set stop(d){f=d},render(d,g){const v=u.get(g);return v!==void 0?Promise.resolve(v):m(d,g)}}},Db=l=>n=>(l[0]=n,l[0]),kb={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Rb=(l,n,i,a,o,u)=>class extends l{constructor(f,m){const d=a(f),g={...kb,...m},v=i(d,g),y=o(d)?n():null;super(f,!1,v,y),this._isBufferNullified=!1,this._nativeConvolverNode=v,g.buffer!==null&&u(this,g.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(f){if(this._nativeConvolverNode.buffer=f,f===null&&this._nativeConvolverNode.buffer!==null){const m=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=m.createBuffer(1,1,m.sampleRate),this._isBufferNullified=!0,u(this,0)}else this._isBufferNullified=!1,u(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(f){this._nativeConvolverNode.normalize=f}},jb=(l,n,i)=>()=>{const a=new WeakMap,o=async(u,p)=>{let f=n(u);if(!ke(f,p)){const d={buffer:f.buffer,channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,disableNormalization:!f.normalize};f=l(p,d)}return a.set(p,f),ga(f)?await i(u,p,f.inputs[0]):await i(u,p,f),f};return{render(u,p){const f=a.get(p);return f!==void 0?Promise.resolve(f):o(u,p)}}},zb=(l,n)=>(i,a,o)=>{if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new n(i,a,o)}catch(u){throw u.name==="SyntaxError"?l():u}},Vb=()=>new DOMException("","DataCloneError"),gg=l=>{const{port1:n,port2:i}=new MessageChannel;return new Promise(a=>{const o=()=>{i.onmessage=null,n.close(),i.close(),a()};i.onmessage=()=>o();try{n.postMessage(l,[l])}catch{}finally{o()}})},qb=(l,n,i,a,o,u,p,f,m,d,g)=>(v,b)=>{const y=p(v)?v:u(v);if(o.has(b)){const S=i();return Promise.reject(S)}try{o.add(b)}catch{}return n(m,()=>m(y))?y.decodeAudioData(b).then(S=>(gg(b).catch(()=>{}),n(f,()=>f(S))||g(S),l.add(S),S)):new Promise((S,x)=>{const A=async()=>{try{await gg(b)}catch{}},E=D=>{x(D),A()};try{y.decodeAudioData(b,D=>{typeof D.copyFromChannel!="function"&&(d(D),Th(D)),l.add(D),A().then(()=>S(D))},D=>{E(D===null?a():D)})}catch(D){E(D)}})},Ub=(l,n,i,a,o,u,p,f)=>(m,d)=>{const g=n.get(m);if(g===void 0)throw new Error("Missing the expected cycle count.");const v=u(m.context),b=f(v);if(g===d){if(n.delete(m),!b&&p(m)){const y=a(m),{outputs:S}=i(m);for(const x of S)if(kr(x)){const A=a(x[0]);l(y,A,x[1],x[2])}else{const A=o(x[0]);y.connect(A,x[1])}}}else n.set(m,g-d)},Bb={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Lb=(l,n,i,a,o,u,p)=>class extends l{constructor(m,d){const g=o(m),v={...Bb,...d},b=a(g,v),y=u(g),S=y?i(v.maxDelayTime):null;super(m,!1,b,S),this._delayTime=n(this,y,b.delayTime),p(this,v.maxDelayTime)}get delayTime(){return this._delayTime}},Hb=(l,n,i,a,o)=>u=>{const p=new WeakMap,f=async(m,d)=>{let g=i(m);const v=ke(g,d);if(!v){const b={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,delayTime:g.delayTime.value,maxDelayTime:u};g=n(d,b)}return p.set(d,g),v?await l(d,m.delayTime,g.delayTime):await a(d,m.delayTime,g.delayTime),await o(m,d,g),g};return{render(m,d){const g=p.get(d);return g!==void 0?Promise.resolve(g):f(m,d)}}},Yb=l=>(n,i,a,o)=>l(n[o],u=>u[0]===i&&u[1]===a),Gb=l=>(n,i)=>{l(n).delete(i)},Xb=l=>"delayTime"in l,Ib=(l,n,i)=>function a(o,u){const p=fo(u)?u:i(l,u);if(Xb(p))return[];if(o[0]===p)return[o];if(o.includes(p))return[];const{outputs:f}=n(p);return Array.from(f).map(m=>a([...o,p],m[0])).reduce((m,d)=>m.concat(d),[])},no=(l,n,i)=>{const a=n[i];if(a===void 0)throw l();return a},Zb=l=>(n,i=void 0,a=void 0,o=0)=>i===void 0?n.forEach(u=>u.disconnect()):typeof i=="number"?no(l,n,i).disconnect():go(i)?a===void 0?n.forEach(u=>u.disconnect(i)):o===void 0?no(l,n,a).disconnect(i,0):no(l,n,a).disconnect(i,0,o):a===void 0?n.forEach(u=>u.disconnect(i)):no(l,n,a).disconnect(i,0),Qb={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Fb=(l,n,i,a,o,u,p,f)=>class extends l{constructor(d,g){const v=u(d),b={...Qb,...g},y=a(v,b),S=p(v),x=S?i():null;super(d,!1,y,x),this._attack=n(this,S,y.attack),this._knee=n(this,S,y.knee),this._nativeDynamicsCompressorNode=y,this._ratio=n(this,S,y.ratio),this._release=n(this,S,y.release),this._threshold=n(this,S,y.threshold),f(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(d){const g=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=d,d>2)throw this._nativeDynamicsCompressorNode.channelCount=g,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(d){const g=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=d,d==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=g,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},Wb=(l,n,i,a,o)=>()=>{const u=new WeakMap,p=async(f,m)=>{let d=i(f);const g=ke(d,m);if(!g){const v={attack:d.attack.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,knee:d.knee.value,ratio:d.ratio.value,release:d.release.value,threshold:d.threshold.value};d=n(m,v)}return u.set(m,d),g?(await l(m,f.attack,d.attack),await l(m,f.knee,d.knee),await l(m,f.ratio,d.ratio),await l(m,f.release,d.release),await l(m,f.threshold,d.threshold)):(await a(m,f.attack,d.attack),await a(m,f.knee,d.knee),await a(m,f.ratio,d.ratio),await a(m,f.release,d.release),await a(m,f.threshold,d.threshold)),await o(f,m,d),d};return{render(f,m){const d=u.get(m);return d!==void 0?Promise.resolve(d):p(f,m)}}},Pb=()=>new DOMException("","EncodingError"),Kb=l=>n=>new Promise((i,a)=>{if(l===null){a(new SyntaxError);return}const o=l.document.head;if(o===null)a(new SyntaxError);else{const u=l.document.createElement("script"),p=new Blob([n],{type:"application/javascript"}),f=URL.createObjectURL(p),m=l.onerror,d=()=>{l.onerror=m,URL.revokeObjectURL(f)};l.onerror=(g,v,b,y,S)=>{if(v===f||v===l.location.href&&b===1&&y===1)return d(),a(S),!1;if(m!==null)return m(g,v,b,y,S)},u.onerror=()=>{d(),a(new SyntaxError)},u.onload=()=>{d(),i()},u.src=f,u.type="module",o.appendChild(u)}}),Jb=l=>class{constructor(i){this._nativeEventTarget=i,this._listeners=new WeakMap}addEventListener(i,a,o){if(a!==null){let u=this._listeners.get(a);u===void 0&&(u=l(this,a),typeof a=="function"&&this._listeners.set(a,u)),this._nativeEventTarget.addEventListener(i,u,o)}}dispatchEvent(i){return this._nativeEventTarget.dispatchEvent(i)}removeEventListener(i,a,o){const u=a===null?void 0:this._listeners.get(a);this._nativeEventTarget.removeEventListener(i,u===void 0?null:u,o)}},$b=l=>(n,i,a)=>{Object.defineProperties(l,{currentFrame:{configurable:!0,get(){return Math.round(n*i)}},currentTime:{configurable:!0,get(){return n}}});try{return a()}finally{l!==null&&(delete l.currentFrame,delete l.currentTime)}},t1=l=>async n=>{try{const i=await fetch(n);if(i.ok)return[await i.text(),i.url]}catch{}throw l()},e1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},n1=(l,n,i,a,o,u)=>class extends l{constructor(f,m){const d=o(f),g={...e1,...m},v=a(d,g),b=u(d),y=b?i():null;super(f,!1,v,y),this._gain=n(this,b,v.gain,ze,tn)}get gain(){return this._gain}},s1=(l,n,i,a,o)=>()=>{const u=new WeakMap,p=async(f,m)=>{let d=i(f);const g=ke(d,m);if(!g){const v={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,gain:d.gain.value};d=n(m,v)}return u.set(m,d),g?await l(m,f.gain,d.gain):await a(m,f.gain,d.gain),await o(f,m,d),d};return{render(f,m){const d=u.get(m);return d!==void 0?Promise.resolve(d):p(f,m)}}},i1=(l,n)=>i=>n(l,i),a1=l=>n=>{const i=l(n);if(i.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return i.renderer},r1=l=>n=>{var i;return(i=l.get(n))!==null&&i!==void 0?i:0},l1=l=>n=>{const i=l(n);if(i.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return i.renderer},o1=l=>n=>l.get(n),be=()=>new DOMException("","InvalidStateError"),c1=l=>n=>{const i=l.get(n);if(i===void 0)throw be();return i},u1=(l,n)=>i=>{let a=l.get(i);if(a!==void 0)return a;if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");return a=new n(1,1,44100),l.set(i,a),a},h1=l=>n=>{const i=l.get(n);if(i===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return i},wo=()=>new DOMException("","InvalidAccessError"),f1=l=>{l.getFrequencyResponse=(n=>(i,a,o)=>{if(i.length!==a.length||a.length!==o.length)throw wo();return n.call(l,i,a,o)})(l.getFrequencyResponse)},d1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},p1=(l,n,i,a,o,u)=>class extends l{constructor(f,m){const d=a(f),g=o(d),v={...d1,...m},b=n(d,g?null:f.baseLatency,v),y=g?i(v.feedback,v.feedforward):null;super(f,!1,b,y),f1(b),this._nativeIIRFilterNode=b,u(this,1)}getFrequencyResponse(f,m,d){return this._nativeIIRFilterNode.getFrequencyResponse(f,m,d)}},Ig=(l,n,i,a,o,u,p,f,m,d,g)=>{const v=d.length;let b=f;for(let y=0;y<v;y+=1){let S=i[0]*d[y];for(let x=1;x<o;x+=1){const A=b-x&m-1;S+=i[x]*u[A],S-=l[x]*p[A]}for(let x=o;x<a;x+=1)S+=i[x]*u[b-x&m-1];for(let x=o;x<n;x+=1)S-=l[x]*p[b-x&m-1];u[b]=d[y],p[b]=S,b=b+1&m-1,g[y]=S}return b},m1=(l,n,i,a)=>{const o=i instanceof Float64Array?i:new Float64Array(i),u=a instanceof Float64Array?a:new Float64Array(a),p=o.length,f=u.length,m=Math.min(p,f);if(o[0]!==1){for(let S=0;S<p;S+=1)u[S]/=o[0];for(let S=1;S<f;S+=1)o[S]/=o[0]}const d=32,g=new Float32Array(d),v=new Float32Array(d),b=n.createBuffer(l.numberOfChannels,l.length,l.sampleRate),y=l.numberOfChannels;for(let S=0;S<y;S+=1){const x=l.getChannelData(S),A=b.getChannelData(S);g.fill(0),v.fill(0),Ig(o,p,u,f,m,g,v,0,d,x,A)}return b},g1=(l,n,i,a,o)=>(u,p)=>{const f=new WeakMap;let m=null;const d=async(g,v)=>{let b=null,y=n(g);const S=ke(y,v);if(v.createIIRFilter===void 0?b=l(v,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):S||(y=v.createIIRFilter(p,u)),f.set(v,b===null?y:b),b!==null){if(m===null){if(i===null)throw new Error("Missing the native OfflineAudioContext constructor.");const A=new i(g.context.destination.channelCount,g.context.length,v.sampleRate);m=(async()=>{await a(g,A,A.destination);const E=await o(A);return m1(E,v,u,p)})()}const x=await m;return b.buffer=x,b.start(0),b}return await a(g,v,y),y};return{render(g,v){const b=f.get(v);return b!==void 0?Promise.resolve(b):d(g,v)}}},_1=(l,n,i,a,o,u)=>p=>(f,m)=>{const d=l.get(f);if(d===void 0){if(!p&&u(f)){const g=a(f),{outputs:v}=i(f);for(const b of v)if(kr(b)){const y=a(b[0]);n(g,y,b[1],b[2])}else{const y=o(b[0]);g.disconnect(y,b[1])}}l.set(f,m)}else l.set(f,d+m)},v1=(l,n)=>i=>{const a=l.get(i);return n(a)||n(i)},y1=(l,n)=>i=>l.has(i)||n(i),b1=(l,n)=>i=>l.has(i)||n(i),S1=(l,n)=>i=>{const a=l.get(i);return n(a)||n(i)},T1=l=>n=>l!==null&&n instanceof l,x1=l=>n=>l!==null&&typeof l.AudioNode=="function"&&n instanceof l.AudioNode,w1=l=>n=>l!==null&&typeof l.AudioParam=="function"&&n instanceof l.AudioParam,A1=(l,n)=>i=>l(i)||n(i),C1=l=>n=>l!==null&&n instanceof l,N1=l=>l!==null&&l.isSecureContext,E1=(l,n,i,a)=>class extends l{constructor(u,p){const f=i(u),m=n(f,p);if(a(f))throw TypeError();super(u,!0,m,null),this._nativeMediaElementAudioSourceNode=m}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},O1={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},M1=(l,n,i,a)=>class extends l{constructor(u,p){const f=i(u);if(a(f))throw new TypeError;const m={...O1,...p},d=n(f,m);super(u,!1,d,null),this._nativeMediaStreamAudioDestinationNode=d}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},D1=(l,n,i,a)=>class extends l{constructor(u,p){const f=i(u),m=n(f,p);if(a(f))throw new TypeError;super(u,!0,m,null),this._nativeMediaStreamAudioSourceNode=m}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},k1=(l,n,i)=>class extends l{constructor(o,u){const p=i(o),f=n(p,u);super(o,!0,f,null)}},R1=(l,n,i,a,o,u)=>class extends i{constructor(f,m){super(f),this._nativeContext=f,To.set(this,f),a(f)&&o.set(f,new Set),this._destination=new l(this,m),this._listener=n(this,f),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(f){const m=typeof f=="function"?u(this,f):null;this._nativeContext.onstatechange=m;const d=this._nativeContext.onstatechange;this._onstatechange=d!==null&&d===m?f:d}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},xr=l=>{const n=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const i=l.decodeAudioData(n.buffer,()=>{});return i===void 0?!1:(i.catch(()=>{}),!0)}catch{}return!1},j1=(l,n)=>(i,a,o)=>{const u=new Set;return i.connect=(p=>(f,m=0,d=0)=>{const g=u.size===0;if(n(f))return p.call(i,f,m,d),l(u,[f,m,d],v=>v[0]===f&&v[1]===m&&v[2]===d,!0),g&&a(),f;p.call(i,f,m),l(u,[f,m],v=>v[0]===f&&v[1]===m,!0),g&&a()})(i.connect),i.disconnect=(p=>(f,m,d)=>{const g=u.size>0;if(f===void 0)p.apply(i),u.clear();else if(typeof f=="number"){p.call(i,f);for(const b of u)b[1]===f&&u.delete(b)}else{n(f)?p.call(i,f,m,d):p.call(i,f,m);for(const b of u)b[0]===f&&(m===void 0||b[1]===m)&&(d===void 0||b[2]===d)&&u.delete(b)}const v=u.size===0;g&&v&&o()})(i.disconnect),i},Qt=(l,n,i)=>{const a=n[i];a!==void 0&&a!==l[i]&&(l[i]=a)},me=(l,n)=>{Qt(l,n,"channelCount"),Qt(l,n,"channelCountMode"),Qt(l,n,"channelInterpretation")},_g=l=>typeof l.getFloatTimeDomainData=="function",z1=l=>{l.getFloatTimeDomainData=n=>{const i=new Uint8Array(n.length);l.getByteTimeDomainData(i);const a=Math.max(i.length,l.fftSize);for(let o=0;o<a;o+=1)n[o]=(i[o]-128)*.0078125;return n}},V1=(l,n)=>(i,a)=>{const o=i.createAnalyser();if(me(o,a),!(a.maxDecibels>a.minDecibels))throw n();return Qt(o,a,"fftSize"),Qt(o,a,"maxDecibels"),Qt(o,a,"minDecibels"),Qt(o,a,"smoothingTimeConstant"),l(_g,()=>_g(o))||z1(o),o},q1=l=>l===null?null:l.hasOwnProperty("AudioBuffer")?l.AudioBuffer:null,te=(l,n,i)=>{const a=n[i];a!==void 0&&a!==l[i].value&&(l[i].value=a)},U1=l=>{l.start=(n=>{let i=!1;return(a=0,o=0,u)=>{if(i)throw be();n.call(l,a,o,u),i=!0}})(l.start)},Ah=l=>{l.start=(n=>(i=0,a=0,o)=>{if(typeof o=="number"&&o<0||a<0||i<0)throw new RangeError("The parameters can't be negative.");n.call(l,i,a,o)})(l.start)},Ch=l=>{l.stop=(n=>(i=0)=>{if(i<0)throw new RangeError("The parameter can't be negative.");n.call(l,i)})(l.stop)},B1=(l,n,i,a,o,u,p,f,m,d,g)=>(v,b)=>{const y=v.createBufferSource();return me(y,b),te(y,b,"playbackRate"),Qt(y,b,"buffer"),Qt(y,b,"loop"),Qt(y,b,"loopEnd"),Qt(y,b,"loopStart"),n(i,()=>i(v))||U1(y),n(a,()=>a(v))||m(y),n(o,()=>o(v))||d(y,v),n(u,()=>u(v))||Ah(y),n(p,()=>p(v))||g(y,v),n(f,()=>f(v))||Ch(y),l(v,y),y},L1=l=>l===null?null:l.hasOwnProperty("AudioContext")?l.AudioContext:l.hasOwnProperty("webkitAudioContext")?l.webkitAudioContext:null,H1=(l,n)=>(i,a,o)=>{const u=i.destination;if(u.channelCount!==a)try{u.channelCount=a}catch{}o&&u.channelCountMode!=="explicit"&&(u.channelCountMode="explicit"),u.maxChannelCount===0&&Object.defineProperty(u,"maxChannelCount",{value:a});const p=l(i,{channelCount:a,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:1});return n(p,"channelCount",f=>()=>f.call(p),f=>m=>{f.call(p,m);try{u.channelCount=m}catch(d){if(m>u.maxChannelCount)throw d}}),n(p,"channelCountMode",f=>()=>f.call(p),f=>m=>{f.call(p,m),u.channelCountMode=m}),n(p,"channelInterpretation",f=>()=>f.call(p),f=>m=>{f.call(p,m),u.channelInterpretation=m}),Object.defineProperty(p,"maxChannelCount",{get:()=>u.maxChannelCount}),p.connect(u),p},Y1=l=>l===null?null:l.hasOwnProperty("AudioWorkletNode")?l.AudioWorkletNode:null,G1=l=>{const{port1:n}=new MessageChannel;try{n.postMessage(l)}finally{n.close()}},X1=(l,n,i,a,o)=>(u,p,f,m,d,g)=>{if(f!==null)try{const v=new f(u,m,g),b=new Map;let y=null;if(Object.defineProperties(v,{channelCount:{get:()=>g.channelCount,set:()=>{throw l()}},channelCountMode:{get:()=>"explicit",set:()=>{throw l()}},onprocessorerror:{get:()=>y,set:S=>{typeof y=="function"&&v.removeEventListener("processorerror",y),y=typeof S=="function"?S:null,typeof y=="function"&&v.addEventListener("processorerror",y)}}}),v.addEventListener=(S=>(...x)=>{if(x[0]==="processorerror"){const A=typeof x[1]=="function"?x[1]:typeof x[1]=="object"&&x[1]!==null&&typeof x[1].handleEvent=="function"?x[1].handleEvent:null;if(A!==null){const E=b.get(x[1]);E!==void 0?x[1]=E:(x[1]=D=>{D.type==="error"?(Object.defineProperties(D,{type:{value:"processorerror"}}),A(D)):A(new ErrorEvent(x[0],{...D}))},b.set(A,x[1]))}}return S.call(v,"error",x[1],x[2]),S.call(v,...x)})(v.addEventListener),v.removeEventListener=(S=>(...x)=>{if(x[0]==="processorerror"){const A=b.get(x[1]);A!==void 0&&(b.delete(x[1]),x[1]=A)}return S.call(v,"error",x[1],x[2]),S.call(v,x[0],x[1],x[2])})(v.removeEventListener),g.numberOfOutputs!==0){const S=i(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return v.connect(S).connect(u.destination),o(v,()=>S.disconnect(),()=>S.connect(u.destination))}return v}catch(v){throw v.code===11?a():v}if(d===void 0)throw a();return G1(g),n(u,p,d,g)},Zg=(l,n)=>l===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(l*n))))),I1=l=>new Promise((n,i)=>{const{port1:a,port2:o}=new MessageChannel;a.onmessage=({data:u})=>{a.close(),o.close(),n(u)},a.onmessageerror=({data:u})=>{a.close(),o.close(),i(u)},o.postMessage(l)}),Z1=async(l,n)=>{const i=await I1(n);return new l(i)},Q1=(l,n,i,a)=>{let o=fh.get(l);o===void 0&&(o=new WeakMap,fh.set(l,o));const u=Z1(i,a);return o.set(n,u),u},F1=(l,n,i,a,o,u,p,f,m,d,g,v,b)=>(y,S,x,A)=>{if(A.numberOfInputs===0&&A.numberOfOutputs===0)throw m();const E=Array.isArray(A.outputChannelCount)?A.outputChannelCount:Array.from(A.outputChannelCount);if(E.some(rt=>rt<1))throw m();if(E.length!==A.numberOfOutputs)throw n();if(A.channelCountMode!=="explicit")throw m();const D=A.channelCount*A.numberOfInputs,M=E.reduce((rt,ft)=>rt+ft,0),U=x.parameterDescriptors===void 0?0:x.parameterDescriptors.length;if(D+U>6||M>6)throw m();const C=new MessageChannel,R=[],V=[];for(let rt=0;rt<A.numberOfInputs;rt+=1)R.push(p(y,{channelCount:A.channelCount,channelCountMode:A.channelCountMode,channelInterpretation:A.channelInterpretation,gain:1})),V.push(o(y,{channelCount:A.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:A.channelCount}));const k=[];if(x.parameterDescriptors!==void 0)for(const{defaultValue:rt,maxValue:ft,minValue:Ot,name:yt}of x.parameterDescriptors){const _t=u(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:A.parameterData[yt]!==void 0?A.parameterData[yt]:rt===void 0?0:rt});Object.defineProperties(_t.offset,{defaultValue:{get:()=>rt===void 0?0:rt},maxValue:{get:()=>ft===void 0?ze:ft},minValue:{get:()=>Ot===void 0?tn:Ot}}),k.push(_t)}const Q=a(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,D+U)}),F=Zg(S,y.sampleRate),Z=f(y,F,D+U,Math.max(1,M)),X=o(y,{channelCount:Math.max(1,M),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,M)}),nt=[];for(let rt=0;rt<A.numberOfOutputs;rt+=1)nt.push(a(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:E[rt]}));for(let rt=0;rt<A.numberOfInputs;rt+=1){R[rt].connect(V[rt]);for(let ft=0;ft<A.channelCount;ft+=1)V[rt].connect(Q,ft,rt*A.channelCount+ft)}const et=new Gg(x.parameterDescriptors===void 0?[]:x.parameterDescriptors.map(({name:rt},ft)=>{const Ot=k[ft];return Ot.connect(Q,0,D+ft),Ot.start(0),[rt,Ot.offset]}));Q.connect(Z);let it=A.channelInterpretation,j=null;const I=A.numberOfOutputs===0?[Z]:nt,tt={get bufferSize(){return F},get channelCount(){return A.channelCount},set channelCount(rt){throw i()},get channelCountMode(){return A.channelCountMode},set channelCountMode(rt){throw i()},get channelInterpretation(){return it},set channelInterpretation(rt){for(const ft of R)ft.channelInterpretation=rt;it=rt},get context(){return Z.context},get inputs(){return R},get numberOfInputs(){return A.numberOfInputs},get numberOfOutputs(){return A.numberOfOutputs},get onprocessorerror(){return j},set onprocessorerror(rt){typeof j=="function"&&tt.removeEventListener("processorerror",j),j=typeof rt=="function"?rt:null,typeof j=="function"&&tt.addEventListener("processorerror",j)},get parameters(){return et},get port(){return C.port2},addEventListener(...rt){return Z.addEventListener(rt[0],rt[1],rt[2])},connect:l.bind(null,I),disconnect:d.bind(null,I),dispatchEvent(...rt){return Z.dispatchEvent(rt[0])},removeEventListener(...rt){return Z.removeEventListener(rt[0],rt[1],rt[2])}},st=new Map;C.port1.addEventListener=(rt=>(...ft)=>{if(ft[0]==="message"){const Ot=typeof ft[1]=="function"?ft[1]:typeof ft[1]=="object"&&ft[1]!==null&&typeof ft[1].handleEvent=="function"?ft[1].handleEvent:null;if(Ot!==null){const yt=st.get(ft[1]);yt!==void 0?ft[1]=yt:(ft[1]=_t=>{g(y.currentTime,y.sampleRate,()=>Ot(_t))},st.set(Ot,ft[1]))}}return rt.call(C.port1,ft[0],ft[1],ft[2])})(C.port1.addEventListener),C.port1.removeEventListener=(rt=>(...ft)=>{if(ft[0]==="message"){const Ot=st.get(ft[1]);Ot!==void 0&&(st.delete(ft[1]),ft[1]=Ot)}return rt.call(C.port1,ft[0],ft[1],ft[2])})(C.port1.removeEventListener);let N=null;Object.defineProperty(C.port1,"onmessage",{get:()=>N,set:rt=>{typeof N=="function"&&C.port1.removeEventListener("message",N),N=typeof rt=="function"?rt:null,typeof N=="function"&&(C.port1.addEventListener("message",N),C.port1.start())}}),x.prototype.port=C.port1;let H=null;Q1(y,tt,x,A).then(rt=>H=rt);const J=vo(A.numberOfInputs,A.channelCount),ct=vo(A.numberOfOutputs,E),lt=x.parameterDescriptors===void 0?[]:x.parameterDescriptors.reduce((rt,{name:ft})=>({...rt,[ft]:new Float32Array(128)}),{});let ot=!0;const Et=()=>{A.numberOfOutputs>0&&Z.disconnect(X);for(let rt=0,ft=0;rt<A.numberOfOutputs;rt+=1){const Ot=nt[rt];for(let yt=0;yt<E[rt];yt+=1)X.disconnect(Ot,ft+yt,yt);ft+=E[rt]}},at=new Map;Z.onaudioprocess=({inputBuffer:rt,outputBuffer:ft})=>{if(H!==null){const Ot=v(tt);for(let yt=0;yt<F;yt+=128){for(let _t=0;_t<A.numberOfInputs;_t+=1)for(let Mt=0;Mt<A.channelCount;Mt+=1)_o(rt,J[_t],Mt,Mt,yt);x.parameterDescriptors!==void 0&&x.parameterDescriptors.forEach(({name:_t},Mt)=>{_o(rt,lt,_t,D+Mt,yt)});for(let _t=0;_t<A.numberOfInputs;_t+=1)for(let Mt=0;Mt<E[_t];Mt+=1)ct[_t][Mt].byteLength===0&&(ct[_t][Mt]=new Float32Array(128));try{const _t=J.map((ne,En)=>{if(Ot[En].size>0)return at.set(En,F/128),ne;const xa=at.get(En);return xa===void 0?[]:(ne.every(Lo=>Lo.every(Xs=>Xs===0))&&(xa===1?at.delete(En):at.set(En,xa-1)),ne)});ot=g(y.currentTime+yt/y.sampleRate,y.sampleRate,()=>H.process(_t,ct,lt));for(let ne=0,En=0;ne<A.numberOfOutputs;ne+=1){for(let cs=0;cs<E[ne];cs+=1)Xg(ft,ct[ne],cs,En+cs,yt);En+=E[ne]}}catch(_t){ot=!1,tt.dispatchEvent(new ErrorEvent("processorerror",{colno:_t.colno,filename:_t.filename,lineno:_t.lineno,message:_t.message}))}if(!ot){for(let _t=0;_t<A.numberOfInputs;_t+=1){R[_t].disconnect(V[_t]);for(let Mt=0;Mt<A.channelCount;Mt+=1)V[yt].disconnect(Q,Mt,_t*A.channelCount+Mt)}if(x.parameterDescriptors!==void 0){const _t=x.parameterDescriptors.length;for(let Mt=0;Mt<_t;Mt+=1){const ne=k[Mt];ne.disconnect(Q,0,D+Mt),ne.stop()}}Q.disconnect(Z),Z.onaudioprocess=null,re?Et():Ft();break}}}};let re=!1;const xe=p(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Kt=()=>Z.connect(xe).connect(y.destination),Ft=()=>{Z.disconnect(xe),xe.disconnect()},Re=()=>{if(ot){Ft(),A.numberOfOutputs>0&&Z.connect(X);for(let rt=0,ft=0;rt<A.numberOfOutputs;rt+=1){const Ot=nt[rt];for(let yt=0;yt<E[rt];yt+=1)X.connect(Ot,ft+yt,yt);ft+=E[rt]}}re=!0},Ue=()=>{ot&&(Kt(),Et()),re=!1};return Kt(),b(tt,Re,Ue)},Qg=(l,n)=>{const i=l.createBiquadFilter();return me(i,n),te(i,n,"Q"),te(i,n,"detune"),te(i,n,"frequency"),te(i,n,"gain"),Qt(i,n,"type"),i},W1=(l,n)=>(i,a)=>{const o=i.createChannelMerger(a.numberOfInputs);return l!==null&&l.name==="webkitAudioContext"&&n(i,o),me(o,a),o},P1=l=>{const n=l.numberOfOutputs;Object.defineProperty(l,"channelCount",{get:()=>n,set:i=>{if(i!==n)throw be()}}),Object.defineProperty(l,"channelCountMode",{get:()=>"explicit",set:i=>{if(i!=="explicit")throw be()}}),Object.defineProperty(l,"channelInterpretation",{get:()=>"discrete",set:i=>{if(i!=="discrete")throw be()}})},Rr=(l,n)=>{const i=l.createChannelSplitter(n.numberOfOutputs);return me(i,n),P1(i),i},K1=(l,n,i,a,o)=>(u,p)=>{if(u.createConstantSource===void 0)return i(u,p);const f=u.createConstantSource();return me(f,p),te(f,p,"offset"),n(a,()=>a(u))||Ah(f),n(o,()=>o(u))||Ch(f),l(u,f),f},_a=(l,n)=>(l.connect=n.connect.bind(n),l.disconnect=n.disconnect.bind(n),l),J1=(l,n,i,a)=>(o,{offset:u,...p})=>{const f=o.createBuffer(1,2,44100),m=n(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),d=i(o,{...p,gain:u}),g=f.getChannelData(0);g[0]=1,g[1]=1,m.buffer=f,m.loop=!0;const v={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(S){d.channelCount=S},get channelCountMode(){return d.channelCountMode},set channelCountMode(S){d.channelCountMode=S},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(S){d.channelInterpretation=S},get context(){return d.context},get inputs(){return[]},get numberOfInputs(){return m.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get offset(){return d.gain},get onended(){return m.onended},set onended(S){m.onended=S},addEventListener(...S){return m.addEventListener(S[0],S[1],S[2])},dispatchEvent(...S){return m.dispatchEvent(S[0])},removeEventListener(...S){return m.removeEventListener(S[0],S[1],S[2])},start(S=0){m.start.call(m,S)},stop(S=0){m.stop.call(m,S)}},b=()=>m.connect(d),y=()=>m.disconnect(d);return l(o,m),a(_a(v,d),b,y)},$1=(l,n)=>(i,a)=>{const o=i.createConvolver();if(me(o,a),a.disableNormalization===o.normalize&&(o.normalize=!a.disableNormalization),Qt(o,a,"buffer"),a.channelCount>2||(n(o,"channelCount",u=>()=>u.call(o),u=>p=>{if(p>2)throw l();return u.call(o,p)}),a.channelCountMode==="max"))throw l();return n(o,"channelCountMode",u=>()=>u.call(o),u=>p=>{if(p==="max")throw l();return u.call(o,p)}),o},Fg=(l,n)=>{const i=l.createDelay(n.maxDelayTime);return me(i,n),te(i,n,"delayTime"),i},tS=l=>(n,i)=>{const a=n.createDynamicsCompressor();if(me(a,i),i.channelCount>2||i.channelCountMode==="max")throw l();return te(a,i,"attack"),te(a,i,"knee"),te(a,i,"ratio"),te(a,i,"release"),te(a,i,"threshold"),a},Xe=(l,n)=>{const i=l.createGain();return me(i,n),te(i,n,"gain"),i},eS=l=>(n,i,a)=>{if(n.createIIRFilter===void 0)return l(n,i,a);const o=n.createIIRFilter(a.feedforward,a.feedback);return me(o,a),o};function nS(l,n){const i=n[0]*n[0]+n[1]*n[1];return[(l[0]*n[0]+l[1]*n[1])/i,(l[1]*n[0]-l[0]*n[1])/i]}function sS(l,n){return[l[0]*n[0]-l[1]*n[1],l[0]*n[1]+l[1]*n[0]]}function vg(l,n){let i=[0,0];for(let a=l.length-1;a>=0;a-=1)i=sS(i,n),i[0]+=l[a];return i}const iS=(l,n,i,a)=>(o,u,{channelCount:p,channelCountMode:f,channelInterpretation:m,feedback:d,feedforward:g})=>{const v=Zg(u,o.sampleRate),b=d instanceof Float64Array?d:new Float64Array(d),y=g instanceof Float64Array?g:new Float64Array(g),S=b.length,x=y.length,A=Math.min(S,x);if(S===0||S>20)throw a();if(b[0]===0)throw n();if(x===0||x>20)throw a();if(y[0]===0)throw n();if(b[0]!==1){for(let k=0;k<x;k+=1)y[k]/=b[0];for(let k=1;k<S;k+=1)b[k]/=b[0]}const E=i(o,v,p,p);E.channelCount=p,E.channelCountMode=f,E.channelInterpretation=m;const D=32,M=[],U=[],C=[];for(let k=0;k<p;k+=1){M.push(0);const Q=new Float32Array(D),F=new Float32Array(D);Q.fill(0),F.fill(0),U.push(Q),C.push(F)}E.onaudioprocess=k=>{const Q=k.inputBuffer,F=k.outputBuffer,Z=Q.numberOfChannels;for(let X=0;X<Z;X+=1){const nt=Q.getChannelData(X),et=F.getChannelData(X);M[X]=Ig(b,S,y,x,A,U[X],C[X],M[X],D,nt,et)}};const R=o.sampleRate/2;return _a({get bufferSize(){return v},get channelCount(){return E.channelCount},set channelCount(k){E.channelCount=k},get channelCountMode(){return E.channelCountMode},set channelCountMode(k){E.channelCountMode=k},get channelInterpretation(){return E.channelInterpretation},set channelInterpretation(k){E.channelInterpretation=k},get context(){return E.context},get inputs(){return[E]},get numberOfInputs(){return E.numberOfInputs},get numberOfOutputs(){return E.numberOfOutputs},addEventListener(...k){return E.addEventListener(k[0],k[1],k[2])},dispatchEvent(...k){return E.dispatchEvent(k[0])},getFrequencyResponse(k,Q,F){if(k.length!==Q.length||Q.length!==F.length)throw l();const Z=k.length;for(let X=0;X<Z;X+=1){const nt=-Math.PI*(k[X]/R),et=[Math.cos(nt),Math.sin(nt)],it=vg(y,et),j=vg(b,et),I=nS(it,j);Q[X]=Math.sqrt(I[0]*I[0]+I[1]*I[1]),F[X]=Math.atan2(I[1],I[0])}},removeEventListener(...k){return E.removeEventListener(k[0],k[1],k[2])}},E)},aS=(l,n)=>l.createMediaElementSource(n.mediaElement),rS=(l,n)=>{const i=l.createMediaStreamDestination();return me(i,n),i.numberOfOutputs===1&&Object.defineProperty(i,"numberOfOutputs",{get:()=>0}),i},lS=(l,{mediaStream:n})=>{const i=n.getAudioTracks();i.sort((u,p)=>u.id<p.id?-1:u.id>p.id?1:0);const a=i.slice(0,1),o=l.createMediaStreamSource(new MediaStream(a));return Object.defineProperty(o,"mediaStream",{value:n}),o},oS=(l,n)=>(i,{mediaStreamTrack:a})=>{if(typeof i.createMediaStreamTrackSource=="function")return i.createMediaStreamTrackSource(a);const o=new MediaStream([a]),u=i.createMediaStreamSource(o);if(a.kind!=="audio")throw l();if(n(i))throw new TypeError;return u},cS=l=>l===null?null:l.hasOwnProperty("OfflineAudioContext")?l.OfflineAudioContext:l.hasOwnProperty("webkitOfflineAudioContext")?l.webkitOfflineAudioContext:null,uS=(l,n,i,a,o,u)=>(p,f)=>{const m=p.createOscillator();return me(m,f),te(m,f,"detune"),te(m,f,"frequency"),f.periodicWave!==void 0?m.setPeriodicWave(f.periodicWave):Qt(m,f,"type"),n(i,()=>i(p))||Ah(m),n(a,()=>a(p))||u(m,p),n(o,()=>o(p))||Ch(m),l(p,m),m},hS=l=>(n,i)=>{const a=n.createPanner();return a.orientationX===void 0?l(n,i):(me(a,i),te(a,i,"orientationX"),te(a,i,"orientationY"),te(a,i,"orientationZ"),te(a,i,"positionX"),te(a,i,"positionY"),te(a,i,"positionZ"),Qt(a,i,"coneInnerAngle"),Qt(a,i,"coneOuterAngle"),Qt(a,i,"coneOuterGain"),Qt(a,i,"distanceModel"),Qt(a,i,"maxDistance"),Qt(a,i,"panningModel"),Qt(a,i,"refDistance"),Qt(a,i,"rolloffFactor"),a)},fS=(l,n,i,a,o,u,p,f,m,d)=>(g,{coneInnerAngle:v,coneOuterAngle:b,coneOuterGain:y,distanceModel:S,maxDistance:x,orientationX:A,orientationY:E,orientationZ:D,panningModel:M,positionX:U,positionY:C,positionZ:R,refDistance:V,rolloffFactor:k,...Q})=>{const F=g.createPanner();if(Q.channelCount>2||Q.channelCountMode==="max")throw p();me(F,Q);const Z={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},X=i(g,{...Z,channelInterpretation:"speakers",numberOfInputs:6}),nt=a(g,{...Q,gain:1}),et=a(g,{...Z,gain:1}),it=a(g,{...Z,gain:0}),j=a(g,{...Z,gain:0}),I=a(g,{...Z,gain:0}),tt=a(g,{...Z,gain:0}),st=a(g,{...Z,gain:0}),N=o(g,256,6,1),H=u(g,{...Z,curve:new Float32Array([1,1]),oversample:"none"});let $=[A,E,D],J=[U,C,R];const ct=new Float32Array(1);N.onaudioprocess=({inputBuffer:at})=>{const re=[m(at,ct,0),m(at,ct,1),m(at,ct,2)];re.some((Kt,Ft)=>Kt!==$[Ft])&&(F.setOrientation(...re),$=re);const xe=[m(at,ct,3),m(at,ct,4),m(at,ct,5)];xe.some((Kt,Ft)=>Kt!==J[Ft])&&(F.setPosition(...xe),J=xe)},Object.defineProperty(it.gain,"defaultValue",{get:()=>0}),Object.defineProperty(j.gain,"defaultValue",{get:()=>0}),Object.defineProperty(I.gain,"defaultValue",{get:()=>0}),Object.defineProperty(tt.gain,"defaultValue",{get:()=>0}),Object.defineProperty(st.gain,"defaultValue",{get:()=>0});const lt={get bufferSize(){},get channelCount(){return F.channelCount},set channelCount(at){if(at>2)throw p();nt.channelCount=at,F.channelCount=at},get channelCountMode(){return F.channelCountMode},set channelCountMode(at){if(at==="max")throw p();nt.channelCountMode=at,F.channelCountMode=at},get channelInterpretation(){return F.channelInterpretation},set channelInterpretation(at){nt.channelInterpretation=at,F.channelInterpretation=at},get coneInnerAngle(){return F.coneInnerAngle},set coneInnerAngle(at){F.coneInnerAngle=at},get coneOuterAngle(){return F.coneOuterAngle},set coneOuterAngle(at){F.coneOuterAngle=at},get coneOuterGain(){return F.coneOuterGain},set coneOuterGain(at){if(at<0||at>1)throw n();F.coneOuterGain=at},get context(){return F.context},get distanceModel(){return F.distanceModel},set distanceModel(at){F.distanceModel=at},get inputs(){return[nt]},get maxDistance(){return F.maxDistance},set maxDistance(at){if(at<0)throw new RangeError;F.maxDistance=at},get numberOfInputs(){return F.numberOfInputs},get numberOfOutputs(){return F.numberOfOutputs},get orientationX(){return et.gain},get orientationY(){return it.gain},get orientationZ(){return j.gain},get panningModel(){return F.panningModel},set panningModel(at){F.panningModel=at},get positionX(){return I.gain},get positionY(){return tt.gain},get positionZ(){return st.gain},get refDistance(){return F.refDistance},set refDistance(at){if(at<0)throw new RangeError;F.refDistance=at},get rolloffFactor(){return F.rolloffFactor},set rolloffFactor(at){if(at<0)throw new RangeError;F.rolloffFactor=at},addEventListener(...at){return nt.addEventListener(at[0],at[1],at[2])},dispatchEvent(...at){return nt.dispatchEvent(at[0])},removeEventListener(...at){return nt.removeEventListener(at[0],at[1],at[2])}};v!==lt.coneInnerAngle&&(lt.coneInnerAngle=v),b!==lt.coneOuterAngle&&(lt.coneOuterAngle=b),y!==lt.coneOuterGain&&(lt.coneOuterGain=y),S!==lt.distanceModel&&(lt.distanceModel=S),x!==lt.maxDistance&&(lt.maxDistance=x),A!==lt.orientationX.value&&(lt.orientationX.value=A),E!==lt.orientationY.value&&(lt.orientationY.value=E),D!==lt.orientationZ.value&&(lt.orientationZ.value=D),M!==lt.panningModel&&(lt.panningModel=M),U!==lt.positionX.value&&(lt.positionX.value=U),C!==lt.positionY.value&&(lt.positionY.value=C),R!==lt.positionZ.value&&(lt.positionZ.value=R),V!==lt.refDistance&&(lt.refDistance=V),k!==lt.rolloffFactor&&(lt.rolloffFactor=k),($[0]!==1||$[1]!==0||$[2]!==0)&&F.setOrientation(...$),(J[0]!==0||J[1]!==0||J[2]!==0)&&F.setPosition(...J);const ot=()=>{nt.connect(F),l(nt,H,0,0),H.connect(et).connect(X,0,0),H.connect(it).connect(X,0,1),H.connect(j).connect(X,0,2),H.connect(I).connect(X,0,3),H.connect(tt).connect(X,0,4),H.connect(st).connect(X,0,5),X.connect(N).connect(g.destination)},Et=()=>{nt.disconnect(F),f(nt,H,0,0),H.disconnect(et),et.disconnect(X),H.disconnect(it),it.disconnect(X),H.disconnect(j),j.disconnect(X),H.disconnect(I),I.disconnect(X),H.disconnect(tt),tt.disconnect(X),H.disconnect(st),st.disconnect(X),X.disconnect(N),N.disconnect(g.destination)};return d(_a(lt,F),ot,Et)},dS=l=>(n,{disableNormalization:i,imag:a,real:o})=>{const u=a instanceof Float32Array?a:new Float32Array(a),p=o instanceof Float32Array?o:new Float32Array(o),f=n.createPeriodicWave(p,u,{disableNormalization:i});if(Array.from(a).length<2)throw l();return f},jr=(l,n,i,a)=>l.createScriptProcessor(n,i,a),pS=(l,n)=>(i,a)=>{const o=a.channelCountMode;if(o==="clamped-max")throw n();if(i.createStereoPanner===void 0)return l(i,a);const u=i.createStereoPanner();return me(u,a),te(u,a,"pan"),Object.defineProperty(u,"channelCountMode",{get:()=>o,set:p=>{if(p!==o)throw n()}}),u},mS=(l,n,i,a,o,u)=>{const f=new Float32Array([1,1]),m=Math.PI/2,d={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},g={...d,oversample:"none"},v=(S,x,A,E)=>{const D=new Float32Array(16385),M=new Float32Array(16385);for(let Q=0;Q<16385;Q+=1){const F=Q/16384*m;D[Q]=Math.cos(F),M[Q]=Math.sin(F)}const U=i(S,{...d,gain:0}),C=a(S,{...g,curve:D}),R=a(S,{...g,curve:f}),V=i(S,{...d,gain:0}),k=a(S,{...g,curve:M});return{connectGraph(){x.connect(U),x.connect(R.inputs===void 0?R:R.inputs[0]),x.connect(V),R.connect(A),A.connect(C.inputs===void 0?C:C.inputs[0]),A.connect(k.inputs===void 0?k:k.inputs[0]),C.connect(U.gain),k.connect(V.gain),U.connect(E,0,0),V.connect(E,0,1)},disconnectGraph(){x.disconnect(U),x.disconnect(R.inputs===void 0?R:R.inputs[0]),x.disconnect(V),R.disconnect(A),A.disconnect(C.inputs===void 0?C:C.inputs[0]),A.disconnect(k.inputs===void 0?k:k.inputs[0]),C.disconnect(U.gain),k.disconnect(V.gain),U.disconnect(E,0,0),V.disconnect(E,0,1)}}},b=(S,x,A,E)=>{const D=new Float32Array(16385),M=new Float32Array(16385),U=new Float32Array(16385),C=new Float32Array(16385),R=Math.floor(16385/2);for(let I=0;I<16385;I+=1)if(I>R){const tt=(I-R)/(16384-R)*m;D[I]=Math.cos(tt),M[I]=Math.sin(tt),U[I]=0,C[I]=1}else{const tt=I/(16384-R)*m;D[I]=1,M[I]=0,U[I]=Math.cos(tt),C[I]=Math.sin(tt)}const V=n(S,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),k=i(S,{...d,gain:0}),Q=a(S,{...g,curve:D}),F=i(S,{...d,gain:0}),Z=a(S,{...g,curve:M}),X=a(S,{...g,curve:f}),nt=i(S,{...d,gain:0}),et=a(S,{...g,curve:U}),it=i(S,{...d,gain:0}),j=a(S,{...g,curve:C});return{connectGraph(){x.connect(V),x.connect(X.inputs===void 0?X:X.inputs[0]),V.connect(k,0),V.connect(F,0),V.connect(nt,1),V.connect(it,1),X.connect(A),A.connect(Q.inputs===void 0?Q:Q.inputs[0]),A.connect(Z.inputs===void 0?Z:Z.inputs[0]),A.connect(et.inputs===void 0?et:et.inputs[0]),A.connect(j.inputs===void 0?j:j.inputs[0]),Q.connect(k.gain),Z.connect(F.gain),et.connect(nt.gain),j.connect(it.gain),k.connect(E,0,0),nt.connect(E,0,0),F.connect(E,0,1),it.connect(E,0,1)},disconnectGraph(){x.disconnect(V),x.disconnect(X.inputs===void 0?X:X.inputs[0]),V.disconnect(k,0),V.disconnect(F,0),V.disconnect(nt,1),V.disconnect(it,1),X.disconnect(A),A.disconnect(Q.inputs===void 0?Q:Q.inputs[0]),A.disconnect(Z.inputs===void 0?Z:Z.inputs[0]),A.disconnect(et.inputs===void 0?et:et.inputs[0]),A.disconnect(j.inputs===void 0?j:j.inputs[0]),Q.disconnect(k.gain),Z.disconnect(F.gain),et.disconnect(nt.gain),j.disconnect(it.gain),k.disconnect(E,0,0),nt.disconnect(E,0,0),F.disconnect(E,0,1),it.disconnect(E,0,1)}}},y=(S,x,A,E,D)=>{if(x===1)return v(S,A,E,D);if(x===2)return b(S,A,E,D);throw o()};return(S,{channelCount:x,channelCountMode:A,pan:E,...D})=>{if(A==="max")throw o();const M=l(S,{...D,channelCount:1,channelCountMode:A,numberOfInputs:2}),U=i(S,{...D,channelCount:x,channelCountMode:A,gain:1}),C=i(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:E});let{connectGraph:R,disconnectGraph:V}=y(S,x,U,C,M);Object.defineProperty(C.gain,"defaultValue",{get:()=>0}),Object.defineProperty(C.gain,"maxValue",{get:()=>1}),Object.defineProperty(C.gain,"minValue",{get:()=>-1});const k={get bufferSize(){},get channelCount(){return U.channelCount},set channelCount(X){U.channelCount!==X&&(Q&&V(),{connectGraph:R,disconnectGraph:V}=y(S,X,U,C,M),Q&&R()),U.channelCount=X},get channelCountMode(){return U.channelCountMode},set channelCountMode(X){if(X==="clamped-max"||X==="max")throw o();U.channelCountMode=X},get channelInterpretation(){return U.channelInterpretation},set channelInterpretation(X){U.channelInterpretation=X},get context(){return U.context},get inputs(){return[U]},get numberOfInputs(){return U.numberOfInputs},get numberOfOutputs(){return U.numberOfOutputs},get pan(){return C.gain},addEventListener(...X){return U.addEventListener(X[0],X[1],X[2])},dispatchEvent(...X){return U.dispatchEvent(X[0])},removeEventListener(...X){return U.removeEventListener(X[0],X[1],X[2])}};let Q=!1;const F=()=>{R(),Q=!0},Z=()=>{V(),Q=!1};return u(_a(k,M),F,Z)}},gS=(l,n,i,a,o,u,p)=>(f,m)=>{const d=f.createWaveShaper();if(u!==null&&u.name==="webkitAudioContext"&&f.createGain().gain.automationRate===void 0)return i(f,m);me(d,m);const g=m.curve===null||m.curve instanceof Float32Array?m.curve:new Float32Array(m.curve);if(g!==null&&g.length<2)throw n();Qt(d,{curve:g},"curve"),Qt(d,m,"oversample");let v=null,b=!1;return p(d,"curve",x=>()=>x.call(d),x=>A=>(x.call(d,A),b&&(a(A)&&v===null?v=l(f,d):!a(A)&&v!==null&&(v(),v=null)),A)),o(d,()=>{b=!0,a(d.curve)&&(v=l(f,d))},()=>{b=!1,v!==null&&(v(),v=null)})},_S=(l,n,i,a,o)=>(u,{curve:p,oversample:f,...m})=>{const d=u.createWaveShaper(),g=u.createWaveShaper();me(d,m),me(g,m);const v=i(u,{...m,gain:1}),b=i(u,{...m,gain:-1}),y=i(u,{...m,gain:1}),S=i(u,{...m,gain:-1});let x=null,A=!1,E=null;const D={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(C){v.channelCount=C,b.channelCount=C,d.channelCount=C,y.channelCount=C,g.channelCount=C,S.channelCount=C},get channelCountMode(){return d.channelCountMode},set channelCountMode(C){v.channelCountMode=C,b.channelCountMode=C,d.channelCountMode=C,y.channelCountMode=C,g.channelCountMode=C,S.channelCountMode=C},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(C){v.channelInterpretation=C,b.channelInterpretation=C,d.channelInterpretation=C,y.channelInterpretation=C,g.channelInterpretation=C,S.channelInterpretation=C},get context(){return d.context},get curve(){return E},set curve(C){if(C!==null&&C.length<2)throw n();if(C===null)d.curve=C,g.curve=C;else{const R=C.length,V=new Float32Array(R+2-R%2),k=new Float32Array(R+2-R%2);V[0]=C[0],k[0]=-C[R-1];const Q=Math.ceil((R+1)/2),F=(R+1)/2-1;for(let Z=1;Z<Q;Z+=1){const X=Z/Q*F,nt=Math.floor(X),et=Math.ceil(X);V[Z]=nt===et?C[nt]:(1-(X-nt))*C[nt]+(1-(et-X))*C[et],k[Z]=nt===et?-C[R-1-nt]:-((1-(X-nt))*C[R-1-nt])-(1-(et-X))*C[R-1-et]}V[Q]=R%2===1?C[Q-1]:(C[Q-2]+C[Q-1])/2,d.curve=V,g.curve=k}E=C,A&&(a(E)&&x===null?x=l(u,v):x!==null&&(x(),x=null))},get inputs(){return[v]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get oversample(){return d.oversample},set oversample(C){d.oversample=C,g.oversample=C},addEventListener(...C){return v.addEventListener(C[0],C[1],C[2])},dispatchEvent(...C){return v.dispatchEvent(C[0])},removeEventListener(...C){return v.removeEventListener(C[0],C[1],C[2])}};p!==null&&(D.curve=p instanceof Float32Array?p:new Float32Array(p)),f!==D.oversample&&(D.oversample=f);const M=()=>{v.connect(d).connect(y),v.connect(b).connect(g).connect(S).connect(y),A=!0,a(E)&&(x=l(u,v))},U=()=>{v.disconnect(d),d.disconnect(y),v.disconnect(b),b.disconnect(g),g.disconnect(S),S.disconnect(y),A=!1,x!==null&&(x(),x=null)};return o(_a(D,y),M,U)},qe=()=>new DOMException("","NotSupportedError"),vS={numberOfChannels:1},yS=(l,n,i,a,o)=>class extends l{constructor(p,f,m){let d;if(typeof p=="number"&&f!==void 0&&m!==void 0)d={length:f,numberOfChannels:p,sampleRate:m};else if(typeof p=="object")d=p;else throw new Error("The given parameters are not valid.");const{length:g,numberOfChannels:v,sampleRate:b}={...vS,...d},y=a(v,g,b);n(xr,()=>xr(y))||y.addEventListener("statechange",(()=>{let S=0;const x=A=>{this._state==="running"&&(S>0?(y.removeEventListener("statechange",x),A.stopImmediatePropagation(),this._waitForThePromiseToSettle(A)):S+=1)};return x})()),super(y,v),this._length=g,this._nativeOfflineAudioContext=y,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(i()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Bg(this)}))}_waitForThePromiseToSettle(p){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(p):setTimeout(()=>this._waitForThePromiseToSettle(p))}},bS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},SS=(l,n,i,a,o,u,p)=>class extends l{constructor(m,d){const g=o(m),v={...bS,...d},b=i(g,v),y=u(g),S=y?a():null,x=m.sampleRate/2;super(m,!1,b,S),this._detune=n(this,y,b.detune,153600,-153600),this._frequency=n(this,y,b.frequency,x,-x),this._nativeOscillatorNode=b,this._onended=null,this._oscillatorNodeRenderer=S,this._oscillatorNodeRenderer!==null&&v.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=v.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(m){const d=typeof m=="function"?p(this,m):null;this._nativeOscillatorNode.onended=d;const g=this._nativeOscillatorNode.onended;this._onended=g!==null&&g===d?m:g}get type(){return this._nativeOscillatorNode.type}set type(m){this._nativeOscillatorNode.type=m,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(m){this._nativeOscillatorNode.setPeriodicWave(m),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=m)}start(m=0){if(this._nativeOscillatorNode.start(m),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=m),this.context.state!=="closed"){ca(this);const d=()=>{this._nativeOscillatorNode.removeEventListener("ended",d),ns(this)&&Mr(this)};this._nativeOscillatorNode.addEventListener("ended",d)}}stop(m=0){this._nativeOscillatorNode.stop(m),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=m)}},TS=(l,n,i,a,o)=>()=>{const u=new WeakMap;let p=null,f=null,m=null;const d=async(g,v)=>{let b=i(g);const y=ke(b,v);if(!y){const S={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,detune:b.detune.value,frequency:b.frequency.value,periodicWave:p===null?void 0:p,type:b.type};b=n(v,S),f!==null&&b.start(f),m!==null&&b.stop(m)}return u.set(v,b),y?(await l(v,g.detune,b.detune),await l(v,g.frequency,b.frequency)):(await a(v,g.detune,b.detune),await a(v,g.frequency,b.frequency)),await o(g,v,b),b};return{set periodicWave(g){p=g},set start(g){f=g},set stop(g){m=g},render(g,v){const b=u.get(v);return b!==void 0?Promise.resolve(b):d(g,v)}}},xS={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},wS=(l,n,i,a,o,u,p)=>class extends l{constructor(m,d){const g=o(m),v={...xS,...d},b=i(g,v),y=u(g),S=y?a():null;super(m,!1,b,S),this._nativePannerNode=b,this._orientationX=n(this,y,b.orientationX,ze,tn),this._orientationY=n(this,y,b.orientationY,ze,tn),this._orientationZ=n(this,y,b.orientationZ,ze,tn),this._positionX=n(this,y,b.positionX,ze,tn),this._positionY=n(this,y,b.positionY,ze,tn),this._positionZ=n(this,y,b.positionZ,ze,tn),p(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(m){this._nativePannerNode.coneInnerAngle=m}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(m){this._nativePannerNode.coneOuterAngle=m}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(m){this._nativePannerNode.coneOuterGain=m}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(m){this._nativePannerNode.distanceModel=m}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(m){this._nativePannerNode.maxDistance=m}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(m){this._nativePannerNode.panningModel=m}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(m){this._nativePannerNode.refDistance=m}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(m){this._nativePannerNode.rolloffFactor=m}},AS=(l,n,i,a,o,u,p,f,m,d)=>()=>{const g=new WeakMap;let v=null;const b=async(y,S)=>{let x=null,A=u(y);const E={channelCount:A.channelCount,channelCountMode:A.channelCountMode,channelInterpretation:A.channelInterpretation},D={...E,coneInnerAngle:A.coneInnerAngle,coneOuterAngle:A.coneOuterAngle,coneOuterGain:A.coneOuterGain,distanceModel:A.distanceModel,maxDistance:A.maxDistance,panningModel:A.panningModel,refDistance:A.refDistance,rolloffFactor:A.rolloffFactor},M=ke(A,S);if("bufferSize"in A)x=a(S,{...E,gain:1});else if(!M){const U={...D,orientationX:A.orientationX.value,orientationY:A.orientationY.value,orientationZ:A.orientationZ.value,positionX:A.positionX.value,positionY:A.positionY.value,positionZ:A.positionZ.value};A=o(S,U)}if(g.set(S,x===null?A:x),x!==null){if(v===null){if(p===null)throw new Error("Missing the native OfflineAudioContext constructor.");const Z=new p(6,y.context.length,S.sampleRate),X=n(Z,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});X.connect(Z.destination),v=(async()=>{const nt=await Promise.all([y.orientationX,y.orientationY,y.orientationZ,y.positionX,y.positionY,y.positionZ].map(async(et,it)=>{const j=i(Z,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:it===0?1:0});return await f(Z,et,j.offset),j}));for(let et=0;et<6;et+=1)nt[et].connect(X,0,et),nt[et].start(0);return d(Z)})()}const U=await v,C=a(S,{...E,gain:1});await m(y,S,C);const R=[];for(let Z=0;Z<U.numberOfChannels;Z+=1)R.push(U.getChannelData(Z));let V=[R[0][0],R[1][0],R[2][0]],k=[R[3][0],R[4][0],R[5][0]],Q=a(S,{...E,gain:1}),F=o(S,{...D,orientationX:V[0],orientationY:V[1],orientationZ:V[2],positionX:k[0],positionY:k[1],positionZ:k[2]});C.connect(Q).connect(F.inputs[0]),F.connect(x);for(let Z=128;Z<U.length;Z+=128){const X=[R[0][Z],R[1][Z],R[2][Z]],nt=[R[3][Z],R[4][Z],R[5][Z]];if(X.some((et,it)=>et!==V[it])||nt.some((et,it)=>et!==k[it])){V=X,k=nt;const et=Z/S.sampleRate;Q.gain.setValueAtTime(0,et),Q=a(S,{...E,gain:0}),F=o(S,{...D,orientationX:V[0],orientationY:V[1],orientationZ:V[2],positionX:k[0],positionY:k[1],positionZ:k[2]}),Q.gain.setValueAtTime(1,et),C.connect(Q).connect(F.inputs[0]),F.connect(x)}}return x}return M?(await l(S,y.orientationX,A.orientationX),await l(S,y.orientationY,A.orientationY),await l(S,y.orientationZ,A.orientationZ),await l(S,y.positionX,A.positionX),await l(S,y.positionY,A.positionY),await l(S,y.positionZ,A.positionZ)):(await f(S,y.orientationX,A.orientationX),await f(S,y.orientationY,A.orientationY),await f(S,y.orientationZ,A.orientationZ),await f(S,y.positionX,A.positionX),await f(S,y.positionY,A.positionY),await f(S,y.positionZ,A.positionZ)),ga(A)?await m(y,S,A.inputs[0]):await m(y,S,A),A};return{render(y,S){const x=g.get(S);return x!==void 0?Promise.resolve(x):b(y,S)}}},CS={disableNormalization:!1},NS=(l,n,i,a)=>class Wg{constructor(u,p){const f=n(u),m=a({...CS,...p}),d=l(f,m);return i.add(d),d}static[Symbol.hasInstance](u){return u!==null&&typeof u=="object"&&Object.getPrototypeOf(u)===Wg.prototype||i.has(u)}},ES=(l,n)=>(i,a,o)=>(l(a).replay(o),n(a,i,o)),OS=(l,n,i)=>async(a,o,u)=>{const p=l(a);await Promise.all(p.activeInputs.map((f,m)=>Array.from(f).map(async([d,g])=>{const b=await n(d).render(d,o),y=a.context.destination;!i(d)&&(a!==y||!i(a))&&b.connect(u,g,m)})).reduce((f,m)=>[...f,...m],[]))},MS=(l,n,i)=>async(a,o,u)=>{const p=n(a);await Promise.all(Array.from(p.activeInputs).map(async([f,m])=>{const g=await l(f).render(f,o);i(f)||g.connect(u,m)}))},DS=(l,n,i,a)=>o=>l(xr,()=>xr(o))?Promise.resolve(l(a,a)).then(u=>{if(!u){const p=i(o,512,0,1);o.oncomplete=()=>{p.onaudioprocess=null,p.disconnect()},p.onaudioprocess=()=>o.currentTime,p.connect(o.destination)}return o.startRendering()}):new Promise(u=>{const p=n(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=f=>{p.disconnect(),u(f.renderedBuffer)},p.connect(o.destination),o.startRendering()}),kS=l=>(n,i)=>{l.set(n,i)},RS=l=>(n,i)=>l.set(n,i),jS=(l,n,i,a,o,u,p,f)=>(m,d)=>i(m).render(m,d).then(()=>Promise.all(Array.from(a(d)).map(g=>i(g).render(g,d)))).then(()=>o(d)).then(g=>(typeof g.copyFromChannel!="function"?(p(g),Th(g)):n(u,()=>u(g))||f(g),l.add(g),g)),zS={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},VS=(l,n,i,a,o,u)=>class extends l{constructor(f,m){const d=o(f),g={...zS,...m},v=i(d,g),b=u(d),y=b?a():null;super(f,!1,v,y),this._pan=n(this,b,v.pan)}get pan(){return this._pan}},qS=(l,n,i,a,o)=>()=>{const u=new WeakMap,p=async(f,m)=>{let d=i(f);const g=ke(d,m);if(!g){const v={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,pan:d.pan.value};d=n(m,v)}return u.set(m,d),g?await l(m,f.pan,d.pan):await a(m,f.pan,d.pan),ga(d)?await o(f,m,d.inputs[0]):await o(f,m,d),d};return{render(f,m){const d=u.get(m);return d!==void 0?Promise.resolve(d):p(f,m)}}},US=l=>()=>{if(l===null)return!1;try{new l({length:1,sampleRate:44100})}catch{return!1}return!0},BS=(l,n)=>async()=>{if(l===null)return!0;if(n===null)return!1;const i=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),a=new n(1,128,44100),o=URL.createObjectURL(i);let u=!1,p=!1;try{await a.audioWorklet.addModule(o);const f=new l(a,"a",{numberOfOutputs:0}),m=a.createOscillator();f.port.onmessage=()=>u=!0,f.onprocessorerror=()=>p=!0,m.connect(f),m.start(0),await a.startRendering(),await new Promise(d=>setTimeout(d))}catch{}finally{URL.revokeObjectURL(o)}return u&&!p},LS=(l,n)=>()=>{if(n===null)return Promise.resolve(!1);const i=new n(1,1,44100),a=l(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{i.oncomplete=()=>{a.disconnect(),o(i.currentTime!==0)},i.startRendering()})},HS=()=>new DOMException("","UnknownError"),YS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},GS=(l,n,i,a,o,u,p)=>class extends l{constructor(m,d){const g=o(m),v={...YS,...d},b=i(g,v),S=u(g)?a():null;super(m,!0,b,S),this._isCurveNullified=!1,this._nativeWaveShaperNode=b,p(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(m){if(m===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(m.length<2)throw n();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=m}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(m){this._nativeWaveShaperNode.oversample=m}},XS=(l,n,i)=>()=>{const a=new WeakMap,o=async(u,p)=>{let f=n(u);if(!ke(f,p)){const d={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,curve:f.curve,oversample:f.oversample};f=l(p,d)}return a.set(p,f),ga(f)?await i(u,p,f.inputs[0]):await i(u,p,f),f};return{render(u,p){const f=a.get(p);return f!==void 0?Promise.resolve(f):o(u,p)}}},IS=()=>typeof window>"u"?null:window,ZS=(l,n)=>i=>{i.copyFromChannel=(a,o,u=0)=>{const p=l(u),f=l(o);if(f>=i.numberOfChannels)throw n();const m=i.length,d=i.getChannelData(f),g=a.length;for(let v=p<0?-p:0;v+p<m&&v<g;v+=1)a[v]=d[v+p]},i.copyToChannel=(a,o,u=0)=>{const p=l(u),f=l(o);if(f>=i.numberOfChannels)throw n();const m=i.length,d=i.getChannelData(f),g=a.length;for(let v=p<0?-p:0;v+p<m&&v<g;v+=1)d[v+p]=a[v]}},QS=l=>n=>{n.copyFromChannel=(i=>(a,o,u=0)=>{const p=l(u),f=l(o);if(p<n.length)return i.call(n,a,f,p)})(n.copyFromChannel),n.copyToChannel=(i=>(a,o,u=0)=>{const p=l(u),f=l(o);if(p<n.length)return i.call(n,a,f,p)})(n.copyToChannel)},FS=l=>(n,i)=>{const a=i.createBuffer(1,1,44100);n.buffer===null&&(n.buffer=a),l(n,"buffer",o=>()=>{const u=o.call(n);return u===a?null:u},o=>u=>o.call(n,u===null?a:u))},WS=(l,n)=>(i,a)=>{a.channelCount=1,a.channelCountMode="explicit",Object.defineProperty(a,"channelCount",{get:()=>1,set:()=>{throw l()}}),Object.defineProperty(a,"channelCountMode",{get:()=>"explicit",set:()=>{throw l()}});const o=i.createBufferSource();n(a,()=>{const f=a.numberOfInputs;for(let m=0;m<f;m+=1)o.connect(a,0,m)},()=>o.disconnect(a))},Pg=(l,n,i)=>l.copyFromChannel===void 0?l.getChannelData(i)[0]:(l.copyFromChannel(n,i),n[0]),Kg=l=>{if(l===null)return!1;const n=l.length;return n%2!==0?l[Math.floor(n/2)]!==0:l[n/2-1]+l[n/2]!==0},zr=(l,n,i,a)=>{let o=l;for(;!o.hasOwnProperty(n);)o=Object.getPrototypeOf(o);const{get:u,set:p}=Object.getOwnPropertyDescriptor(o,n);Object.defineProperty(l,n,{get:i(u),set:a(p)})},PS=l=>({...l,outputChannelCount:l.outputChannelCount!==void 0?l.outputChannelCount:l.numberOfInputs===1&&l.numberOfOutputs===1?[l.channelCount]:Array.from({length:l.numberOfOutputs},()=>1)}),KS=l=>({...l,channelCount:l.numberOfOutputs}),JS=l=>{const{imag:n,real:i}=l;return n===void 0?i===void 0?{...l,imag:[0,0],real:[0,0]}:{...l,imag:Array.from(i,()=>0),real:i}:i===void 0?{...l,imag:n,real:Array.from(n,()=>0)}:{...l,imag:n,real:i}},Jg=(l,n,i)=>{try{l.setValueAtTime(n,i)}catch(a){if(a.code!==9)throw a;Jg(l,n,i+1e-7)}},$S=l=>{const n=l.createBufferSource();n.start();try{n.start()}catch{return!0}return!1},tT=l=>{const n=l.createBufferSource(),i=l.createBuffer(1,1,44100);n.buffer=i;try{n.start(0,1)}catch{return!1}return!0},eT=l=>{const n=l.createBufferSource();n.start();try{n.stop()}catch{return!1}return!0},Nh=l=>{const n=l.createOscillator();try{n.start(-1)}catch(i){return i instanceof RangeError}return!1},$g=l=>{const n=l.createBuffer(1,1,44100),i=l.createBufferSource();i.buffer=n,i.start(),i.stop();try{return i.stop(),!0}catch{return!1}},Eh=l=>{const n=l.createOscillator();try{n.stop(-1)}catch(i){return i instanceof RangeError}return!1},nT=l=>{const{port1:n,port2:i}=new MessageChannel;try{n.postMessage(l)}finally{n.close(),i.close()}},sT=l=>{l.start=(n=>(i=0,a=0,o)=>{const u=l.buffer,p=u===null?a:Math.min(u.duration,a);u!==null&&p>u.duration-.5/l.context.sampleRate?n.call(l,i,0,0):n.call(l,i,p,o)})(l.start)},t_=(l,n)=>{const i=n.createGain();l.connect(i);const a=(o=>()=>{o.call(l,i),l.removeEventListener("ended",a)})(l.disconnect);l.addEventListener("ended",a),_a(l,i),l.stop=(o=>{let u=!1;return(p=0)=>{if(u)try{o.call(l,p)}catch{i.gain.setValueAtTime(0,p)}else o.call(l,p),u=!0}})(l.stop)},va=(l,n)=>i=>{const a={value:l};return Object.defineProperties(i,{currentTarget:a,target:a}),typeof n=="function"?n.call(l,i):n.handleEvent.call(l,i)},iT=wy(pi),aT=My(pi),rT=Yb(xo),e_=new WeakMap,lT=r1(e_),An=vb(new Map,new WeakMap),zn=IS(),n_=V1(An,Vn),Oh=a1(Ve),Ne=OS(Ve,Oh,fi),oT=zy(n_,It,Ne),Gt=c1(To),rs=cS(zn),Lt=C1(rs),s_=new WeakMap,i_=Jb(va),Vr=L1(zn),Mh=T1(Vr),Dh=x1(zn),a_=w1(zn),wr=Y1(zn),ae=rb(Ay(kg),Oy(iT,aT,po,rT,mo,Ve,lT,Or,It,pi,ns,fi,ro),An,_1(uh,mo,Ve,It,Tr,ns),Vn,wo,qe,Ub(po,uh,Ve,It,Tr,Gt,ns,Lt),Ib(s_,Ve,wn),i_,Gt,Mh,Dh,a_,Lt,wr),cT=jy(ae,oT,Vn,n_,Gt,Lt),kh=new WeakSet,yg=q1(zn),r_=Db(new Uint32Array(1)),Rh=ZS(r_,Vn),jh=QS(r_),l_=qy(kh,An,qe,yg,rs,US(yg),Rh,jh),Ao=Dy(Xe),o_=MS(Oh,Dr,fi),qn=Ab(o_),ya=B1(Ao,An,$S,tT,eT,Nh,$g,Eh,sT,FS(zr),t_),Un=ES(l1(Dr),o_),uT=Ly(qn,ya,It,Un,Ne),Cn=lb(Cy(Rg),s_,Sh,ob,vy,yy,by,Sy,Ty,lh,Mg,Vr,Jg),hT=By(ae,uT,Cn,be,ya,Gt,Lt,va),fT=Wy(ae,Py,Vn,be,H1(Xe,zr),Gt,Lt,Ne),dT=_b(qn,Qg,It,Un,Ne),mi=RS(e_),pT=gb(ae,Cn,dT,wo,Qg,Gt,Lt,mi),Ls=j1(pi,Dh),mT=WS(be,Ls),Hs=W1(Vr,mT),gT=Sb(Hs,It,Ne),_T=bb(ae,gT,Hs,Gt,Lt),vT=wb(Rr,It,Ne),yT=xb(ae,vT,Rr,Gt,Lt,KS),bT=J1(Ao,ya,Xe,Ls),ba=K1(Ao,An,bT,Nh,Eh),ST=Mb(qn,ba,It,Un,Ne),TT=Ob(ae,Cn,ST,ba,Gt,Lt,va),c_=$1(qe,zr),xT=jb(c_,It,Ne),wT=Rb(ae,xT,c_,Gt,Lt,mi),AT=Hb(qn,Fg,It,Un,Ne),CT=Lb(ae,Cn,AT,Fg,Gt,Lt,mi),u_=tS(qe),NT=Wb(qn,u_,It,Un,Ne),ET=Fb(ae,Cn,NT,u_,qe,Gt,Lt,mi),OT=s1(qn,Xe,It,Un,Ne),MT=n1(ae,Cn,OT,Xe,Gt,Lt),DT=iS(wo,be,jr,qe),Co=DS(An,Xe,jr,LS(Xe,rs)),kT=g1(ya,It,rs,Ne,Co),RT=eS(DT),jT=p1(ae,RT,kT,Gt,Lt,mi),zT=Ky(Cn,Hs,ba,jr,qe,Pg,Lt,zr),h_=new WeakMap,VT=R1(fT,zT,i_,Lt,h_,va),f_=uS(Ao,An,Nh,$g,Eh,t_),qT=TS(qn,f_,It,Un,Ne),UT=SS(ae,Cn,f_,qT,Gt,Lt,va),d_=Nb(ya),BT=_S(d_,be,Xe,Kg,Ls),No=gS(d_,be,BT,Kg,Ls,Vr,zr),LT=fS(po,be,Hs,Xe,jr,No,qe,mo,Pg,Ls),p_=hS(LT),HT=AS(qn,Hs,ba,Xe,p_,It,rs,Un,Ne,Co),YT=wS(ae,Cn,p_,HT,Gt,Lt,mi),GT=dS(Vn),XT=NS(GT,Gt,new WeakSet,JS),IT=mS(Hs,Rr,Xe,No,qe,Ls),m_=pS(IT,qe),ZT=qS(qn,m_,It,Un,Ne),QT=VS(ae,Cn,m_,ZT,Gt,Lt),FT=XS(No,It,Ne),WT=GS(ae,be,No,FT,Gt,Lt,mi),g_=N1(zn),zh=$b(zn),__=new WeakMap,PT=u1(__,rs),KT=g_?Ey(An,qe,Kb(zn),zh,t1(xy),Gt,PT,Lt,wr,new WeakMap,new WeakMap,BS(wr,rs),zn):void 0,JT=A1(Mh,Lt),$T=qb(kh,An,Vb,Pb,new WeakSet,Gt,JT,ho,xr,Rh,jh),v_=pb(KT,cT,l_,hT,pT,_T,yT,TT,wT,$T,CT,ET,MT,jT,VT,UT,YT,XT,QT,WT),tx=E1(ae,aS,Gt,Lt),ex=M1(ae,rS,Gt,Lt),nx=D1(ae,lS,Gt,Lt),sx=oS(be,Lt),ix=k1(ae,sx,Gt),ax=Fy(v_,be,qe,HS,tx,ex,nx,ix,Vr),Vh=h1(h_),rx=ky(Vh),y_=Cb(Vn),lx=Gb(Vh),b_=Zb(Vn),S_=new WeakMap,ox=i1(S_,wn),cx=F1(y_,Vn,be,Hs,Rr,ba,Xe,jr,qe,b_,zh,ox,Ls),ux=X1(be,cx,Xe,qe,Ls),hx=db(qn,y_,ya,Hs,Rr,ba,Xe,lx,b_,zh,It,wr,rs,Un,Ne,Co),fx=o1(__),dx=kS(S_),bg=g_?ub(rx,ae,Cn,hx,ux,Ve,fx,Gt,Lt,wr,PS,dx,nT,va):void 0,px=zb(qe,rs),mx=jS(kh,An,Oh,Vh,Co,ho,Rh,jh),gx=yS(v_,An,be,px,mx),_x=v1(To,Mh),vx=y1(bh,Dh),yx=b1(Sh,a_),bx=S1(To,Lt);function sn(l){return l===void 0}function xt(l){return l!==void 0}function Sx(l){return typeof l=="function"}function ss(l){return typeof l=="number"}function Vs(l){return Object.prototype.toString.call(l)==="[object Object]"&&l.constructor===Object}function T_(l){return typeof l=="boolean"}function _n(l){return Array.isArray(l)}function is(l){return typeof l=="string"}function so(l){return is(l)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(l)}function St(l,n){if(!l)throw new Error(n)}function Us(l,n,i=1/0){if(!(n<=l&&l<=i))throw new RangeError(`Value must be within [${n}, ${i}], got: ${l}`)}function x_(l){!l.isOffline&&l.state!=="running"&&qh('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let w_=!1,Sg=!1;function Tg(l){w_=l}function Tx(l){sn(l)&&w_&&!Sg&&(Sg=!0,qh("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let A_=console;function xx(...l){A_.log(...l)}function qh(...l){A_.warn(...l)}function wx(l){return new ax(l)}function Ax(l,n,i){return new gx(l,n,i)}const en=typeof self=="object"?self:null,Cx=en&&(en.hasOwnProperty("AudioContext")||en.hasOwnProperty("webkitAudioContext"));function Nx(l,n,i){return St(xt(bg),"AudioWorkletNode only works in a secure context (https or localhost)"),new(l instanceof(en==null?void 0:en.BaseAudioContext)?en==null?void 0:en.AudioWorkletNode:bg)(l,n,i)}function Nn(l,n,i,a){var o=arguments.length,u=o<3?n:a===null?a=Object.getOwnPropertyDescriptor(n,i):a,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(l,n,i,a);else for(var f=l.length-1;f>=0;f--)(p=l[f])&&(u=(o<3?p(u):o>3?p(n,i,u):p(n,i))||u);return o>3&&u&&Object.defineProperty(n,i,u),u}function he(l,n,i,a){function o(u){return u instanceof i?u:new i(function(p){p(u)})}return new(i||(i=Promise))(function(u,p){function f(g){try{d(a.next(g))}catch(v){p(v)}}function m(g){try{d(a.throw(g))}catch(v){p(v)}}function d(g){g.done?u(g.value):o(g.value).then(f,m)}d((a=a.apply(l,n||[])).next())})}class Ex{constructor(n,i,a,o){this._callback=n,this._type=i,this._minimumUpdateInterval=Math.max(128/(o||44100),.001),this.updateInterval=a,this._createClock()}_createWorker(){const n=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),i=URL.createObjectURL(n),a=new Worker(i);a.onmessage=this._callback.bind(this),this._worker=a}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(n){var i;this._updateInterval=Math.max(n,this._minimumUpdateInterval),this._type==="worker"&&((i=this._worker)===null||i===void 0||i.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(n){this._disposeClock(),this._type=n,this._createClock()}dispose(){this._disposeClock()}}function di(l){return yx(l)}function qs(l){return vx(l)}function lo(l){return bx(l)}function na(l){return _x(l)}function Ox(l){return l instanceof l_}function Mx(l,n){return l==="value"||di(n)||qs(n)||Ox(n)}function ra(l,...n){if(!n.length)return l;const i=n.shift();if(Vs(l)&&Vs(i))for(const a in i)Mx(a,i[a])?l[a]=i[a]:Vs(i[a])?(l[a]||Object.assign(l,{[a]:{}}),ra(l[a],i[a])):Object.assign(l,{[a]:i[a]});return ra(l,...n)}function Dx(l,n){return l.length===n.length&&l.every((i,a)=>n[a]===i)}function vt(l,n,i=[],a){const o={},u=Array.from(n);if(Vs(u[0])&&a&&!Reflect.has(u[0],a)&&(Object.keys(u[0]).some(f=>Reflect.has(l,f))||(ra(o,{[a]:u[0]}),i.splice(i.indexOf(a),1),u.shift())),u.length===1&&Vs(u[0]))ra(o,u[0]);else for(let p=0;p<i.length;p++)xt(u[p])&&(o[i[p]]=u[p]);return ra(l,o)}function kx(l){return l.constructor.getDefaults()}function jn(l,n){return sn(l)?n:l}function xg(l,n){return n.forEach(i=>{Reflect.has(l,i)&&delete l[i]}),l}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class ls{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...n){(this.debug||en&&this.toString()===en.TONE_DEBUG_CLASS)&&xx(this,...n)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}ls.version=Og;const Uh=1e-6;function ua(l,n){return l>n+Uh}function mh(l,n){return ua(l,n)||Tn(l,n)}function yo(l,n){return l+Uh<n}function Tn(l,n){return Math.abs(l-n)<Uh}function Rx(l,n,i){return Math.max(Math.min(l,i),n)}class vn extends ls{constructor(){super(),this.name="Timeline",this._timeline=[];const n=vt(vn.getDefaults(),arguments,["memory"]);this.memory=n.memory,this.increasing=n.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(n){if(St(Reflect.has(n,"time"),"Timeline: events must have a time attribute"),n.time=n.time.valueOf(),this.increasing&&this.length){const i=this._timeline[this.length-1];St(mh(n.time,i.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(n)}else{const i=this._search(n.time);this._timeline.splice(i+1,0,n)}if(this.length>this.memory){const i=this.length-this.memory;this._timeline.splice(0,i)}return this}remove(n){const i=this._timeline.indexOf(n);return i!==-1&&this._timeline.splice(i,1),this}get(n,i="time"){const a=this._search(n,i);return a!==-1?this._timeline[a]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(n,i="time"){const a=this._search(n,i);return a+1<this._timeline.length?this._timeline[a+1]:null}getBefore(n){const i=this._timeline.length;if(i>0&&this._timeline[i-1].time<n)return this._timeline[i-1];const a=this._search(n);return a-1>=0?this._timeline[a-1]:null}cancel(n){if(this._timeline.length>1){let i=this._search(n);if(i>=0)if(Tn(this._timeline[i].time,n)){for(let a=i;a>=0&&Tn(this._timeline[a].time,n);a--)i=a;this._timeline=this._timeline.slice(0,i)}else this._timeline=this._timeline.slice(0,i+1);else this._timeline=[]}else this._timeline.length===1&&mh(this._timeline[0].time,n)&&(this._timeline=[]);return this}cancelBefore(n){const i=this._search(n);return i>=0&&(this._timeline=this._timeline.slice(i+1)),this}previousEvent(n){const i=this._timeline.indexOf(n);return i>0?this._timeline[i-1]:null}_search(n,i="time"){if(this._timeline.length===0)return-1;let a=0;const o=this._timeline.length;let u=o;if(o>0&&this._timeline[o-1][i]<=n)return o-1;for(;a<u;){let p=Math.floor(a+(u-a)/2);const f=this._timeline[p],m=this._timeline[p+1];if(Tn(f[i],n)){for(let d=p;d<this._timeline.length;d++){const g=this._timeline[d];if(Tn(g[i],n))p=d;else break}return p}else{if(yo(f[i],n)&&ua(m[i],n))return p;ua(f[i],n)?u=p:a=p+1}}return-1}_iterate(n,i=0,a=this._timeline.length-1){this._timeline.slice(i,a+1).forEach(n)}forEach(n){return this._iterate(n),this}forEachBefore(n,i){const a=this._search(n);return a!==-1&&this._iterate(i,0,a),this}forEachAfter(n,i){const a=this._search(n);return this._iterate(i,a+1),this}forEachBetween(n,i,a){let o=this._search(n),u=this._search(i);return o!==-1&&u!==-1?(this._timeline[o].time!==n&&(o+=1),this._timeline[u].time===i&&(u-=1),this._iterate(a,o,u)):o===-1&&this._iterate(a,0,u),this}forEachFrom(n,i){let a=this._search(n);for(;a>=0&&this._timeline[a].time>=n;)a--;return this._iterate(i,a+1),this}forEachAtTime(n,i){const a=this._search(n);if(a!==-1&&Tn(this._timeline[a].time,n)){let o=a;for(let u=a;u>=0&&Tn(this._timeline[u].time,n);u--)o=u;this._iterate(u=>{i(u)},o,a)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const C_=[];function Eo(l){C_.push(l)}function jx(l){C_.forEach(n=>n(l))}const N_=[];function Oo(l){N_.push(l)}function zx(l){N_.forEach(n=>n(l))}class qr extends ls{constructor(){super(...arguments),this.name="Emitter"}on(n,i){return n.split(/\W+/).forEach(o=>{sn(this._events)&&(this._events={}),this._events.hasOwnProperty(o)||(this._events[o]=[]),this._events[o].push(i)}),this}once(n,i){const a=(...o)=>{i(...o),this.off(n,a)};return this.on(n,a),this}off(n,i){return n.split(/\W+/).forEach(o=>{if(sn(this._events)&&(this._events={}),this._events.hasOwnProperty(o))if(sn(i))this._events[o]=[];else{const u=this._events[o];for(let p=u.length-1;p>=0;p--)u[p]===i&&u.splice(p,1)}}),this}emit(n,...i){if(this._events&&this._events.hasOwnProperty(n)){const a=this._events[n].slice(0);for(let o=0,u=a.length;o<u;o++)a[o].apply(this,i)}return this}static mixin(n){["on","once","off","emit"].forEach(i=>{const a=Object.getOwnPropertyDescriptor(qr.prototype,i);Object.defineProperty(n.prototype,i,a)})}dispose(){return super.dispose(),this._events=void 0,this}}class E_ extends qr{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Ur extends E_{constructor(){var n,i;super(),this.name="Context",this._constants=new Map,this._timeouts=new vn,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const a=vt(Ur.getDefaults(),arguments,["context"]);a.context?(this._context=a.context,this._latencyHint=((n=arguments[0])===null||n===void 0?void 0:n.latencyHint)||""):(this._context=wx({latencyHint:a.latencyHint}),this._latencyHint=a.latencyHint),this._ticker=new Ex(this.emit.bind(this,"tick"),a.clockSource,a.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((i=arguments[0])===null||i===void 0)&&i.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=a.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(jx(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(n,i,a){return this._context.createBuffer(n,i,a)}createChannelMerger(n){return this._context.createChannelMerger(n)}createChannelSplitter(n){return this._context.createChannelSplitter(n)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(n){return this._context.createDelay(n)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(n,i){return this._context.createIIRFilter(n,i)}createPanner(){return this._context.createPanner()}createPeriodicWave(n,i,a){return this._context.createPeriodicWave(n,i,a)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(n){return St(na(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(n)}createMediaElementSource(n){return St(na(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(n)}createMediaStreamDestination(){return St(na(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(n){return this._context.decodeAudioData(n)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(n){St(!this._initialized,"The listener cannot be set after initialization."),this._listener=n}get transport(){return this.initialize(),this._transport}set transport(n){St(!this._initialized,"The transport cannot be set after initialization."),this._transport=n}get draw(){return this.initialize(),this._draw}set draw(n){St(!this._initialized,"Draw cannot be set after initialization."),this._draw=n}get destination(){return this.initialize(),this._destination}set destination(n){St(!this._initialized,"The destination cannot be set after initialization."),this._destination=n}createAudioWorkletNode(n,i){return Nx(this.rawContext,n,i)}addAudioWorkletModule(n){return he(this,void 0,void 0,function*(){St(xt(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(n)),yield this._workletPromise})}workletsAreReady(){return he(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(n){this._ticker.updateInterval=n}get clockSource(){return this._ticker.type}set clockSource(n){this._ticker.type=n}get lookAhead(){return this._lookAhead}set lookAhead(n){this._lookAhead=n,this.updateInterval=n?n/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return na(this._context)?this._context.resume():Promise.resolve()}close(){return he(this,void 0,void 0,function*(){na(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&zx(this)})}getConstant(n){if(this._constants.has(n))return this._constants.get(n);{const i=this._context.createBuffer(1,128,this._context.sampleRate),a=i.getChannelData(0);for(let u=0;u<a.length;u++)a[u]=n;const o=this._context.createBufferSource();return o.channelCount=1,o.channelCountMode="explicit",o.buffer=i,o.loop=!0,o.start(0),this._constants.set(n,o),o}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(n=>this._constants[n].disconnect()),this.close(),this}_timeoutLoop(){const n=this.now();this._timeouts.forEachBefore(n,i=>{i.callback(),this._timeouts.remove(i)})}setTimeout(n,i){this._timeoutIds++;const a=this.now();return this._timeouts.add({callback:n,id:this._timeoutIds,time:a+i}),this._timeoutIds}clearTimeout(n){return this._timeouts.forEach(i=>{i.id===n&&this._timeouts.remove(i)}),this}clearInterval(n){return this.clearTimeout(n)}setInterval(n,i){const a=++this._timeoutIds,o=()=>{const u=this.now();this._timeouts.add({callback:()=>{n(),o()},id:a,time:u+i})};return o(),a}}class Vx extends E_{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(n,i,a){return{}}createChannelMerger(n){return{}}createChannelSplitter(n){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(n){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(n,i){return{}}createPanner(){return{}}createPeriodicWave(n,i,a){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(n){return{}}createMediaElementSource(n){return{}}createMediaStreamDestination(){return{}}decodeAudioData(n){return Promise.resolve({})}createAudioWorkletNode(n,i){return{}}get rawContext(){return{}}addAudioWorkletModule(n){return he(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(n,i){return 0}clearTimeout(n){return this}setInterval(n,i){return 0}clearInterval(n){return this}getConstant(n){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(n){}get destination(){return{}}set destination(n){}now(){return 0}immediate(){return 0}}function ee(l,n){_n(n)?n.forEach(i=>ee(l,i)):Object.defineProperty(l,n,{enumerable:!0,writable:!1})}function O_(l,n){_n(n)?n.forEach(i=>O_(l,i)):Object.defineProperty(l,n,{writable:!0})}const jt=()=>{};class Xt extends ls{constructor(){super(),this.name="ToneAudioBuffer",this.onload=jt;const n=vt(Xt.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=n.reverse,this.onload=n.onload,is(n.url)?this.load(n.url).catch(n.onerror):n.url&&this.set(n.url)}static getDefaults(){return{onerror:jt,onload:jt,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:mn().sampleRate}set(n){return n instanceof Xt?n.loaded?this._buffer=n.get():n.onload=()=>{this.set(n),this.onload(this)}:this._buffer=n,this._reversed&&this._reverse(),this}get(){return this._buffer}load(n){return he(this,void 0,void 0,function*(){const i=Xt.load(n).then(a=>{this.set(a),this.onload(this)});Xt.downloads.push(i);try{yield i}finally{const a=Xt.downloads.indexOf(i);Xt.downloads.splice(a,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(n){const i=_n(n)&&n[0].length>0,a=i?n.length:1,o=i?n[0].length:n.length,u=mn(),p=u.createBuffer(a,o,u.sampleRate),f=!i&&a===1?[n]:n;for(let m=0;m<a;m++)p.copyToChannel(f[m],m);return this._buffer=p,this}toMono(n){if(ss(n))this.fromArray(this.toArray(n));else{let i=new Float32Array(this.length);const a=this.numberOfChannels;for(let o=0;o<a;o++){const u=this.toArray(o);for(let p=0;p<u.length;p++)i[p]+=u[p]}i=i.map(o=>o/a),this.fromArray(i)}return this}toArray(n){if(ss(n))return this.getChannelData(n);if(this.numberOfChannels===1)return this.toArray(0);{const i=[];for(let a=0;a<this.numberOfChannels;a++)i[a]=this.getChannelData(a);return i}}getChannelData(n){return this._buffer?this._buffer.getChannelData(n):new Float32Array(0)}slice(n,i=this.duration){St(this.loaded,"Buffer is not loaded");const a=Math.floor(n*this.sampleRate),o=Math.floor(i*this.sampleRate);St(a<o,"The start time must be less than the end time");const u=o-a,p=mn().createBuffer(this.numberOfChannels,u,this.sampleRate);for(let f=0;f<this.numberOfChannels;f++)p.copyToChannel(this.getChannelData(f).subarray(a,o),f);return new Xt(p)}_reverse(){if(this.loaded)for(let n=0;n<this.numberOfChannels;n++)this.getChannelData(n).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(n){this._reversed!==n&&(this._reversed=n,this._reverse())}static fromArray(n){return new Xt().fromArray(n)}static fromUrl(n){return he(this,void 0,void 0,function*(){return yield new Xt().load(n)})}static load(n){return he(this,void 0,void 0,function*(){const i=Xt.baseUrl===""||Xt.baseUrl.endsWith("/")?Xt.baseUrl:Xt.baseUrl+"/",a=yield fetch(i+n);if(!a.ok)throw new Error(`could not load url: ${n}`);const o=yield a.arrayBuffer();return yield mn().decodeAudioData(o)})}static supportsType(n){const i=n.split("."),a=i[i.length-1];return document.createElement("audio").canPlayType("audio/"+a)!==""}static loaded(){return he(this,void 0,void 0,function*(){for(yield Promise.resolve();Xt.downloads.length;)yield Xt.downloads[0]})}}Xt.baseUrl="";Xt.downloads=[];class Bh extends Ur{constructor(){super({clockSource:"offline",context:lo(arguments[0])?arguments[0]:Ax(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:lo(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=lo(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(n){return he(this,void 0,void 0,function*(){let i=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,i++;const a=Math.floor(this.sampleRate/128);n&&i%a===0&&(yield new Promise(o=>setTimeout(o,1)))}})}render(){return he(this,arguments,void 0,function*(n=!0){yield this.workletsAreReady(),yield this._renderClock(n);const i=yield this._context.startRendering();return new Xt(i)})}close(){return Promise.resolve()}}const M_=new Vx;let ui=M_;function mn(){return ui===M_&&Cx&&qx(new Ur),ui}function qx(l,n=!1){n&&ui.dispose(),na(l)?ui=new Ur(l):lo(l)?ui=new Bh(l):ui=l}function Ux(){return ui.resume()}if(en&&!en.TONE_SILENCE_LOGGING){const n=` * Tone.js v${Og} * `;console.log(`%c${n}`,"background: #000; color: #fff")}function Bx(l){return Math.pow(10,l/20)}function Ar(l){return 20*(Math.log(l)/Math.LN10)}function D_(l){return Math.pow(2,l/12)}let Mo=440;function Lx(){return Mo}function Hx(l){Mo=l}function gh(l){return Math.round(k_(l))}function k_(l){return 69+12*Math.log2(l/Mo)}function Yx(l){return Mo*Math.pow(2,(l-69)/12)}class Lh extends ls{constructor(n,i,a){super(),this.defaultUnits="s",this._val=i,this._units=a,this.context=n,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:n=>this._frequencyToUnits(parseFloat(n)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:n=>this._ticksToUnits(parseInt(n,10)),regexp:/^(\d+)i$/i},m:{method:n=>this._beatsToUnits(parseInt(n,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(n,i)=>{const a=parseInt(n,10),o=i==="."?1.5:1;return a===1?this._beatsToUnits(this._getTimeSignature())*o:this._beatsToUnits(4/a)*o},regexp:/^(\d+)n(\.?)$/i},number:{method:n=>this._expressions[this.defaultUnits].method.call(this,n),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:n=>this._secondsToUnits(parseFloat(n)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:n=>parseInt(n,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:n=>{const i=parseInt(n,10);return this._beatsToUnits(8/(Math.floor(i)*3))},regexp:/^(\d+)t$/i},tr:{method:(n,i,a)=>{let o=0;return n&&n!=="0"&&(o+=this._beatsToUnits(this._getTimeSignature()*parseFloat(n))),i&&i!=="0"&&(o+=this._beatsToUnits(parseFloat(i))),a&&a!=="0"&&(o+=this._beatsToUnits(parseFloat(a)/4)),o},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Lh&&this.fromType(this._val),sn(this._val))return this._noArg();if(is(this._val)&&sn(this._units)){for(const n in this._expressions)if(this._expressions[n].regexp.test(this._val.trim())){this._units=n;break}}else if(Vs(this._val)){let n=0;for(const i in this._val)if(xt(this._val[i])){const a=this._val[i],o=new this.constructor(this.context,i).valueOf()*a;n+=o}return n}if(xt(this._units)){const n=this._expressions[this._units],i=this._val.toString().trim().match(n.regexp);return i?n.method.apply(this,i.slice(1)):n.method.call(this,this._val)}else return is(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(n){return 1/n}_beatsToUnits(n){return 60/this._getBpm()*n}_secondsToUnits(n){return n}_ticksToUnits(n){return n*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(n){switch(this._units=void 0,this.defaultUnits){case"s":this._val=n.toSeconds();break;case"i":this._val=n.toTicks();break;case"hz":this._val=n.toFrequency();break;case"midi":this._val=n.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class xn extends Lh{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:n=>this._now()+new this.constructor(this.context,n).valueOf(),regexp:/^\+(.+)/},quantize:{method:n=>{const i=new xn(this.context,n).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(i))},regexp:/^@(.+)/}})}quantize(n,i=1){const a=new this.constructor(this.context,n).valueOf(),o=this.valueOf(),f=Math.round(o/a)*a-o;return o+f*i}toNotation(){const n=this.toSeconds(),i=["1m"];for(let u=1;u<9;u++){const p=Math.pow(2,u);i.push(p+"n."),i.push(p+"n"),i.push(p+"t")}i.push("0");let a=i[0],o=new xn(this.context,i[0]).toSeconds();return i.forEach(u=>{const p=new xn(this.context,u).toSeconds();Math.abs(p-n)<Math.abs(o-n)&&(a=u,o=p)}),a}toBarsBeatsSixteenths(){const n=this._beatsToUnits(1);let i=this.valueOf()/n;i=parseFloat(i.toFixed(4));const a=Math.floor(i/this._getTimeSignature());let o=i%1*4;i=Math.floor(i)%this._getTimeSignature();const u=o.toString();return u.length>3&&(o=parseFloat(parseFloat(u).toFixed(3))),[a,i,o].join(":")}toTicks(){const n=this._beatsToUnits(1);return this.valueOf()/n*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return gh(this.toFrequency())}_now(){return this.context.now()}}class gn extends xn{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return Lx()}static set A4(n){Hx(n)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(n){return this.defaultUnits==="midi"?n:gn.mtof(n)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(n,i){const o=Gx[n.toLowerCase()]+(parseInt(i,10)+1)*12;return this.defaultUnits==="midi"?o:gn.mtof(o)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(n,i,a){let o=1;return n&&n!=="0"&&(o*=this._beatsToUnits(this._getTimeSignature()*parseFloat(n))),i&&i!=="0"&&(o*=this._beatsToUnits(parseFloat(i))),a&&a!=="0"&&(o*=this._beatsToUnits(parseFloat(a)/4)),o}}})}transpose(n){return new gn(this.context,this.valueOf()*D_(n))}harmonize(n){return n.map(i=>this.transpose(i))}toMidi(){return gh(this.valueOf())}toNote(){const n=this.toFrequency(),i=Math.log2(n/gn.A4);let a=Math.round(12*i)+57;const o=Math.floor(a/12);return o<0&&(a+=-12*o),Xx[a%12]+o.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const n=this._beatsToUnits(1),i=this.valueOf()/n;return Math.floor(i*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(n){return n}_ticksToUnits(n){return 1/(n*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(n){return 1/super._beatsToUnits(n)}_secondsToUnits(n){return 1/n}static mtof(n){return Yx(n)}static ftom(n){return gh(n)}}const Gx={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},Xx=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class la extends xn{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Se extends ls{constructor(){super();const n=vt(Se.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=n.context}static getDefaults(){return{context:mn()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(n){return Tx(n),new xn(this.context,n).toSeconds()}toFrequency(n){return new gn(this.context,n).toFrequency()}toTicks(n){return new la(this.context,n).toTicks()}_getPartialProperties(n){const i=this.get();return Object.keys(i).forEach(a=>{sn(n[a])&&delete i[a]}),i}get(){const n=kx(this);return Object.keys(n).forEach(i=>{if(Reflect.has(this,i)){const a=this[i];xt(a)&&xt(a.value)&&xt(a.setValueAtTime)?n[i]=a.value:a instanceof Se?n[i]=a._getPartialProperties(n[i]):_n(a)||ss(a)||is(a)||T_(a)?n[i]=a:delete n[i]}}),n}set(n){return Object.keys(n).forEach(i=>{Reflect.has(this,i)&&xt(this[i])&&(this[i]&&xt(this[i].value)&&xt(this[i].setValueAtTime)?this[i].value!==n[i]&&(this[i].value=n[i]):this[i]instanceof Se?this[i].set(n[i]):this[i]=n[i])}),this}}class Br extends vn{constructor(n="stopped"){super(),this.name="StateTimeline",this._initial=n,this.setStateAtTime(this._initial,0)}getValueAtTime(n){const i=this.get(n);return i!==null?i.state:this._initial}setStateAtTime(n,i,a){return Us(i,0),this.add(Object.assign({},a,{state:n,time:i})),this}getLastState(n,i){const a=this._search(i);for(let o=a;o>=0;o--){const u=this._timeline[o];if(u.state===n)return u}}getNextState(n,i){const a=this._search(i);if(a!==-1)for(let o=a;o<this._timeline.length;o++){const u=this._timeline[o];if(u.state===n)return u}}}class Pt extends Se{constructor(){const n=vt(Pt.getDefaults(),arguments,["param","units","convert"]);for(super(n),this.name="Param",this.overridden=!1,this._minOutput=1e-7,St(xt(n.param)&&(di(n.param)||n.param instanceof Pt),"param must be an AudioParam");!di(n.param);)n.param=n.param._param;this._swappable=xt(n.swappable)?n.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=n.param,this.input.connect(this._param)):this._param=this.input=n.param,this._events=new vn(1e3),this._initialValue=this._param.defaultValue,this.units=n.units,this.convert=n.convert,this._minValue=n.minValue,this._maxValue=n.maxValue,xt(n.value)&&n.value!==this._toType(this._initialValue)&&this.setValueAtTime(n.value,0)}static getDefaults(){return Object.assign(Se.getDefaults(),{convert:!0,units:"number"})}get value(){const n=this.now();return this.getValueAtTime(n)}set value(n){this.cancelScheduledValues(this.now()),this.setValueAtTime(n,this.now())}get minValue(){return xt(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return xt(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(n,i){return this.units===i}_assertRange(n){return xt(this.maxValue)&&xt(this.minValue)&&Us(n,this._fromType(this.minValue),this._fromType(this.maxValue)),n}_fromType(n){return this.convert&&!this.overridden?this._is(n,"time")?this.toSeconds(n):this._is(n,"decibels")?Bx(n):this._is(n,"frequency")?this.toFrequency(n):n:this.overridden?0:n}_toType(n){return this.convert&&this.units==="decibels"?Ar(n):n}setValueAtTime(n,i){const a=this.toSeconds(i),o=this._fromType(n);return St(isFinite(o)&&isFinite(a),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(n)}, ${JSON.stringify(i)}`),this._assertRange(o),this.log(this.units,"setValueAtTime",n,a),this._events.add({time:a,type:"setValueAtTime",value:o}),this._param.setValueAtTime(o,a),this}getValueAtTime(n){const i=Math.max(this.toSeconds(n),0),a=this._events.getAfter(i),o=this._events.get(i);let u=this._initialValue;if(o===null)u=this._initialValue;else if(o.type==="setTargetAtTime"&&(a===null||a.type==="setValueAtTime")){const p=this._events.getBefore(o.time);let f;p===null?f=this._initialValue:f=p.value,o.type==="setTargetAtTime"&&(u=this._exponentialApproach(o.time,f,o.value,o.constant,i))}else if(a===null)u=o.value;else if(a.type==="linearRampToValueAtTime"||a.type==="exponentialRampToValueAtTime"){let p=o.value;if(o.type==="setTargetAtTime"){const f=this._events.getBefore(o.time);f===null?p=this._initialValue:p=f.value}a.type==="linearRampToValueAtTime"?u=this._linearInterpolate(o.time,p,a.time,a.value,i):u=this._exponentialInterpolate(o.time,p,a.time,a.value,i)}else u=o.value;return this._toType(u)}setRampPoint(n){n=this.toSeconds(n);let i=this.getValueAtTime(n);return this.cancelAndHoldAtTime(n),this._fromType(i)===0&&(i=this._toType(this._minOutput)),this.setValueAtTime(i,n),this}linearRampToValueAtTime(n,i){const a=this._fromType(n),o=this.toSeconds(i);return St(isFinite(a)&&isFinite(o),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(n)}, ${JSON.stringify(i)}`),this._assertRange(a),this._events.add({time:o,type:"linearRampToValueAtTime",value:a}),this.log(this.units,"linearRampToValueAtTime",n,o),this._param.linearRampToValueAtTime(a,o),this}exponentialRampToValueAtTime(n,i){let a=this._fromType(n);a=Tn(a,0)?this._minOutput:a,this._assertRange(a);const o=this.toSeconds(i);return St(isFinite(a)&&isFinite(o),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(n)}, ${JSON.stringify(i)}`),this._events.add({time:o,type:"exponentialRampToValueAtTime",value:a}),this.log(this.units,"exponentialRampToValueAtTime",n,o),this._param.exponentialRampToValueAtTime(a,o),this}exponentialRampTo(n,i,a){return a=this.toSeconds(a),this.setRampPoint(a),this.exponentialRampToValueAtTime(n,a+this.toSeconds(i)),this}linearRampTo(n,i,a){return a=this.toSeconds(a),this.setRampPoint(a),this.linearRampToValueAtTime(n,a+this.toSeconds(i)),this}targetRampTo(n,i,a){return a=this.toSeconds(a),this.setRampPoint(a),this.exponentialApproachValueAtTime(n,a,i),this}exponentialApproachValueAtTime(n,i,a){i=this.toSeconds(i),a=this.toSeconds(a);const o=Math.log(a+1)/Math.log(200);return this.setTargetAtTime(n,i,o),this.cancelAndHoldAtTime(i+a*.9),this.linearRampToValueAtTime(n,i+a),this}setTargetAtTime(n,i,a){const o=this._fromType(n);St(isFinite(a)&&a>0,"timeConstant must be a number greater than 0");const u=this.toSeconds(i);return this._assertRange(o),St(isFinite(o)&&isFinite(u),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(n)}, ${JSON.stringify(i)}`),this._events.add({constant:a,time:u,type:"setTargetAtTime",value:o}),this.log(this.units,"setTargetAtTime",n,u,a),this._param.setTargetAtTime(o,u,a),this}setValueCurveAtTime(n,i,a,o=1){a=this.toSeconds(a),i=this.toSeconds(i);const u=this._fromType(n[0])*o;this.setValueAtTime(this._toType(u),i);const p=a/(n.length-1);for(let f=1;f<n.length;f++){const m=this._fromType(n[f])*o;this.linearRampToValueAtTime(this._toType(m),i+f*p)}return this}cancelScheduledValues(n){const i=this.toSeconds(n);return St(isFinite(i),`Invalid argument to cancelScheduledValues: ${JSON.stringify(n)}`),this._events.cancel(i),this._param.cancelScheduledValues(i),this.log(this.units,"cancelScheduledValues",i),this}cancelAndHoldAtTime(n){const i=this.toSeconds(n),a=this._fromType(this.getValueAtTime(i));St(isFinite(i),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(n)}`),this.log(this.units,"cancelAndHoldAtTime",i,"value="+a);const o=this._events.get(i),u=this._events.getAfter(i);return o&&Tn(o.time,i)?u?(this._param.cancelScheduledValues(u.time),this._events.cancel(u.time)):(this._param.cancelAndHoldAtTime(i),this._events.cancel(i+this.sampleTime)):u&&(this._param.cancelScheduledValues(u.time),this._events.cancel(u.time),u.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(a),i):u.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(a),i)),this._events.add({time:i,type:"setValueAtTime",value:a}),this._param.setValueAtTime(a,i),this}rampTo(n,i=.1,a){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(n,i,a):this.linearRampTo(n,i,a),this}apply(n){const i=this.context.currentTime;n.setValueAtTime(this.getValueAtTime(i),i);const a=this._events.get(i);if(a&&a.type==="setTargetAtTime"){const o=this._events.getAfter(a.time),u=o?o.time:i+2,p=(u-i)/10;for(let f=i;f<u;f+=p)n.linearRampToValueAtTime(this.getValueAtTime(f),f)}return this._events.forEachAfter(this.context.currentTime,o=>{o.type==="cancelScheduledValues"?n.cancelScheduledValues(o.time):o.type==="setTargetAtTime"?n.setTargetAtTime(o.value,o.time,o.constant):n[o.type](o.value,o.time)}),this}setParam(n){St(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const i=this.input;return i.disconnect(this._param),this.apply(n),this._param=n,i.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(n,i,a,o,u){return a+(i-a)*Math.exp(-(u-n)/o)}_linearInterpolate(n,i,a,o,u){return i+(o-i)*((u-n)/(a-n))}_exponentialInterpolate(n,i,a,o,u){return i*Math.pow(o/i,(u-n)/(a-n))}}class Nt extends Se{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return xt(this.input)?di(this.input)||this.input instanceof Pt?1:this.input.numberOfInputs:0}get numberOfOutputs(){return xt(this.output)?this.output.numberOfOutputs:0}_isAudioNode(n){return xt(n)&&(n instanceof Nt||qs(n))}_getInternalNodes(){const n=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&n.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&n.push(this.output),n}_setChannelProperties(n){this._getInternalNodes().forEach(a=>{a.channelCount=n.channelCount,a.channelCountMode=n.channelCountMode,a.channelInterpretation=n.channelInterpretation})}_getChannelProperties(){const n=this._getInternalNodes();St(n.length>0,"ToneAudioNode does not have any internal nodes");const i=n[0];return{channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(n){const i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelCount:n}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(n){const i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelCountMode:n}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(n){const i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelInterpretation:n}))}connect(n,i=0,a=0){return Sa(this,n,i,a),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return qh("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(n,i=0,a=0){return Ix(this,n,i,a),this}chain(...n){return _h(this,...n),this}fan(...n){return n.forEach(i=>this.connect(i)),this}dispose(){return super.dispose(),xt(this.input)&&(this.input instanceof Nt?this.input.dispose():qs(this.input)&&this.input.disconnect()),xt(this.output)&&(this.output instanceof Nt?this.output.dispose():qs(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function _h(...l){const n=l.shift();l.reduce((i,a)=>(i instanceof Nt?i.connect(a):qs(i)&&Sa(i,a),a),n)}function Sa(l,n,i=0,a=0){for(St(xt(l),"Cannot connect from undefined node"),St(xt(n),"Cannot connect to undefined node"),(n instanceof Nt||qs(n))&&St(n.numberOfInputs>0,"Cannot connect to node with no inputs"),St(l.numberOfOutputs>0,"Cannot connect from node with no outputs");n instanceof Nt||n instanceof Pt;)xt(n.input)&&(n=n.input);for(;l instanceof Nt;)xt(l.output)&&(l=l.output);di(n)?l.connect(n,i):l.connect(n,i,a)}function Ix(l,n,i=0,a=0){if(xt(n))for(;n instanceof Nt;)n=n.input;for(;!qs(l);)xt(l.output)&&(l=l.output);di(n)?l.disconnect(n,i):qs(n)?l.disconnect(n,i,a):l.disconnect()}class De extends Nt{constructor(){const n=vt(De.getDefaults(),arguments,["gain","units"]);super(n),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new Pt({context:this.context,convert:n.convert,param:this._gainNode.gain,units:n.units,value:n.gain,minValue:n.minValue,maxValue:n.maxValue}),ee(this,"gain")}static getDefaults(){return Object.assign(Nt.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class ha extends Nt{constructor(n){super(n),this.onended=jt,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new De({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(i){const a=this.toSeconds(i);return this._startTime!==-1&&a>=this._startTime&&(this._stopTime===-1||a<=this._stopTime)?"started":"stopped"},this._fadeIn=n.fadeIn,this._fadeOut=n.fadeOut,this._curve=n.curve,this.onended=n.onended}static getDefaults(){return Object.assign(Nt.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:jt})}_startGain(n,i=1){St(this._startTime===-1,"Source cannot be started more than once");const a=this.toSeconds(this._fadeIn);return this._startTime=n+a,this._startTime=Math.max(this._startTime,this.context.currentTime),a>0?(this._gainNode.gain.setValueAtTime(0,n),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(i,n+a):this._gainNode.gain.exponentialApproachValueAtTime(i,n,a)):this._gainNode.gain.setValueAtTime(i,n),this}stop(n){return this.log("stop",n),this._stopGain(this.toSeconds(n)),this}_stopGain(n){St(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const i=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(n)+i,this._stopTime=Math.max(this._stopTime,this.now()),i>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,i,n):this._gainNode.gain.targetRampTo(0,i,n):(this._gainNode.gain.cancelAndHoldAtTime(n),this._gainNode.gain.setValueAtTime(0,n)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const a=this._curve==="exponential"?i*2:0;this._stopSource(this.now()+a),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==jt&&(this.onended(this),this.onended=jt,!this.context.isOffline)){const n=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(n):setTimeout(n,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),St(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=jt,this}}class Hh extends ha{constructor(){const n=vt(Hh.getDefaults(),arguments,["offset"]);super(n),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Sa(this._source,this._gainNode),this.offset=new Pt({context:this.context,convert:n.convert,param:this._source.offset,units:n.units,value:n.offset,minValue:n.minValue,maxValue:n.maxValue})}static getDefaults(){return Object.assign(ha.getDefaults(),{convert:!0,offset:1,units:"number"})}start(n){const i=this.toSeconds(n);return this.log("start",i),this._startGain(i),this._source.start(i),this}_stopSource(n){this._source.stop(n)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Te extends Nt{constructor(){const n=vt(Te.getDefaults(),arguments,["value","units"]);super(n),this.name="Signal",this.override=!0,this.output=this._constantSource=new Hh({context:this.context,convert:n.convert,offset:n.value,units:n.units,minValue:n.minValue,maxValue:n.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Nt.getDefaults(),{convert:!0,units:"number",value:0})}connect(n,i=0,a=0){return Yh(this,n,i,a),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(n,i){return this._param.setValueAtTime(n,i),this}getValueAtTime(n){return this._param.getValueAtTime(n)}setRampPoint(n){return this._param.setRampPoint(n),this}linearRampToValueAtTime(n,i){return this._param.linearRampToValueAtTime(n,i),this}exponentialRampToValueAtTime(n,i){return this._param.exponentialRampToValueAtTime(n,i),this}exponentialRampTo(n,i,a){return this._param.exponentialRampTo(n,i,a),this}linearRampTo(n,i,a){return this._param.linearRampTo(n,i,a),this}targetRampTo(n,i,a){return this._param.targetRampTo(n,i,a),this}exponentialApproachValueAtTime(n,i,a){return this._param.exponentialApproachValueAtTime(n,i,a),this}setTargetAtTime(n,i,a){return this._param.setTargetAtTime(n,i,a),this}setValueCurveAtTime(n,i,a,o){return this._param.setValueCurveAtTime(n,i,a,o),this}cancelScheduledValues(n){return this._param.cancelScheduledValues(n),this}cancelAndHoldAtTime(n){return this._param.cancelAndHoldAtTime(n),this}rampTo(n,i,a){return this._param.rampTo(n,i,a),this}get value(){return this._param.value}set value(n){this._param.value=n}get convert(){return this._param.convert}set convert(n){this._param.convert=n}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(n){this._param.overridden=n}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(n){return this._param.apply(n),this}}function Yh(l,n,i,a){(n instanceof Pt||di(n)||n instanceof Te&&n.override)&&(n.cancelScheduledValues(0),n.setValueAtTime(0,0),n instanceof Te&&(n.overridden=!0)),Sa(l,n,i,a)}class Gh extends Pt{constructor(){const n=vt(Gh.getDefaults(),arguments,["value"]);super(n),this.name="TickParam",this._events=new vn(1/0),this._multiplier=1,this._multiplier=n.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(n.value)}),this.setValueAtTime(n.value,0)}static getDefaults(){return Object.assign(Pt.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(n,i,a){i=this.toSeconds(i),this.setRampPoint(i);const o=this._fromType(n),u=this._events.get(i),p=Math.round(Math.max(1/a,1));for(let f=0;f<=p;f++){const m=a*f+i,d=this._exponentialApproach(u.time,u.value,o,a,m);this.linearRampToValueAtTime(this._toType(d),m)}return this}setValueAtTime(n,i){const a=this.toSeconds(i);super.setValueAtTime(n,i);const o=this._events.get(a),u=this._events.previousEvent(o),p=this._getTicksUntilEvent(u,a);return o.ticks=Math.max(p,0),this}linearRampToValueAtTime(n,i){const a=this.toSeconds(i);super.linearRampToValueAtTime(n,i);const o=this._events.get(a),u=this._events.previousEvent(o),p=this._getTicksUntilEvent(u,a);return o.ticks=Math.max(p,0),this}exponentialRampToValueAtTime(n,i){i=this.toSeconds(i);const a=this._fromType(n),o=this._events.get(i),u=Math.round(Math.max((i-o.time)*10,1)),p=(i-o.time)/u;for(let f=0;f<=u;f++){const m=p*f+o.time,d=this._exponentialInterpolate(o.time,o.value,i,a,m);this.linearRampToValueAtTime(this._toType(d),m)}return this}_getTicksUntilEvent(n,i){if(n===null)n={ticks:0,time:0,type:"setValueAtTime",value:0};else if(sn(n.ticks)){const p=this._events.previousEvent(n);n.ticks=this._getTicksUntilEvent(p,n.time)}const a=this._fromType(this.getValueAtTime(n.time));let o=this._fromType(this.getValueAtTime(i));const u=this._events.get(i);return u&&u.time===i&&u.type==="setValueAtTime"&&(o=this._fromType(this.getValueAtTime(i-this.sampleTime))),.5*(i-n.time)*(a+o)+n.ticks}getTicksAtTime(n){const i=this.toSeconds(n),a=this._events.get(i);return Math.max(this._getTicksUntilEvent(a,i),0)}getDurationOfTicks(n,i){const a=this.toSeconds(i),o=this.getTicksAtTime(i);return this.getTimeOfTick(o+n)-a}getTimeOfTick(n){const i=this._events.get(n,"ticks"),a=this._events.getAfter(n,"ticks");if(i&&i.ticks===n)return i.time;if(i&&a&&a.type==="linearRampToValueAtTime"&&i.value!==a.value){const o=this._fromType(this.getValueAtTime(i.time)),p=(this._fromType(this.getValueAtTime(a.time))-o)/(a.time-i.time),f=Math.sqrt(Math.pow(o,2)-2*p*(i.ticks-n)),m=(-o+f)/p,d=(-o-f)/p;return(m>0?m:d)+i.time}else return i?i.value===0?1/0:i.time+(n-i.ticks)/i.value:n/this._initialValue}ticksToTime(n,i){return this.getDurationOfTicks(n,i)}timeToTicks(n,i){const a=this.toSeconds(i),o=this.toSeconds(n),u=this.getTicksAtTime(a);return this.getTicksAtTime(a+o)-u}_fromType(n){return this.units==="bpm"&&this.multiplier?1/(60/n/this.multiplier):super._fromType(n)}_toType(n){return this.units==="bpm"&&this.multiplier?n/this.multiplier*60:super._toType(n)}get multiplier(){return this._multiplier}set multiplier(n){const i=this.value;this._multiplier=n,this.cancelScheduledValues(0),this.setValueAtTime(i,0)}}class Xh extends Te{constructor(){const n=vt(Xh.getDefaults(),arguments,["value"]);super(n),this.name="TickSignal",this.input=this._param=new Gh({context:this.context,convert:n.convert,multiplier:n.multiplier,param:this._constantSource.offset,units:n.units,value:n.value})}static getDefaults(){return Object.assign(Te.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(n,i){return this._param.ticksToTime(n,i)}timeToTicks(n,i){return this._param.timeToTicks(n,i)}getTimeOfTick(n){return this._param.getTimeOfTick(n)}getDurationOfTicks(n,i){return this._param.getDurationOfTicks(n,i)}getTicksAtTime(n){return this._param.getTicksAtTime(n)}get multiplier(){return this._param.multiplier}set multiplier(n){this._param.multiplier=n}dispose(){return super.dispose(),this._param.dispose(),this}}class Ih extends Se{constructor(){const n=vt(Ih.getDefaults(),arguments,["frequency"]);super(n),this.name="TickSource",this._state=new Br,this._tickOffset=new vn,this._ticksAtTime=new vn,this._secondsAtTime=new vn,this.frequency=new Xh({context:this.context,units:n.units,value:n.frequency}),ee(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Se.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(n,i){const a=this.toSeconds(n);return this._state.getValueAtTime(a)!=="started"&&(this._state.setStateAtTime("started",a),xt(i)&&this.setTicksAtTime(i,a),this._ticksAtTime.cancel(a),this._secondsAtTime.cancel(a)),this}stop(n){const i=this.toSeconds(n);if(this._state.getValueAtTime(i)==="stopped"){const a=this._state.get(i);a&&a.time>0&&(this._tickOffset.cancel(a.time),this._state.cancel(a.time))}return this._state.cancel(i),this._state.setStateAtTime("stopped",i),this.setTicksAtTime(0,i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i),this}pause(n){const i=this.toSeconds(n);return this._state.getValueAtTime(i)==="started"&&(this._state.setStateAtTime("paused",i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i)),this}cancel(n){return n=this.toSeconds(n),this._state.cancel(n),this._tickOffset.cancel(n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getTicksAtTime(n){const i=this.toSeconds(n),a=this._state.getLastState("stopped",i),o=this._ticksAtTime.get(i),u={state:"paused",time:i};this._state.add(u);let p=o||a,f=o?o.ticks:0,m=null;return this._state.forEachBetween(p.time,i+this.sampleTime,d=>{let g=p.time;const v=this._tickOffset.get(d.time);v&&v.time>=p.time&&(f=v.ticks,g=v.time),p.state==="started"&&d.state!=="started"&&(f+=this.frequency.getTicksAtTime(d.time)-this.frequency.getTicksAtTime(g),d.time!==u.time&&(m={state:d.state,time:d.time,ticks:f})),p=d}),this._state.remove(u),m&&this._ticksAtTime.add(m),f}get ticks(){return this.getTicksAtTime(this.now())}set ticks(n){this.setTicksAtTime(n,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(n){const i=this.now(),a=this.frequency.timeToTicks(n,i);this.setTicksAtTime(a,i)}getSecondsAtTime(n){n=this.toSeconds(n);const i=this._state.getLastState("stopped",n),a={state:"paused",time:n};this._state.add(a);const o=this._secondsAtTime.get(n);let u=o||i,p=o?o.seconds:0,f=null;return this._state.forEachBetween(u.time,n+this.sampleTime,m=>{let d=u.time;const g=this._tickOffset.get(m.time);g&&g.time>=u.time&&(p=g.seconds,d=g.time),u.state==="started"&&m.state!=="started"&&(p+=m.time-d,m.time!==a.time&&(f={state:m.state,time:m.time,seconds:p})),u=m}),this._state.remove(a),f&&this._secondsAtTime.add(f),p}setTicksAtTime(n,i){return i=this.toSeconds(i),this._tickOffset.cancel(i),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(n,i),ticks:n,time:i}),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i),this}getStateAtTime(n){return n=this.toSeconds(n),this._state.getValueAtTime(n)}getTimeOfTick(n,i=this.now()){const a=this._tickOffset.get(i),o=this._state.get(i),u=Math.max(a.time,o.time),p=this.frequency.getTicksAtTime(u)+n-a.ticks;return this.frequency.getTimeOfTick(p)}forEachTickBetween(n,i,a){let o=this._state.get(n);this._state.forEachBetween(n,i,p=>{o&&o.state==="started"&&p.state!=="started"&&this.forEachTickBetween(Math.max(o.time,n),p.time-this.sampleTime,a),o=p});let u=null;if(o&&o.state==="started"){const p=Math.max(o.time,n),f=this.frequency.getTicksAtTime(p),m=this.frequency.getTicksAtTime(o.time),d=f-m;let g=Math.ceil(d)-d;g=Tn(g,1)?0:g;let v=this.frequency.getTimeOfTick(f+g);for(;v<i;){try{a(v,Math.round(this.getTicksAtTime(v)))}catch(b){u=b;break}v+=this.frequency.getDurationOfTicks(1,v)}}if(u)throw u;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Do extends Se{constructor(){const n=vt(Do.getDefaults(),arguments,["callback","frequency"]);super(n),this.name="Clock",this.callback=jt,this._lastUpdate=0,this._state=new Br("stopped"),this._boundLoop=this._loop.bind(this),this.callback=n.callback,this._tickSource=new Ih({context:this.context,frequency:n.frequency,units:n.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,ee(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Se.getDefaults(),{callback:jt,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(n,i){x_(this.context);const a=this.toSeconds(n);return this.log("start",a),this._state.getValueAtTime(a)!=="started"&&(this._state.setStateAtTime("started",a),this._tickSource.start(a,i),a<this._lastUpdate&&this.emit("start",a,i)),this}stop(n){const i=this.toSeconds(n);return this.log("stop",i),this._state.cancel(i),this._state.setStateAtTime("stopped",i),this._tickSource.stop(i),i<this._lastUpdate&&this.emit("stop",i),this}pause(n){const i=this.toSeconds(n);return this._state.getValueAtTime(i)==="started"&&(this._state.setStateAtTime("paused",i),this._tickSource.pause(i),i<this._lastUpdate&&this.emit("pause",i)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(n){this._tickSource.ticks=n}get seconds(){return this._tickSource.seconds}set seconds(n){this._tickSource.seconds=n}getSecondsAtTime(n){return this._tickSource.getSecondsAtTime(n)}setTicksAtTime(n,i){return this._tickSource.setTicksAtTime(n,i),this}getTimeOfTick(n,i=this.now()){return this._tickSource.getTimeOfTick(n,i)}getTicksAtTime(n){return this._tickSource.getTicksAtTime(n)}nextTickTime(n,i){const a=this.toSeconds(i),o=this.getTicksAtTime(a);return this._tickSource.getTimeOfTick(o+n,a)}_loop(){const n=this._lastUpdate,i=this.now();this._lastUpdate=i,this.log("loop",n,i),n!==i&&(this._state.forEachBetween(n,i,a=>{switch(a.state){case"started":const o=this._tickSource.getTicksAtTime(a.time);this.emit("start",a.time,o);break;case"stopped":a.time!==0&&this.emit("stop",a.time);break;case"paused":this.emit("pause",a.time);break}}),this._tickSource.forEachTickBetween(n,i,(a,o)=>{this.callback(a,o)}))}getStateAtTime(n){const i=this.toSeconds(n);return this._state.getValueAtTime(i)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}qr.mixin(Do);class Ta extends Nt{constructor(){const n=vt(Ta.getDefaults(),arguments,["volume"]);super(n),this.name="Volume",this.input=this.output=new De({context:this.context,gain:n.volume,units:"decibels"}),this.volume=this.output.gain,ee(this,"volume"),this._unmutedVolume=n.volume,this.mute=n.mute}static getDefaults(){return Object.assign(Nt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(n){!this.mute&&n?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!n&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Zh extends Nt{constructor(){const n=vt(Zh.getDefaults(),arguments);super(n),this.name="Destination",this.input=new Ta({context:this.context}),this.output=new De({context:this.context}),this.volume=this.input.volume,_h(this.input,this.output,this.context.rawContext.destination),this.mute=n.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Nt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(n){this.input.mute=n}chain(...n){return this.input.disconnect(),n.unshift(this.input),n.push(this.output),_h(...n),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Eo(l=>{l.destination=new Zh({context:l})});Oo(l=>{l.destination.dispose()});class Zx extends Nt{constructor(){super(...arguments),this.name="Listener",this.positionX=new Pt({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Pt({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Pt({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Pt({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Pt({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Pt({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Pt({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Pt({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Pt({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Nt.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Eo(l=>{l.listener=new Zx({context:l})});Oo(l=>{l.listener.dispose()});class Qh extends ls{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const n=vt(Qh.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=n.baseUrl,Object.keys(n.urls).forEach(i=>{this._loadingCount++;const a=n.urls[i];this.add(i,a,this._bufferLoaded.bind(this,n.onload),n.onerror)})}static getDefaults(){return{baseUrl:"",onerror:jt,onload:jt,urls:{}}}has(n){return this._buffers.has(n.toString())}get(n){return St(this.has(n),`ToneAudioBuffers has no buffer named: ${n}`),this._buffers.get(n.toString())}_bufferLoaded(n){this._loadingCount--,this._loadingCount===0&&n&&n()}get loaded(){return Array.from(this._buffers).every(([n,i])=>i.loaded)}add(n,i,a=jt,o=jt){return is(i)?(this.baseUrl&&i.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(n.toString(),new Xt(this.baseUrl+i,a,o))):this._buffers.set(n.toString(),new Xt(i,a,o)),this}dispose(){return super.dispose(),this._buffers.forEach(n=>n.dispose()),this._buffers.clear(),this}}class pe extends la{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(n){return this._getPPQ()*n}_secondsToUnits(n){return Math.floor(n/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(n){return n}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class Qx extends Se{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new vn,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(n,i){return this._events.add({callback:n,time:this.toSeconds(i)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(n){return this._events.cancel(this.toSeconds(n)),this}_drawLoop(){const n=this.context.currentTime;this._events.forEachBefore(n+this.anticipation,i=>{n-i.time<=this.expiration&&i.callback(),this._events.remove(i)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Eo(l=>{l.draw=new Qx({context:l})});Oo(l=>{l.draw.dispose()});class Fx extends ls{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(n){St(xt(n.time),"Events must have a time property"),St(xt(n.duration),"Events must have a duration parameter"),n.time=n.time.valueOf();let i=new Wx(n.time,n.time+n.duration,n);for(this._root===null?this._root=i:this._root.insert(i),this._length++;i!==null;)i.updateHeight(),i.updateMax(),this._rebalance(i),i=i.parent;return this}remove(n){if(this._root!==null){const i=[];this._root.search(n.time,i);for(const a of i)if(a.event===n){this._removeNode(a),this._length--;break}}return this}get length(){return this._length}cancel(n){return this.forEachFrom(n,i=>this.remove(i)),this}_setRoot(n){this._root=n,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(n,i){n.parent!==null?(n.isLeftChild()?n.parent.left=i:n.parent.right=i,this._rebalance(n.parent)):this._setRoot(i)}_removeNode(n){if(n.left===null&&n.right===null)this._replaceNodeInParent(n,null);else if(n.right===null)this._replaceNodeInParent(n,n.left);else if(n.left===null)this._replaceNodeInParent(n,n.right);else{const i=n.getBalance();let a,o=null;if(i>0)if(n.left.right===null)a=n.left,a.right=n.right,o=a;else{for(a=n.left.right;a.right!==null;)a=a.right;a.parent&&(a.parent.right=a.left,o=a.parent,a.left=n.left,a.right=n.right)}else if(n.right.left===null)a=n.right,a.left=n.left,o=a;else{for(a=n.right.left;a.left!==null;)a=a.left;a.parent&&(a.parent.left=a.right,o=a.parent,a.left=n.left,a.right=n.right)}n.parent!==null?n.isLeftChild()?n.parent.left=a:n.parent.right=a:this._setRoot(a),o&&this._rebalance(o)}n.dispose()}_rotateLeft(n){const i=n.parent,a=n.isLeftChild(),o=n.right;o&&(n.right=o.left,o.left=n),i!==null?a?i.left=o:i.right=o:this._setRoot(o)}_rotateRight(n){const i=n.parent,a=n.isLeftChild(),o=n.left;o&&(n.left=o.right,o.right=n),i!==null?a?i.left=o:i.right=o:this._setRoot(o)}_rebalance(n){const i=n.getBalance();i>1&&n.left?n.left.getBalance()<0?this._rotateLeft(n.left):this._rotateRight(n):i<-1&&n.right&&(n.right.getBalance()>0?this._rotateRight(n.right):this._rotateLeft(n))}get(n){if(this._root!==null){const i=[];if(this._root.search(n,i),i.length>0){let a=i[0];for(let o=1;o<i.length;o++)i[o].low>a.low&&(a=i[o]);return a.event}}return null}forEach(n){if(this._root!==null){const i=[];this._root.traverse(a=>i.push(a)),i.forEach(a=>{a.event&&n(a.event)})}return this}forEachAtTime(n,i){if(this._root!==null){const a=[];this._root.search(n,a),a.forEach(o=>{o.event&&i(o.event)})}return this}forEachFrom(n,i){if(this._root!==null){const a=[];this._root.searchAfter(n,a),a.forEach(o=>{o.event&&i(o.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(n=>n.dispose()),this._root=null,this}}class Wx{constructor(n,i,a){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=a,this.low=n,this.high=i,this.max=this.high}insert(n){n.low<=this.low?this.left===null?this.left=n:this.left.insert(n):this.right===null?this.right=n:this.right.insert(n)}search(n,i){n>this.max||(this.left!==null&&this.left.search(n,i),this.low<=n&&this.high>n&&i.push(this),!(this.low>n)&&this.right!==null&&this.right.search(n,i))}searchAfter(n,i){this.low>=n&&(i.push(this),this.left!==null&&this.left.searchAfter(n,i)),this.right!==null&&this.right.searchAfter(n,i)}traverse(n){n(this),this.left!==null&&this.left.traverse(n),this.right!==null&&this.right.traverse(n)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let n=0;return this.left!==null&&this.right!==null?n=this.left.height-this.right.height:this.left!==null?n=this.left.height+1:this.right!==null&&(n=-(this.right.height+1)),n}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(n){this._left=n,n!==null&&(n.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(n){this._right=n,n!==null&&(n.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Px extends ls{constructor(n){super(),this.name="TimelineValue",this._timeline=new vn({memory:10}),this._initialValue=n}set(n,i){return this._timeline.add({value:n,time:i}),this}get(n){const i=this._timeline.get(n);return i?i.value:this._initialValue}}class fa extends Nt{constructor(){super(vt(fa.getDefaults(),arguments,["context"]))}connect(n,i=0,a=0){return Yh(this,n,i,a),this}}class Lr extends fa{constructor(){const n=vt(Lr.getDefaults(),arguments,["mapping","length"]);super(n),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,_n(n.mapping)||n.mapping instanceof Float32Array?this.curve=Float32Array.from(n.mapping):Sx(n.mapping)&&this.setMap(n.mapping,n.length)}static getDefaults(){return Object.assign(Te.getDefaults(),{length:1024})}setMap(n,i=1024){const a=new Float32Array(i);for(let o=0,u=i;o<u;o++){const p=o/(u-1)*2-1;a[o]=n(p,o)}return this.curve=a,this}get curve(){return this._shaper.curve}set curve(n){this._shaper.curve=n}get oversample(){return this._shaper.oversample}set oversample(n){const i=["none","2x","4x"].some(a=>a.includes(n));St(i,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=n}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Fh extends fa{constructor(){const n=vt(Fh.getDefaults(),arguments,["value"]);super(n),this.name="Pow",this._exponentScaler=this.input=this.output=new Lr({context:this.context,mapping:this._expFunc(n.value),length:8192}),this._exponent=n.value}static getDefaults(){return Object.assign(fa.getDefaults(),{value:1})}_expFunc(n){return i=>Math.pow(Math.abs(i),n)}get value(){return this._exponent}set value(n){this._exponent=n,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Bs{constructor(n,i){this.id=Bs._eventId++,this._remainderTime=0;const a=Object.assign(Bs.getDefaults(),i);this.transport=n,this.callback=a.callback,this._once=a.once,this.time=Math.floor(a.time),this._remainderTime=a.time-this.time}static getDefaults(){return{callback:jt,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(n){if(this.callback){const i=this.transport.bpm.getDurationOfTicks(1,n);this.callback(n+this._remainderTime*i),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Bs._eventId=0;class Wh extends Bs{constructor(n,i){super(n,i),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const a=Object.assign(Wh.getDefaults(),i);this.duration=a.duration,this._interval=a.interval,this._nextTick=a.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Bs.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(n){this._createEvents(n),super.invoke(n)}_createEvent(){return yo(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new pe(this.context,this._nextTick).toSeconds()):-1}_createEvents(n){yo(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new pe(this.context,this._nextTick).toSeconds()))}_restart(n){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const i=this.transport.getTicksAtTime(n);ua(i,this.time)&&(this._nextTick=this.floatTime+Math.ceil((i-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class ko extends Se{constructor(){const n=vt(ko.getDefaults(),arguments);super(n),this.name="Transport",this._loop=new Px(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new vn,this._repeatedEvents=new Fx,this._syncedSignals=[],this._swingAmount=0,this._ppq=n.ppq,this._clock=new Do({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=n.ppq,this.bpm.setValueAtTime(n.bpm,0),ee(this,"bpm"),this._timeSignature=n.timeSignature,this._swingTicks=n.ppq/2}static getDefaults(){return Object.assign(Se.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(n,i){if(this._loop.get(n)&&i>=this._loopEnd&&(this.emit("loopEnd",n),this._clock.setTicksAtTime(this._loopStart,n),i=this._loopStart,this.emit("loopStart",n,this._clock.getSecondsAtTime(n)),this.emit("loop",n)),this._swingAmount>0&&i%this._ppq!==0&&i%(this._swingTicks*2)!==0){const a=i%(this._swingTicks*2)/(this._swingTicks*2),o=Math.sin(a*Math.PI)*this._swingAmount;n+=new pe(this.context,this._swingTicks*2/3).toSeconds()*o}Tg(!0),this._timeline.forEachAtTime(i,a=>a.invoke(n)),Tg(!1)}schedule(n,i){const a=new Bs(this,{callback:n,time:new la(this.context,i).toTicks()});return this._addEvent(a,this._timeline)}scheduleRepeat(n,i,a,o=1/0){const u=new Wh(this,{callback:n,duration:new xn(this.context,o).toTicks(),interval:new xn(this.context,i).toTicks(),time:new la(this.context,a).toTicks()});return this._addEvent(u,this._repeatedEvents)}scheduleOnce(n,i){const a=new Bs(this,{callback:n,once:!0,time:new la(this.context,i).toTicks()});return this._addEvent(a,this._timeline)}clear(n){if(this._scheduledEvents.hasOwnProperty(n)){const i=this._scheduledEvents[n.toString()];i.timeline.remove(i.event),i.event.dispose(),delete this._scheduledEvents[n.toString()]}return this}_addEvent(n,i){return this._scheduledEvents[n.id.toString()]={event:n,timeline:i},i.add(n),n.id}cancel(n=0){const i=this.toTicks(n);return this._timeline.forEachFrom(i,a=>this.clear(a.id)),this._repeatedEvents.forEachFrom(i,a=>this.clear(a.id)),this}_bindClockEvents(){this._clock.on("start",(n,i)=>{i=new pe(this.context,i).toSeconds(),this.emit("start",n,i)}),this._clock.on("stop",n=>{this.emit("stop",n)}),this._clock.on("pause",n=>{this.emit("pause",n)})}get state(){return this._clock.getStateAtTime(this.now())}start(n,i){this.context.resume();let a;return xt(i)&&(a=this.toTicks(i)),this._clock.start(n,a),this}stop(n){return this._clock.stop(n),this}pause(n){return this._clock.pause(n),this}toggle(n){return n=this.toSeconds(n),this._clock.getStateAtTime(n)!=="started"?this.start(n):this.stop(n),this}get timeSignature(){return this._timeSignature}set timeSignature(n){_n(n)&&(n=n[0]/n[1]*4),this._timeSignature=n}get loopStart(){return new xn(this.context,this._loopStart,"i").toSeconds()}set loopStart(n){this._loopStart=this.toTicks(n)}get loopEnd(){return new xn(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(n){this._loopEnd=this.toTicks(n)}get loop(){return this._loop.get(this.now())}set loop(n){this._loop.set(n,this.now())}setLoopPoints(n,i){return this.loopStart=n,this.loopEnd=i,this}get swing(){return this._swingAmount}set swing(n){this._swingAmount=n}get swingSubdivision(){return new pe(this.context,this._swingTicks).toNotation()}set swingSubdivision(n){this._swingTicks=this.toTicks(n)}get position(){const n=this.now(),i=this._clock.getTicksAtTime(n);return new pe(this.context,i).toBarsBeatsSixteenths()}set position(n){const i=this.toTicks(n);this.ticks=i}get seconds(){return this._clock.seconds}set seconds(n){const i=this.now(),a=this._clock.frequency.timeToTicks(n,i);this.ticks=a}get progress(){if(this.loop){const n=this.now();return(this._clock.getTicksAtTime(n)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(n){if(this._clock.ticks!==n){const i=this.now();if(this.state==="started"){const a=this._clock.getTicksAtTime(i),o=this._clock.frequency.getDurationOfTicks(Math.ceil(a)-a,i),u=i+o;this.emit("stop",u),this._clock.setTicksAtTime(n,u),this.emit("start",u,this._clock.getSecondsAtTime(u))}else this.emit("ticks",i),this._clock.setTicksAtTime(n,i)}}getTicksAtTime(n){return this._clock.getTicksAtTime(n)}getSecondsAtTime(n){return this._clock.getSecondsAtTime(n)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(n){this._clock.frequency.multiplier=n}nextSubdivision(n){if(n=this.toTicks(n),this.state!=="started")return 0;{const i=this.now(),a=this.getTicksAtTime(i),o=n-a%n;return this._clock.nextTickTime(o,i)}}syncSignal(n,i){const a=this.now();let o=this.bpm,u=1/(60/o.getValueAtTime(a)/this.PPQ),p=[];if(n.units==="time"){const m=.015625/u,d=new De(m),g=new Fh(-1),v=new De(m);o.chain(d,g,v),o=v,u=1/u,p=[d,g,v]}i||(n.getValueAtTime(a)!==0?i=n.getValueAtTime(a)/u:i=0);const f=new De(i);return o.connect(f),f.connect(n._param),p.push(f),this._syncedSignals.push({initial:n.value,nodes:p,signal:n}),n.value=0,this}unsyncSignal(n){for(let i=this._syncedSignals.length-1;i>=0;i--){const a=this._syncedSignals[i];a.signal===n&&(a.nodes.forEach(o=>o.dispose()),a.signal.value=a.initial,this._syncedSignals.splice(i,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),O_(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}qr.mixin(ko);Eo(l=>{l.transport=new ko({context:l})});Oo(l=>{l.transport.dispose()});class an extends Nt{constructor(n){super(n),this.input=void 0,this._state=new Br("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=jt,this._syncedStop=jt,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Ta({context:this.context,mute:n.mute,volume:n.volume}),this.volume=this._volume.volume,ee(this,"volume"),this.onstop=n.onstop}static getDefaults(){return Object.assign(Nt.getDefaults(),{mute:!1,onstop:jt,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(n){this._volume.mute=n}_clampToCurrentTime(n){return this._synced?n:Math.max(n,this.context.currentTime)}start(n,i,a){let o=sn(n)&&this._synced?this.context.transport.seconds:this.toSeconds(n);if(o=this._clampToCurrentTime(o),!this._synced&&this._state.getValueAtTime(o)==="started")St(ua(o,this._state.get(o).time),"Start time must be strictly greater than previous start time"),this._state.cancel(o),this._state.setStateAtTime("started",o),this.log("restart",o),this.restart(o,i,a);else if(this.log("start",o),this._state.setStateAtTime("started",o),this._synced){const u=this._state.get(o);u&&(u.offset=this.toSeconds(jn(i,0)),u.duration=a?this.toSeconds(a):void 0);const p=this.context.transport.schedule(f=>{this._start(f,i,a)},o);this._scheduled.push(p),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>o&&this._syncedStart(this.now(),this.context.transport.seconds)}else x_(this.context),this._start(o,i,a);return this}stop(n){let i=sn(n)&&this._synced?this.context.transport.seconds:this.toSeconds(n);if(i=this._clampToCurrentTime(i),this._state.getValueAtTime(i)==="started"||xt(this._state.getNextState("started",i))){if(this.log("stop",i),!this._synced)this._stop(i);else{const a=this.context.transport.schedule(this._stop.bind(this),i);this._scheduled.push(a)}this._state.cancel(i),this._state.setStateAtTime("stopped",i)}return this}restart(n,i,a){return n=this.toSeconds(n),this._state.getValueAtTime(n)==="started"&&(this._state.cancel(n),this._restart(n,i,a)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(n,i)=>{if(ua(i,0)){const a=this._state.get(i);if(a&&a.state==="started"&&a.time!==i){const o=i-this.toSeconds(a.time);let u;a.duration&&(u=this.toSeconds(a.duration)-o),this._start(n,this.toSeconds(a.offset)+o,u)}}},this._syncedStop=n=>{const i=this.context.transport.getSecondsAtTime(Math.max(n-this.sampleTime,0));this._state.getValueAtTime(i)==="started"&&this._stop(n)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(n=>this.context.transport.clear(n)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=jt,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Ro extends ha{constructor(){const n=vt(Ro.getDefaults(),arguments,["url","onload"]);super(n),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Sa(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Pt({context:this.context,param:this._source.playbackRate,units:"positive",value:n.playbackRate}),this.loop=n.loop,this.loopStart=n.loopStart,this.loopEnd=n.loopEnd,this._buffer=new Xt(n.url,n.onload,n.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(ha.getDefaults(),{url:new Xt,loop:!1,loopEnd:0,loopStart:0,onload:jt,onerror:jt,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(n){this._fadeIn=n}get fadeOut(){return this._fadeOut}set fadeOut(n){this._fadeOut=n}get curve(){return this._curve}set curve(n){this._curve=n}start(n,i,a,o=1){St(this.buffer.loaded,"buffer is either not set or not loaded");const u=this.toSeconds(n);this._startGain(u,o),this.loop?i=jn(i,this.loopStart):i=jn(i,0);let p=Math.max(this.toSeconds(i),0);if(this.loop){const f=this.toSeconds(this.loopEnd)||this.buffer.duration,m=this.toSeconds(this.loopStart),d=f-m;mh(p,f)&&(p=(p-m)%d+m),Tn(p,this.buffer.duration)&&(p=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,yo(p,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(u,p)),xt(a)){let f=this.toSeconds(a);f=Math.max(f,0),this.stop(u+f)}return this}_stopSource(n){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(n)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(n){this._source.loopStart=this.toSeconds(n)}get loopEnd(){return this._source.loopEnd}set loopEnd(n){this._source.loopEnd=this.toSeconds(n)}get buffer(){return this._buffer}set buffer(n){this._buffer.set(n)}get loop(){return this._source.loop}set loop(n){this._source.loop=n,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function gi(l,n){return he(this,void 0,void 0,function*(){const i=n/l.context.sampleRate,a=new Bh(1,i,l.context.sampleRate);return new l.constructor(Object.assign(l.get(),{frequency:2/i,detune:0,context:a})).toDestination().start(0),(yield a.render()).getChannelData(0)})}class Ph extends ha{constructor(){const n=vt(Ph.getDefaults(),arguments,["frequency","type"]);super(n),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Sa(this._oscillator,this._gainNode),this.type=n.type,this.frequency=new Pt({context:this.context,param:this._oscillator.frequency,units:"frequency",value:n.frequency}),this.detune=new Pt({context:this.context,param:this._oscillator.detune,units:"cents",value:n.detune}),ee(this,["frequency","detune"])}static getDefaults(){return Object.assign(ha.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(n){const i=this.toSeconds(n);return this.log("start",i),this._startGain(i),this._oscillator.start(i),this}_stopSource(n){this._oscillator.stop(n)}setPeriodicWave(n){return this._oscillator.setPeriodicWave(n),this}get type(){return this._oscillator.type}set type(n){this._oscillator.type=n}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class ue extends an{constructor(){const n=vt(ue.getDefaults(),arguments,["frequency","type"]);super(n),this.name="Oscillator",this._oscillator=null,this.frequency=new Te({context:this.context,units:"frequency",value:n.frequency}),ee(this,"frequency"),this.detune=new Te({context:this.context,units:"cents",value:n.detune}),ee(this,"detune"),this._partials=n.partials,this._partialCount=n.partialCount,this._type=n.type,n.partialCount&&n.type!=="custom"&&(this._type=this.baseType+n.partialCount.toString()),this.phase=n.phase}static getDefaults(){return Object.assign(an.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(n){const i=this.toSeconds(n),a=new Ph({context:this.context,onended:()=>this.onstop(this)});this._oscillator=a,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(i)}_stop(n){const i=this.toSeconds(n);this._oscillator&&this._oscillator.stop(i)}_restart(n){const i=this.toSeconds(n);return this.log("restart",i),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(i),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return ue._periodicWaveCache.find(i=>i.phase===this._phase&&Dx(i.partials,this._partials));{const n=ue._periodicWaveCache.find(i=>i.type===this._type&&i.phase===this._phase);return this._partialCount=n?n.partialCount:this._partialCount,n}}get type(){return this._type}set type(n){this._type=n;const i=["sine","square","sawtooth","triangle"].indexOf(n)!==-1;if(this._phase===0&&i)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=n);else{const a=this._getCachedPeriodicWave();if(xt(a)){const{partials:o,wave:u}=a;this._wave=u,this._partials=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[o,u]=this._getRealImaginary(n,this._phase),p=this.context.createPeriodicWave(o,u);this._wave=p,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),ue._periodicWaveCache.push({imag:u,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:o,type:this._type,wave:this._wave}),ue._periodicWaveCache.length>100&&ue._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(n){this.partialCount&&this._type!=="custom"&&n!=="custom"?this.type=n+this.partialCount:this.type=n}get partialCount(){return this._partialCount}set partialCount(n){Us(n,0);let i=this._type;const a=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(a&&(i=a[1]),this._type!=="custom")n===0?this.type=i:this.type=i+n.toString();else{const o=new Float32Array(n);this._partials.forEach((u,p)=>o[p]=u),this._partials=Array.from(o),this.type=this._type}}_getRealImaginary(n,i){let o=2048;const u=new Float32Array(o),p=new Float32Array(o);let f=1;if(n==="custom"){if(f=this._partials.length+1,this._partialCount=this._partials.length,o=f,this._partials.length===0)return[u,p]}else{const m=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(n);m?(f=parseInt(m[2],10)+1,this._partialCount=parseInt(m[2],10),n=m[1],f=Math.max(f,2),o=f):this._partialCount=0,this._partials=[]}for(let m=1;m<o;++m){const d=2/(m*Math.PI);let g;switch(n){case"sine":g=m<=f?1:0,this._partials[m-1]=g;break;case"square":g=m&1?2*d:0,this._partials[m-1]=g;break;case"sawtooth":g=d*(m&1?1:-1),this._partials[m-1]=g;break;case"triangle":m&1?g=2*(d*d)*(m-1>>1&1?-1:1):g=0,this._partials[m-1]=g;break;case"custom":g=this._partials[m-1];break;default:throw new TypeError("Oscillator: invalid type: "+n)}g!==0?(u[m]=-g*Math.sin(i*m),p[m]=g*Math.cos(i*m)):(u[m]=0,p[m]=0)}return[u,p]}_inverseFFT(n,i,a){let o=0;const u=n.length;for(let p=0;p<u;p++)o+=n[p]*Math.cos(p*a)+i[p]*Math.sin(p*a);return o}getInitialValue(){const[n,i]=this._getRealImaginary(this._type,0);let a=0;const o=Math.PI*2,u=32;for(let p=0;p<u;p++)a=Math.max(this._inverseFFT(n,i,p/u*o),a);return Rx(-this._inverseFFT(n,i,this._phase)/a,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(n){this._partials=n,this._partialCount=this._partials.length,n.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(n){this._phase=n*Math.PI/180,this.type=this._type}asArray(){return he(this,arguments,void 0,function*(n=1024){return gi(this,n)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}ue._periodicWaveCache=[];class Kx extends fa{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Lr({context:this.context,mapping:n=>(n+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class da extends Te{constructor(){const n=vt(da.getDefaults(),arguments,["value"]);super(n),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new De({context:this.context,minValue:n.minValue,maxValue:n.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(n.value,0)}static getDefaults(){return Object.assign(Te.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class jo extends an{constructor(){const n=vt(jo.getDefaults(),arguments,["frequency","type","modulationType"]);super(n),this.name="AMOscillator",this._modulationScale=new Kx({context:this.context}),this._modulationNode=new De({context:this.context}),this._carrier=new ue({context:this.context,detune:n.detune,frequency:n.frequency,onstop:()=>this.onstop(this),phase:n.phase,type:n.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new ue({context:this.context,phase:n.phase,type:n.modulationType}),this.harmonicity=new da({context:this.context,units:"positive",value:n.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),ee(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(ue.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(n){this._modulator.start(n),this._carrier.start(n)}_stop(n){this._modulator.stop(n),this._carrier.stop(n)}_restart(n){this._modulator.restart(n),this._carrier.restart(n)}get type(){return this._carrier.type}set type(n){this._carrier.type=n}get baseType(){return this._carrier.baseType}set baseType(n){this._carrier.baseType=n}get partialCount(){return this._carrier.partialCount}set partialCount(n){this._carrier.partialCount=n}get modulationType(){return this._modulator.type}set modulationType(n){this._modulator.type=n}get phase(){return this._carrier.phase}set phase(n){this._carrier.phase=n,this._modulator.phase=n}get partials(){return this._carrier.partials}set partials(n){this._carrier.partials=n}asArray(){return he(this,arguments,void 0,function*(n=1024){return gi(this,n)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class zo extends an{constructor(){const n=vt(zo.getDefaults(),arguments,["frequency","type","modulationType"]);super(n),this.name="FMOscillator",this._modulationNode=new De({context:this.context,gain:0}),this._carrier=new ue({context:this.context,detune:n.detune,frequency:0,onstop:()=>this.onstop(this),phase:n.phase,type:n.type}),this.detune=this._carrier.detune,this.frequency=new Te({context:this.context,units:"frequency",value:n.frequency}),this._modulator=new ue({context:this.context,phase:n.phase,type:n.modulationType}),this.harmonicity=new da({context:this.context,units:"positive",value:n.harmonicity}),this.modulationIndex=new da({context:this.context,units:"positive",value:n.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),ee(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(ue.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(n){this._modulator.start(n),this._carrier.start(n)}_stop(n){this._modulator.stop(n),this._carrier.stop(n)}_restart(n){return this._modulator.restart(n),this._carrier.restart(n),this}get type(){return this._carrier.type}set type(n){this._carrier.type=n}get baseType(){return this._carrier.baseType}set baseType(n){this._carrier.baseType=n}get partialCount(){return this._carrier.partialCount}set partialCount(n){this._carrier.partialCount=n}get modulationType(){return this._modulator.type}set modulationType(n){this._modulator.type=n}get phase(){return this._carrier.phase}set phase(n){this._carrier.phase=n,this._modulator.phase=n}get partials(){return this._carrier.partials}set partials(n){this._carrier.partials=n}asArray(){return he(this,arguments,void 0,function*(n=1024){return gi(this,n)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Hr extends an{constructor(){const n=vt(Hr.getDefaults(),arguments,["frequency","width"]);super(n),this.name="PulseOscillator",this._widthGate=new De({context:this.context,gain:0}),this._thresh=new Lr({context:this.context,mapping:i=>i<=0?-1:1}),this.width=new Te({context:this.context,units:"audioRange",value:n.width}),this._triangle=new ue({context:this.context,detune:n.detune,frequency:n.frequency,onstop:()=>this.onstop(this),phase:n.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),ee(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(an.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(n){n=this.toSeconds(n),this._triangle.start(n),this._widthGate.gain.setValueAtTime(1,n)}_stop(n){n=this.toSeconds(n),this._triangle.stop(n),this._widthGate.gain.cancelScheduledValues(n),this._widthGate.gain.setValueAtTime(0,n)}_restart(n){this._triangle.restart(n),this._widthGate.gain.cancelScheduledValues(n),this._widthGate.gain.setValueAtTime(1,n)}get phase(){return this._triangle.phase}set phase(n){this._triangle.phase=n}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(n){this._triangle.type=n}asArray(){return he(this,arguments,void 0,function*(n=1024){return gi(this,n)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Vo extends an{constructor(){const n=vt(Vo.getDefaults(),arguments,["frequency","type","spread"]);super(n),this.name="FatOscillator",this._oscillators=[],this.frequency=new Te({context:this.context,units:"frequency",value:n.frequency}),this.detune=new Te({context:this.context,units:"cents",value:n.detune}),this._spread=n.spread,this._type=n.type,this._phase=n.phase,this._partials=n.partials,this._partialCount=n.partialCount,this.count=n.count,ee(this,["frequency","detune"])}static getDefaults(){return Object.assign(ue.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(n){n=this.toSeconds(n),this._forEach(i=>i.start(n))}_stop(n){n=this.toSeconds(n),this._forEach(i=>i.stop(n))}_restart(n){this._forEach(i=>i.restart(n))}_forEach(n){for(let i=0;i<this._oscillators.length;i++)n(this._oscillators[i],i)}get type(){return this._type}set type(n){this._type=n,this._forEach(i=>i.type=n)}get spread(){return this._spread}set spread(n){if(this._spread=n,this._oscillators.length>1){const i=-n/2,a=n/(this._oscillators.length-1);this._forEach((o,u)=>o.detune.value=i+a*u)}}get count(){return this._oscillators.length}set count(n){if(Us(n,1),this._oscillators.length!==n){this._forEach(i=>i.dispose()),this._oscillators=[];for(let i=0;i<n;i++){const a=new ue({context:this.context,volume:-6-n*1.1,type:this._type,phase:this._phase+i/n*360,partialCount:this._partialCount,onstop:i===0?()=>this.onstop(this):jt});this.type==="custom"&&(a.partials=this._partials),this.frequency.connect(a.frequency),this.detune.connect(a.detune),a.detune.overridden=!1,a.connect(this.output),this._oscillators[i]=a}this.spread=this._spread,this.state==="started"&&this._forEach(i=>i.start())}}get phase(){return this._phase}set phase(n){this._phase=n,this._forEach((i,a)=>i.phase=this._phase+a/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(n){this._forEach(i=>i.baseType=n),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(n){this._partials=n,this._partialCount=this._partials.length,n.length&&(this._type="custom",this._forEach(i=>i.partials=n))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(n){this._partialCount=n,this._forEach(i=>i.partialCount=n),this._type=this._oscillators[0].type}asArray(){return he(this,arguments,void 0,function*(n=1024){return gi(this,n)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(n=>n.dispose()),this}}class qo extends an{constructor(){const n=vt(qo.getDefaults(),arguments,["frequency","modulationFrequency"]);super(n),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new da({context:this.context,value:2}),this._pulse=new Hr({context:this.context,frequency:n.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new ue({context:this.context,detune:n.detune,frequency:n.frequency,onstop:()=>this.onstop(this),phase:n.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),ee(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(an.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(n){n=this.toSeconds(n),this._modulator.start(n),this._pulse.start(n)}_stop(n){n=this.toSeconds(n),this._modulator.stop(n),this._pulse.stop(n)}_restart(n){this._modulator.restart(n),this._pulse.restart(n)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(n){this._modulator.phase=n}asArray(){return he(this,arguments,void 0,function*(n=1024){return gi(this,n)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const wg={am:jo,fat:Vo,fm:zo,oscillator:ue,pulse:Hr,pwm:qo};class bo extends an{constructor(){const n=vt(bo.getDefaults(),arguments,["frequency","type"]);super(n),this.name="OmniOscillator",this.frequency=new Te({context:this.context,units:"frequency",value:n.frequency}),this.detune=new Te({context:this.context,units:"cents",value:n.detune}),ee(this,["frequency","detune"]),this.set(n)}static getDefaults(){return Object.assign(ue.getDefaults(),zo.getDefaults(),jo.getDefaults(),Vo.getDefaults(),Hr.getDefaults(),qo.getDefaults())}_start(n){this._oscillator.start(n)}_stop(n){this._oscillator.stop(n)}_restart(n){return this._oscillator.restart(n),this}get type(){let n="";return["am","fm","fat"].some(i=>this._sourceType===i)&&(n=this._sourceType),n+this._oscillator.type}set type(n){n.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=n.substr(2)):n.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=n.substr(2)):n.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=n.substr(3)):n==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):n==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=n)}get partials(){return this._oscillator.partials}set partials(n){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=n)}get partialCount(){return this._oscillator.partialCount}set partialCount(n){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=n)}set(n){return Reflect.has(n,"type")&&n.type&&(this.type=n.type),super.set(n),this}_createNewOscillator(n){if(n!==this._sourceType){this._sourceType=n;const i=wg[n],a=this.now();if(this._oscillator){const o=this._oscillator;o.stop(a),this.context.setTimeout(()=>o.dispose(),this.blockTime)}this._oscillator=new i({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(a)}}get phase(){return this._oscillator.phase}set phase(n){this._oscillator.phase=n}get sourceType(){return this._sourceType}set sourceType(n){let i="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(i=this._oscillator.type),n==="fm"?this.type="fm"+i:n==="am"?this.type="am"+i:n==="fat"?this.type="fat"+i:n==="oscillator"?this.type=i:n==="pulse"?this.type="pulse":n==="pwm"&&(this.type="pwm")}_getOscType(n,i){return n instanceof wg[i]}get baseType(){return this._oscillator.baseType}set baseType(n){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&n!=="pulse"&&n!=="pwm"&&(this._oscillator.baseType=n)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(n){this._getOscType(this._oscillator,"fat")&&ss(n)&&(this._oscillator.count=n)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(n){this._getOscType(this._oscillator,"fat")&&ss(n)&&(this._oscillator.spread=n)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(n){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&is(n)&&(this._oscillator.modulationType=n)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return he(this,arguments,void 0,function*(n=1024){return gi(this,n)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function R_(l,n=1/0){const i=new WeakMap;return function(a,o){Reflect.defineProperty(a,o,{configurable:!0,enumerable:!0,get:function(){return i.get(this)},set:function(u){Us(u,l,n),i.set(this,u)}})}}function os(l,n=1/0){const i=new WeakMap;return function(a,o){Reflect.defineProperty(a,o,{configurable:!0,enumerable:!0,get:function(){return i.get(this)},set:function(u){Us(this.toSeconds(u),l,n),i.set(this,u)}})}}class as extends an{constructor(){const n=vt(as.getDefaults(),arguments,["url","onload"]);super(n),this.name="Player",this._activeSources=new Set,this._buffer=new Xt({onload:this._onload.bind(this,n.onload),onerror:n.onerror,reverse:n.reverse,url:n.url}),this.autostart=n.autostart,this._loop=n.loop,this._loopStart=n.loopStart,this._loopEnd=n.loopEnd,this._playbackRate=n.playbackRate,this.fadeIn=n.fadeIn,this.fadeOut=n.fadeOut}static getDefaults(){return Object.assign(an.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:jt,onerror:jt,playbackRate:1,reverse:!1})}load(n){return he(this,void 0,void 0,function*(){return yield this._buffer.load(n),this._onload(),this})}_onload(n=jt){n(),this.autostart&&this.start()}_onSourceEnd(n){this.onstop(this),this._activeSources.delete(n),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(n,i,a){return super.start(n,i,a),this}_start(n,i,a){this._loop?i=jn(i,this._loopStart):i=jn(i,0);const o=this.toSeconds(i),u=a;a=jn(a,Math.max(this._buffer.duration-o,0));let p=this.toSeconds(a);p=p/this._playbackRate,n=this.toSeconds(n);const f=new Ro({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(n+p),this._state.setStateAtTime("stopped",n+p,{implicitEnd:!0})),this._activeSources.add(f),this._loop&&sn(u)?f.start(n,o):f.start(n,o,p-this.toSeconds(this.fadeOut))}_stop(n){const i=this.toSeconds(n);this._activeSources.forEach(a=>a.stop(i))}restart(n,i,a){return super.restart(n,i,a),this}_restart(n,i,a){var o;(o=[...this._activeSources].pop())===null||o===void 0||o.stop(n),this._start(n,i,a)}seek(n,i){const a=this.toSeconds(i);if(this._state.getValueAtTime(a)==="started"){const o=this.toSeconds(n);this._stop(a),this._start(a,o)}return this}setLoopPoints(n,i){return this.loopStart=n,this.loopEnd=i,this}get loopStart(){return this._loopStart}set loopStart(n){this._loopStart=n,this.buffer.loaded&&Us(this.toSeconds(n),0,this.buffer.duration),this._activeSources.forEach(i=>{i.loopStart=n})}get loopEnd(){return this._loopEnd}set loopEnd(n){this._loopEnd=n,this.buffer.loaded&&Us(this.toSeconds(n),0,this.buffer.duration),this._activeSources.forEach(i=>{i.loopEnd=n})}get buffer(){return this._buffer}set buffer(n){this._buffer.set(n)}get loop(){return this._loop}set loop(n){if(this._loop!==n&&(this._loop=n,this._activeSources.forEach(i=>{i.loop=n}),n)){const i=this._state.getNextState("stopped",this.now());i&&this._state.cancel(i.time)}}get playbackRate(){return this._playbackRate}set playbackRate(n){this._playbackRate=n;const i=this.now(),a=this._state.getNextState("stopped",i);a&&a.implicitEnd&&(this._state.cancel(a.time),this._activeSources.forEach(o=>o.cancelStop())),this._activeSources.forEach(o=>{o.playbackRate.setValueAtTime(n,i)})}get reverse(){return this._buffer.reverse}set reverse(n){this._buffer.reverse=n}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(n=>n.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Nn([os(0)],as.prototype,"fadeIn",void 0);Nn([os(0)],as.prototype,"fadeOut",void 0);class Ys extends Nt{constructor(){const n=vt(Ys.getDefaults(),arguments,["attack","decay","sustain","release"]);super(n),this.name="Envelope",this._sig=new Te({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=n.attack,this.decay=n.decay,this.sustain=n.sustain,this.release=n.release,this.attackCurve=n.attackCurve,this.releaseCurve=n.releaseCurve,this.decayCurve=n.decayCurve}static getDefaults(){return Object.assign(Nt.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(n,i){if(is(n))return n;{let a;for(a in io)if(io[a][i]===n)return a;return n}}_setCurve(n,i,a){if(is(a)&&Reflect.has(io,a)){const o=io[a];Vs(o)?n!=="_decayCurve"&&(this[n]=o[i]):this[n]=o}else if(_n(a)&&n!=="_decayCurve")this[n]=a;else throw new Error("Envelope: invalid curve: "+a)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(n){this._setCurve("_attackCurve","In",n)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(n){this._setCurve("_releaseCurve","Out",n)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(n){this._setCurve("_decayCurve","Out",n)}triggerAttack(n,i=1){this.log("triggerAttack",n,i),n=this.toSeconds(n);let o=this.toSeconds(this.attack);const u=this.toSeconds(this.decay),p=this.getValueAtTime(n);if(p>0){const f=1/o;o=(1-p)/f}if(o<this.sampleTime)this._sig.cancelScheduledValues(n),this._sig.setValueAtTime(i,n);else if(this._attackCurve==="linear")this._sig.linearRampTo(i,o,n);else if(this._attackCurve==="exponential")this._sig.targetRampTo(i,o,n);else{this._sig.cancelAndHoldAtTime(n);let f=this._attackCurve;for(let m=1;m<f.length;m++)if(f[m-1]<=p&&p<=f[m]){f=this._attackCurve.slice(m),f[0]=p;break}this._sig.setValueCurveAtTime(f,n,o,i)}if(u&&this.sustain<1){const f=i*this.sustain,m=n+o;this.log("decay",m),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(f,u+m):this._sig.exponentialApproachValueAtTime(f,m,u)}return this}triggerRelease(n){this.log("triggerRelease",n),n=this.toSeconds(n);const i=this.getValueAtTime(n);if(i>0){const a=this.toSeconds(this.release);a<this.sampleTime?this._sig.setValueAtTime(0,n):this._releaseCurve==="linear"?this._sig.linearRampTo(0,a,n):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,a,n):(St(_n(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(n),this._sig.setValueCurveAtTime(this._releaseCurve,n,a,i))}return this}getValueAtTime(n){return this._sig.getValueAtTime(n)}triggerAttackRelease(n,i,a=1){return i=this.toSeconds(i),this.triggerAttack(i,a),this.triggerRelease(i+this.toSeconds(n)),this}cancel(n){return this._sig.cancelScheduledValues(this.toSeconds(n)),this}connect(n,i=0,a=0){return Yh(this,n,i,a),this}asArray(){return he(this,arguments,void 0,function*(n=1024){const i=n/this.context.sampleRate,a=new Bh(1,i,this.context.sampleRate),o=this.toSeconds(this.attack)+this.toSeconds(this.decay),u=o+this.toSeconds(this.release),p=u*.1,f=u+p,m=new this.constructor(Object.assign(this.get(),{attack:i*this.toSeconds(this.attack)/f,decay:i*this.toSeconds(this.decay)/f,release:i*this.toSeconds(this.release)/f,context:a}));return m._sig.toDestination(),m.triggerAttackRelease(i*(o+p)/f,0),(yield a.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Nn([os(0)],Ys.prototype,"attack",void 0);Nn([os(0)],Ys.prototype,"decay",void 0);Nn([R_(0,1)],Ys.prototype,"sustain",void 0);Nn([os(0)],Ys.prototype,"release",void 0);const io=(()=>{let n,i;const a=[];for(n=0;n<128;n++)a[n]=Math.sin(n/127*(Math.PI/2));const o=[],u=6.4;for(n=0;n<127;n++){i=n/127;const b=Math.sin(i*(Math.PI*2)*u-Math.PI/2)+1;o[n]=b/10+i*.83}o[127]=1;const p=[],f=5;for(n=0;n<128;n++)p[n]=Math.ceil(n/127*f)/f;const m=[];for(n=0;n<128;n++)i=n/127,m[n]=.5*(1-Math.cos(Math.PI*i));const d=[];for(n=0;n<128;n++){i=n/127;const b=Math.pow(i,3)*4+.2,y=Math.cos(b*Math.PI*2*i);d[n]=Math.abs(y*(1-i))}function g(b){const y=new Array(b.length);for(let S=0;S<b.length;S++)y[S]=1-b[S];return y}function v(b){return b.slice(0).reverse()}return{bounce:{In:g(d),Out:d},cosine:{In:a,Out:v(a)},exponential:"exponential",linear:"linear",ripple:{In:o,Out:g(o)},sine:{In:m,Out:g(m)},step:{In:p,Out:g(p)}}})();class pa extends Nt{constructor(){const n=vt(pa.getDefaults(),arguments);super(n),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=i=>this._original_triggerRelease(i),this._volume=this.output=new Ta({context:this.context,volume:n.volume}),this.volume=this._volume.volume,ee(this,"volume")}static getDefaults(){return Object.assign(Nt.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let n=!1;return this._synced||(this._synced=!0,n=!0),n}_syncMethod(n,i){const a=this["_original_"+n]=this[n];this[n]=(...o)=>{const u=o[i],p=this.context.transport.schedule(f=>{o[i]=f,a.apply(this,o)},u);this._scheduledEvents.push(p)}}unsync(){return this._scheduledEvents.forEach(n=>this.context.transport.clear(n)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(n,i,a,o){const u=this.toSeconds(a),p=this.toSeconds(i);return this.triggerAttack(n,u,o),this.triggerRelease(u+p),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class ma extends pa{constructor(){const n=vt(ma.getDefaults(),arguments);super(n),this.portamento=n.portamento,this.onsilence=n.onsilence}static getDefaults(){return Object.assign(pa.getDefaults(),{detune:0,onsilence:jt,portamento:0})}triggerAttack(n,i,a=1){this.log("triggerAttack",n,i,a);const o=this.toSeconds(i);return this._triggerEnvelopeAttack(o,a),this.setNote(n,o),this}triggerRelease(n){this.log("triggerRelease",n);const i=this.toSeconds(n);return this._triggerEnvelopeRelease(i),this}setNote(n,i){const a=this.toSeconds(i),o=n instanceof gn?n.toFrequency():n;if(this.portamento>0&&this.getLevelAtTime(a)>.05){const u=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(o,u,a)}else this.frequency.setValueAtTime(o,a);return this}}Nn([os(0)],ma.prototype,"portamento",void 0);class Kh extends Ys{constructor(){super(vt(Kh.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new De({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class So extends ma{constructor(){const n=vt(So.getDefaults(),arguments);super(n),this.name="Synth",this.oscillator=new bo(Object.assign({context:this.context,detune:n.detune,onstop:()=>this.onsilence(this)},n.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Kh(Object.assign({context:this.context},n.envelope)),this.oscillator.chain(this.envelope,this.output),ee(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(ma.getDefaults(),{envelope:Object.assign(xg(Ys.getDefaults(),Object.keys(Nt.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(xg(bo.getDefaults(),[...Object.keys(an.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(n,i){if(this.envelope.triggerAttack(n,i),this.oscillator.start(n),this.envelope.sustain===0){const a=this.toSeconds(this.envelope.attack),o=this.toSeconds(this.envelope.decay);this.oscillator.stop(n+a+o)}}_triggerEnvelopeRelease(n){this.envelope.triggerRelease(n),this.oscillator.stop(n+this.toSeconds(this.envelope.release))}getLevelAtTime(n){return n=this.toSeconds(n),this.envelope.getValueAtTime(n)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Uo extends So{constructor(){const n=vt(Uo.getDefaults(),arguments);super(n),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=n.pitchDecay,this.octaves=n.octaves,ee(this,["oscillator","envelope"])}static getDefaults(){return ra(ma.getDefaults(),So.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(n,i){const a=this.toSeconds(i),o=this.toFrequency(n instanceof gn?n.toFrequency():n),u=o*this.octaves;return this.oscillator.frequency.setValueAtTime(u,a),this.oscillator.frequency.exponentialRampToValueAtTime(o,a+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Nn([R_(0)],Uo.prototype,"octaves",void 0);Nn([os(0)],Uo.prototype,"pitchDecay",void 0);const j_=new Set;function Jh(l){j_.add(l)}function z_(l,n){const i=`registerProcessor("${l}", ${n})`;j_.add(i)}const Jx=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Jh(Jx);const $x=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Jh($x);const tw=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Jh(tw);const ew="feedback-comb-filter",nw=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;z_(ew,nw);class Bo extends pa{constructor(){const n=vt(Bo.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(n),this.name="Sampler",this._activeSources=new Map;const i={};Object.keys(n.urls).forEach(a=>{const o=parseInt(a,10);if(St(so(a)||ss(o)&&isFinite(o),`url key is neither a note or midi pitch: ${a}`),so(a)){const u=new gn(this.context,a).toMidi();i[u]=n.urls[a]}else ss(o)&&isFinite(o)&&(i[o]=n.urls[o])}),this._buffers=new Qh({urls:i,onload:n.onload,baseUrl:n.baseUrl,onerror:n.onerror}),this.attack=n.attack,this.release=n.release,this.curve=n.curve,this._buffers.loaded&&Promise.resolve().then(n.onload)}static getDefaults(){return Object.assign(pa.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:jt,onerror:jt,release:.1,urls:{}})}_findClosest(n){let a=0;for(;a<96;){if(this._buffers.has(n+a))return-a;if(this._buffers.has(n-a))return a;a++}throw new Error(`No available buffers for note: ${n}`)}triggerAttack(n,i,a=1){return this.log("triggerAttack",n,i,a),Array.isArray(n)||(n=[n]),n.forEach(o=>{const u=k_(new gn(this.context,o).toFrequency()),p=Math.round(u),f=u-p,m=this._findClosest(p),d=p-m,g=this._buffers.get(d),v=D_(m+f),b=new Ro({url:g,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:v}).connect(this.output);b.start(i,0,g.duration/v,a),_n(this._activeSources.get(p))||this._activeSources.set(p,[]),this._activeSources.get(p).push(b),b.onended=()=>{if(this._activeSources&&this._activeSources.has(p)){const y=this._activeSources.get(p),S=y.indexOf(b);S!==-1&&y.splice(S,1)}}}),this}triggerRelease(n,i){return this.log("triggerRelease",n,i),Array.isArray(n)||(n=[n]),n.forEach(a=>{const o=new gn(this.context,a).toMidi();if(this._activeSources.has(o)&&this._activeSources.get(o).length){const u=this._activeSources.get(o);i=this.toSeconds(i),u.forEach(p=>{p.stop(i)}),this._activeSources.set(o,[])}}),this}releaseAll(n){const i=this.toSeconds(n);return this._activeSources.forEach(a=>{for(;a.length;)a.shift().stop(i)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(n,i,a,o=1){const u=this.toSeconds(a);return this.triggerAttack(n,u,o),_n(i)?(St(_n(n),"notes must be an array when duration is array"),n.forEach((p,f)=>{const m=i[Math.min(f,i.length-1)];this.triggerRelease(p,u+this.toSeconds(m))})):this.triggerRelease(n,u+this.toSeconds(i)),this}add(n,i,a){if(St(so(n)||isFinite(n),`note must be a pitch or midi: ${n}`),so(n)){const o=new gn(this.context,n).toMidi();this._buffers.add(o,i,a)}else this._buffers.add(n,i,a);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(n=>{n.forEach(i=>i.dispose())}),this._activeSources.clear(),this}}Nn([os(0)],Bo.prototype,"attack",void 0);Nn([os(0)],Bo.prototype,"release",void 0);class hi extends Se{constructor(){const n=vt(hi.getDefaults(),arguments,["callback","value"]);super(n),this.name="ToneEvent",this._state=new Br("stopped"),this._startOffset=0,this._loop=n.loop,this.callback=n.callback,this.value=n.value,this._loopStart=this.toTicks(n.loopStart),this._loopEnd=this.toTicks(n.loopEnd),this._playbackRate=n.playbackRate,this._probability=n.probability,this._humanize=n.humanize,this.mute=n.mute,this._playbackRate=n.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(Se.getDefaults(),{callback:jt,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(n=-1){this._state.forEachFrom(n,i=>{let a;if(i.state==="started"){i.id!==-1&&this.context.transport.clear(i.id);const o=i.time+Math.round(this.startOffset/this._playbackRate);if(this._loop===!0||ss(this._loop)&&this._loop>1){a=1/0,ss(this._loop)&&(a=this._loop*this._getLoopDuration());const u=this._state.getAfter(o);u!==null&&(a=Math.min(a,u.time-o)),a!==1/0&&(a=new pe(this.context,a));const p=new pe(this.context,this._getLoopDuration());i.id=this.context.transport.scheduleRepeat(this._tick.bind(this),p,new pe(this.context,o),a)}else i.id=this.context.transport.schedule(this._tick.bind(this),new pe(this.context,o))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(n){this._startOffset=n}get probability(){return this._probability}set probability(n){this._probability=n}get humanize(){return this._humanize}set humanize(n){this._humanize=n}start(n){const i=this.toTicks(n);return this._state.getValueAtTime(i)==="stopped"&&(this._state.add({id:-1,state:"started",time:i}),this._rescheduleEvents(i)),this}stop(n){this.cancel(n);const i=this.toTicks(n);if(this._state.getValueAtTime(i)==="started"){this._state.setStateAtTime("stopped",i,{id:-1});const a=this._state.getBefore(i);let o=i;a!==null&&(o=a.time),this._rescheduleEvents(o)}return this}cancel(n){n=jn(n,-1/0);const i=this.toTicks(n);return this._state.forEachFrom(i,a=>{this.context.transport.clear(a.id)}),this._state.cancel(i),this}_tick(n){const i=this.context.transport.getTicksAtTime(n);if(!this.mute&&this._state.getValueAtTime(i)==="started"){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let a=.02;T_(this.humanize)||(a=this.toSeconds(this.humanize)),n+=(Math.random()*2-1)*a}this.callback(n,this.value)}}_getLoopDuration(){return(this._loopEnd-this._loopStart)/this._playbackRate}get loop(){return this._loop}set loop(n){this._loop=n,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(n){this._playbackRate=n,this._rescheduleEvents()}get loopEnd(){return new pe(this.context,this._loopEnd).toSeconds()}set loopEnd(n){this._loopEnd=this.toTicks(n),this._loop&&this._rescheduleEvents()}get loopStart(){return new pe(this.context,this._loopStart).toSeconds()}set loopStart(n){this._loopStart=this.toTicks(n),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const n=this.context.transport.ticks,i=this._state.get(n);if(i!==null&&i.state==="started"){const a=this._getLoopDuration();return(n-i.time)%a/a}else return 0}else return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class $h extends Se{constructor(){const n=vt($h.getDefaults(),arguments,["callback","interval"]);super(n),this.name="Loop",this._event=new hi({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:n.interval,playbackRate:n.playbackRate,probability:n.probability,humanize:n.humanize}),this.callback=n.callback,this.iterations=n.iterations}static getDefaults(){return Object.assign(Se.getDefaults(),{interval:"4n",callback:jt,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(n){return this._event.start(n),this}stop(n){return this._event.stop(n),this}cancel(n){return this._event.cancel(n),this}_tick(n){this.callback(n)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(n){this._event.loopEnd=n}get playbackRate(){return this._event.playbackRate}set playbackRate(n){this._event.playbackRate=n}get humanize(){return this._event.humanize}set humanize(n){this._event.humanize=n}get probability(){return this._event.probability}set probability(n){this._event.probability=n}get mute(){return this._event.mute}set mute(n){this._event.mute=n}get iterations(){return this._event.loop===!0?1/0:this._event.loop}set iterations(n){n===1/0?this._event.loop=!0:this._event.loop=n}dispose(){return super.dispose(),this._event.dispose(),this}}class Cr extends hi{constructor(){const n=vt(Cr.getDefaults(),arguments,["callback","events"]);super(n),this.name="Part",this._state=new Br("stopped"),this._events=new Set,this._state.increasing=!0,n.events.forEach(i=>{_n(i)?this.add(i[0],i[1]):this.add(i)})}static getDefaults(){return Object.assign(hi.getDefaults(),{events:[]})}start(n,i){const a=this.toTicks(n);if(this._state.getValueAtTime(a)!=="started"){i=jn(i,this._loop?this._loopStart:0),this._loop?i=jn(i,this._loopStart):i=jn(i,0);const o=this.toTicks(i);this._state.add({id:-1,offset:o,state:"started",time:a}),this._forEach(u=>{this._startNote(u,a,o)})}return this}_startNote(n,i,a){i-=a,this._loop?n.startOffset>=this._loopStart&&n.startOffset<this._loopEnd?(n.startOffset<a&&(i+=this._getLoopDuration()),n.start(new pe(this.context,i))):n.startOffset<this._loopStart&&n.startOffset>=a&&(n.loop=!1,n.start(new pe(this.context,i))):n.startOffset>=a&&n.start(new pe(this.context,i))}get startOffset(){return this._startOffset}set startOffset(n){this._startOffset=n,this._forEach(i=>{i.startOffset+=this._startOffset})}stop(n){const i=this.toTicks(n);return this._state.cancel(i),this._state.setStateAtTime("stopped",i),this._forEach(a=>{a.stop(n)}),this}at(n,i){const a=new la(this.context,n).toTicks(),o=new pe(this.context,1).toSeconds(),u=this._events.values();let p=u.next();for(;!p.done;){const f=p.value;if(Math.abs(a-f.startOffset)<o)return xt(i)&&(f.value=i),f;p=u.next()}return xt(i)?(this.add(n,i),this.at(n)):null}add(n,i){n instanceof Object&&Reflect.has(n,"time")&&(i=n,n=i.time);const a=this.toTicks(n);let o;return i instanceof hi?(o=i,o.callback=this._tick.bind(this)):o=new hi({callback:this._tick.bind(this),context:this.context,value:i}),o.startOffset=a,o.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(o),this._restartEvent(o),this}_restartEvent(n){this._state.forEach(i=>{i.state==="started"?this._startNote(n,i.time,i.offset):n.stop(new pe(this.context,i.time))})}remove(n,i){return Vs(n)&&n.hasOwnProperty("time")&&(i=n,n=i.time),n=this.toTicks(n),this._events.forEach(a=>{a.startOffset===n&&(sn(i)||xt(i)&&a.value===i)&&(this._events.delete(a),a.dispose())}),this}clear(){return this._forEach(n=>n.dispose()),this._events.clear(),this}cancel(n){return this._forEach(i=>i.cancel(n)),this._state.cancel(this.toTicks(n)),this}_forEach(n){return this._events&&this._events.forEach(i=>{i instanceof Cr?i._forEach(n):n(i)}),this}_setAll(n,i){this._forEach(a=>{a[n]=i})}_tick(n,i){this.mute||this.callback(n,i)}_testLoopBoundries(n){this._loop&&(n.startOffset<this._loopStart||n.startOffset>=this._loopEnd)?n.cancel(0):n.state==="stopped"&&this._restartEvent(n)}get probability(){return this._probability}set probability(n){this._probability=n,this._setAll("probability",n)}get humanize(){return this._humanize}set humanize(n){this._humanize=n,this._setAll("humanize",n)}get loop(){return this._loop}set loop(n){this._loop=n,this._forEach(i=>{i.loopStart=this.loopStart,i.loopEnd=this.loopEnd,i.loop=n,this._testLoopBoundries(i)})}get loopEnd(){return new pe(this.context,this._loopEnd).toSeconds()}set loopEnd(n){this._loopEnd=this.toTicks(n),this._loop&&this._forEach(i=>{i.loopEnd=n,this._testLoopBoundries(i)})}get loopStart(){return new pe(this.context,this._loopStart).toSeconds()}set loopStart(n){this._loopStart=this.toTicks(n),this._loop&&this._forEach(i=>{i.loopStart=this.loopStart,this._testLoopBoundries(i)})}get playbackRate(){return this._playbackRate}set playbackRate(n){this._playbackRate=n,this._setAll("playbackRate",n)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}class tf extends Nt{constructor(){const n=vt(tf.getDefaults(),arguments,["pan"]);super(n),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new Pt({context:this.context,param:this._panner.pan,value:n.pan,minValue:-1,maxValue:1}),this._panner.channelCount=n.channelCount,this._panner.channelCountMode="explicit",ee(this,"pan")}static getDefaults(){return Object.assign(Nt.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const sw="bit-crusher",iw=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;z_(sw,iw);class ce extends Nt{constructor(){const n=vt(ce.getDefaults(),arguments,["solo"]);super(n),this.name="Solo",this.input=this.output=new De({context:this.context}),ce._allSolos.has(this.context)||ce._allSolos.set(this.context,new Set),ce._allSolos.get(this.context).add(this),this.solo=n.solo}static getDefaults(){return Object.assign(Nt.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(n){n?this._addSolo():this._removeSolo(),ce._allSolos.get(this.context).forEach(i=>i._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){ce._soloed.has(this.context)||ce._soloed.set(this.context,new Set),ce._soloed.get(this.context).add(this)}_removeSolo(){ce._soloed.has(this.context)&&ce._soloed.get(this.context).delete(this)}_isSoloed(){return ce._soloed.has(this.context)&&ce._soloed.get(this.context).has(this)}_noSolos(){return!ce._soloed.has(this.context)||ce._soloed.has(this.context)&&ce._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),ce._allSolos.get(this.context).delete(this),this._removeSolo(),this}}ce._allSolos=new Map;ce._soloed=new Map;class ef extends Nt{constructor(){const n=vt(ef.getDefaults(),arguments,["pan","volume"]);super(n),this.name="PanVol",this._panner=this.input=new tf({context:this.context,pan:n.pan,channelCount:n.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Ta({context:this.context,volume:n.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=n.mute,ee(this,["pan","volume"])}static getDefaults(){return Object.assign(Nt.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(n){this._volume.mute=n}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class ia extends Nt{constructor(){const n=vt(ia.getDefaults(),arguments,["volume","pan"]);super(n),this.name="Channel",this._solo=this.input=new ce({solo:n.solo,context:this.context}),this._panVol=this.output=new ef({context:this.context,pan:n.pan,volume:n.volume,mute:n.mute,channelCount:n.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),ee(this,["pan","volume"])}static getDefaults(){return Object.assign(Nt.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(n){this._solo.solo=n}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(n){this._panVol.mute=n}_getBus(n){return ia.buses.has(n)||ia.buses.set(n,new De({context:this.context})),ia.buses.get(n)}send(n,i=0){const a=this._getBus(n),o=new De({context:this.context,units:"decibels",gain:i});return this.connect(o),o.connect(a),o}receive(n){return this._getBus(n).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}ia.buses=new Map;function nf(){return mn().now()}const nn=mn().transport;mn().destination;mn().destination;mn().listener;const V_=mn().draw;mn();function q_(){return Xt.loaded()}let Nr=[],ci=null;const Ag={kick:"sounds/kick.wav",kick_sub:"sounds/kick_sub.wav",snare:"sounds/snare.wav",snare_ghost:"sounds/snare_ghost.wav",snare_rim:"sounds/snare_rim.wav",tom_high1:"sounds/tom_high1.wav",tom_high2:"sounds/tom_high2.wav",tom_mid1:"sounds/tom_mid1.wav",tom_mid2:"sounds/tom_mid2.wav",tom_low1:"sounds/tom_low1.wav",tom_low2:"sounds/tom_low2.wav",hihat_closed:"sounds/hihat_closed.wav",hihat_open:"sounds/hihat_open.wav",hihat_pedal:"sounds/hihat_pedal.wav",crash1:"sounds/crash1.wav",crash2:"sounds/crash2.wav",ride_bell:"sounds/ride_bell.wav",ride_crash:"sounds/ride_crash.wav",ride_tip:"sounds/ride_tip.wav",china:"sounds/china.wav",splash:"sounds/splash.wav",bell:"sounds/bell.wav",click:"sounds/click.wav",click_high:"sounds/click_high.wav"},aa={},aw=async(l=4)=>{await q_();for(const n in Ag){aa[n]=[];for(let i=0;i<l+1;i++)aa[n][i]=new as(Ag[n]).toDestination()}},rw=(l,n,i,a=1,o,u,p)=>{var m,d,g,v;const f=o==null?void 0:o[l];if(f==="tempo"){const b=u==null?void 0:u[p],y=b==="strong"?(m=aa.click_high)==null?void 0:m[l]:b==="normal"?(d=aa.click)==null?void 0:d[l]:(g=aa.click)==null?void 0:g[l];!n&&y&&(y.volume.value=Ar(a),y.start(i))}else{const b=(v=aa[f])==null?void 0:v[l];!n&&b&&(b.volume.value=Ar(a),b.start(i))}},sf=(l,n,i)=>{const o=(i==="quarter"?4:i==="eighth"?8:12)/n;return 60/l*o},lw=(l,n,i,a,o)=>{const u=sf(l,o,n);ci&&ci.dispose();const p=Array.from({length:a},(f,m)=>[m*u,m]);ci=new Cr((f,m)=>{V_.schedule(()=>i(m),f)},p),ci.loop=!0,ci.loopEnd=u*a,ci.start(0),Nr.push(ci)},ow=(l,n,i,a,o,u,p,f,m,d)=>{var b;const g=sf(l,f,p),v=Array(a).fill(0);for(let y=0;y<a;y++){const S=d[y],{n:x,m:A}=n[y],E=g*x,D=E/A,M=[];for(let C=0;C<A;C++){const R=C*D,V=((b=u==null?void 0:u[y])==null?void 0:b[C])??1;M.push([R,()=>{rw(y,i[y],void 0,V,m,S,C);const k=y-1;v[k]=C,o([...v])}])}const U=new Cr((C,R)=>{V_.schedule(()=>R(),C)},M);U.loop=!0,U.loopEnd=E,U.start(0),Nr.push(U)}nn.loop=!1},cw=(l,n,i,a,o,u,p,f,m,d,g,v)=>{const b=nf(),y=sf(l,g,n),S={n:p,m:p},x=i.map(D=>D==="strong"?1:D==="normal"?.7:D==="weak"?.3:0);lw(l,n,a,p,g),ow(l,[S,...f],[!1,...o],u+1,m,[x,...d],n,g,["tempo",...v],[i,...Array(u).fill(null)]);let A=0;const E=new $h(D=>{a(A),A=(A+1)%p},y);E.start(0),Nr.push(E),nn.start(b)},uw=()=>{for(const l of Nr)l.dispose();Nr=[],nn.stop()},U_=ut.createContext(null),Gs=()=>{const l=ut.useContext(U_);if(!l)throw new Error("RhythmContext must be used within RhythmProvider");return l},hw=({children:l})=>{const[n,i]=ut.useState(4),[a,o]=ut.useState(4),[u,p]=ut.useState("quarter"),[f,m]=ut.useState("circle"),[d,g]=ut.useState(120),[v,b]=ut.useState(!1),[y,S]=ut.useState(Array(n).fill("normal")),[x,A]=ut.useState(0),[E,D]=ut.useState(0),[M,U]=ut.useState(Array(4).fill(!0)),[C,R]=ut.useState(Array(4).fill({n:1,m:1})),[V,k]=ut.useState(Array(4).fill(0)),[Q,F]=ut.useState(Array(4).fill(null).map(()=>Array(16).fill(1))),[Z,X]=ut.useState(Array(4).fill("kick"));return ut.useEffect(()=>{S(nt=>{const et=[...nt];for(;et.length<n;)et.push("normal");return et.slice(0,n)})},[n]),ut.useEffect(()=>{R(nt=>{const et=[...nt];for(;et.length<4;)et.push({n:1,m:1});return et.slice(0,4)})},[]),w.jsx(U_.Provider,{value:{numerator:n,setNumerator:i,denominator:a,setDenominator:o,noteValue:u,setNoteValue:p,displayMode:f,setDisplayMode:m,bpm:d,setBpm:g,isPlaying:v,setIsPlaying:b,accentLevels:y,setAccentLevels:S,currentStep:x,setCurrentStep:A,currentAccentStep:E,setCurrentAccentStep:D,muteStates:M,setMuteStates:U,rhythmUnits:C,setRhythmUnits:R,currentRhythmSteps:V,setCurrentRhythmSteps:k,rhythmVolumes:Q,setRhythmVolumes:F,partSounds:Z,setPartSounds:X},children:l})},fw={strong:"強",normal:"中",weak:"弱",none:"無"},ah=["strong","normal","weak","none"],dw=()=>{const{numerator:l,accentLevels:n,setAccentLevels:i,isPlaying:a,currentAccentStep:o}=Gs(),u=m=>{const d=n[m],g=ah[(ah.indexOf(d)+1)%ah.length],v=[...n];v[m]=g,i(v)},p=(m,d)=>`w-25 h-25 rounded-full bg-gradient-to-br from-gray-700 to-black border-2 border-gray-400 transition-transform text-white text-xl flex items-center justify-center shadow-[0_4px_8px_rgba(0,0,0,0.5)] hover:scale-125 focus:outline-none focus-visible:outline-white ${m==="strong"?"bg-red-500 border-red-700":m==="normal"?"bg-orange-400 border-orange-600":m==="weak"?"bg-gray-400 border-gray-500":"bg-black border-gray-600"} ${d&&a?"animate-pulse ring-2 ring-yellow-300":""}`,f=[];for(let m=0;m<l;m+=4)f.push(n.slice(m,m+4));return w.jsx("div",{className:"flex flex-col gap-2 mt-2",children:f.map((m,d)=>w.jsx("div",{className:"flex justify-center gap-2",children:m.map((g,v)=>{const b=d*4+v;return w.jsxs("button",{onClick:()=>u(b),className:p(g,o===b),title:`拍 ${b+1}：${g}`,disabled:a,children:[`拍 ${b+1}`,w.jsx("br",{}),fw[g]]},b)})},d))})},pw=()=>{const{numerator:l,setNumerator:n,denominator:i,setDenominator:a,noteValue:o,setNoteValue:u,bpm:p,setBpm:f,isPlaying:m}=Gs(),d=ut.useRef(null),g=ut.useRef(null),v=()=>f(D=>Math.min(D+1,300)),b=()=>f(D=>Math.max(D-1,30)),y=D=>{f(M=>Math.min(300,Math.max(30,M+D)))},S=ut.useRef([]),x=()=>{const D=Date.now(),M=S.current;if(M.length>0&&D-M[M.length-1]>3e3&&(M.length=0),M.push(D),M.length>=2){const U=M.slice(1).map((V,k)=>V-M[k]),C=U.reduce((V,k)=>V+k)/U.length,R=Math.round(6e4/C);R>=30&&R<=300&&f(R)}M.length>4&&M.shift()},A=D=>{g.current=setTimeout(()=>{d.current=setInterval(D,100)},300)},E=()=>{g.current&&(clearTimeout(g.current),g.current=null),d.current&&(clearInterval(d.current),d.current=null)};return w.jsxs("div",{className:"flex flex-col gap-2 p-4 bg-gray-900 text-white rounded-xl shadow",children:[w.jsxs("div",{className:"flex gap-4 items-center",children:[w.jsx("label",{children:"拍子："}),w.jsx("select",{value:l,onChange:D=>n(parseInt(D.target.value)),disabled:m,className:"bg-gray-800 p-1 rounded",children:Array.from({length:20},(D,M)=>M+1).map(D=>w.jsx("option",{value:D,children:D},D))}),w.jsx("span",{children:"/"}),w.jsx("select",{value:i,onChange:D=>a(parseInt(D.target.value)),disabled:m,className:"bg-gray-800 p-1 rounded",children:[1,2,4,8,16].map(D=>w.jsx("option",{value:D,children:D},D))})]}),w.jsxs("div",{className:"flex gap-4 items-center",children:[w.jsx("label",{children:"音価："}),w.jsxs("select",{value:o,onChange:D=>u(D.target.value),disabled:m,className:"bg-gray-800 p-1 rounded",children:[w.jsx("option",{value:"quarter",children:"♩"}),w.jsx("option",{value:"eighth",children:"♪"})]})]}),w.jsxs("div",{className:"flex gap-4 items-center",children:[w.jsx("label",{children:"BPM："}),w.jsx("button",{onMouseDown:()=>A(b),onMouseUp:E,onMouseLeave:E,onTouchStart:()=>A(b),onTouchEnd:E,onClick:()=>y(-1),className:`\r
                        w-10 h-10 rounded-full \r
                        bg-gradient-to-br from-gray-700 to-black \r
                        border-2 border-gray-400 \r
                        text-white text-xl \r
                        flex items-center justify-center \r
                        shadow-[0_4px_8px_rgba(0,0,0,0.5)] \r
                        hover:shadow-[0_0_12px_rgba(255,255,255,0.6)] \r
                        hover:border-white \r
                        transition duration-200\r
                        focus:outline-none focus-visible:outline-white`,disabled:m,children:"-"}),w.jsx("input",{type:"number",value:p,onChange:D=>f(Number(D.target.value)),className:`\r
                        w-24 text-center text-white text-xl\r
                        bg-gray-800 rounded-md\r
                        border-none\r
                        focus:outline-none focus:ring-0\r
                        [appearance:textfield]\r
                        [&::-webkit-inner-spin-button]:appearance-none\r
                        [&::-webkit-outer-spin-button]:appearance-none\r
                        shadow\r
                    `,disabled:m}),w.jsx("button",{onMouseDown:()=>A(v),onMouseUp:E,onMouseLeave:E,onTouchStart:()=>A(v),onTouchEnd:E,onClick:()=>y(1),className:`\r
                        w-10 h-10 rounded-full \r
                        bg-gradient-to-br from-gray-700 to-black \r
                        border-2 border-gray-400 \r
                        text-white text-xl \r
                        flex items-center justify-center \r
                        shadow-[0_4px_8px_rgba(0,0,0,0.5)] \r
                        hover:shadow-[0_0_12px_rgba(255,255,255,0.6)] \r
                        hover:border-white \r
                        transition duration-200\r
                        focus:outline-none focus-visible:outline-white`,disabled:m,children:"＋"}),w.jsx("button",{onClick:x,className:`\r
                        w-10 h-10 rounded-full \r
                        bg-gradient-to-br from-gray-700 to-black \r
                        border-2 border-gray-400 \r
                        text-white text-xl \r
                        flex items-center justify-center \r
                        shadow-[0_4px_8px_rgba(0,0,0,0.5)] \r
                        hover:shadow-[0_0_12px_rgba(255,255,255,0.6)] \r
                        hover:border-white \r
                        transition duration-200\r
                        focus:outline-none focus-visible:outline-white`,disabled:m,children:"TAP"})]}),w.jsx(dw,{})]})},mw=({partIndex:l})=>{const{rhythmUnits:n,currentRhythmSteps:i,displayMode:a,rhythmVolumes:o,setRhythmVolumes:u,isPlaying:p}=Gs(),{m:f}=n[l],m=i[l],[d,g]=ut.useState(null),v=o[l]||[],b=D=>{if(d===null)return;const M=parseFloat(D.target.value),U=[...o];U[l]=[...U[l]],U[l][d]=M,u(U)},y=230,S=24,x=6,A=Math.min(y/f,S*1.5);if(a==="rotary"){const R=100-S/2-10,k=(360/f*m-90)*(Math.PI/180),Q=R*Math.cos(k),F=R*Math.sin(k);return w.jsxs("div",{className:"flex flex-col items-center w-full h-full overflow-hidden",children:[w.jsxs("svg",{width:200,height:200,viewBox:"0 0 200 200",children:[w.jsx("circle",{cx:100,cy:100,r:R,stroke:"gray",strokeWidth:1,fill:"none"}),Array.from({length:f},(Z,X)=>{const nt=(360/f*X-90)*(Math.PI/180),et=100+R*Math.cos(nt),it=100+R*Math.sin(nt),j=d===X,tt=v[X]??1,st=j?"yellow":`rgba(255,255,255,${tt})`;return w.jsx("circle",{cx:et,cy:it,r:S/2,fill:st,onClick:p?void 0:()=>g(X===d?null:X),style:{cursor:"pointer"}},X)}),w.jsx("line",{x1:100,y1:100,x2:100+Q,y2:100+F,stroke:"red",strokeWidth:2})]}),d!==null&&w.jsxs("div",{className:"flex flex-col items-center gap-2 mt-2",children:[w.jsx("select",{value:d,onChange:Z=>g(parseInt(Z.target.value)),className:"mb-1 px-2 py-1 bg-gray-800 text-white rounded border border-gray-500",children:Array.from({length:f},(Z,X)=>w.jsxs("option",{value:X,children:["Step ",X+1]},X))}),w.jsx("input",{type:"range",min:0,max:1,step:.01,value:o[l][d],onChange:b,className:"w-32 accent-blue-400"}),w.jsxs("select",{value:"",onChange:Z=>{const X=parseFloat(Z.target.value);if(d===null)return;const nt=[...o];nt[l]=[...nt[l]],nt[l][d]=X,u(nt)},className:"mt-2 px-2 py-1 bg-gray-800 text-white rounded border border-gray-500",children:[w.jsx("option",{value:"",disabled:!0,children:"プリセット"}),w.jsx("option",{value:1,children:"f"}),w.jsx("option",{value:.75,children:"mf"}),w.jsx("option",{value:.5,children:"p"}),w.jsx("option",{value:.25,children:"pp"}),w.jsx("option",{value:0,children:"×"})]})]})]})}const E=Array.from({length:f},(D,M)=>{const U=m===M,C=d===M,R=v[M]??1,V=Math.max(x,S),Q={width:V,height:V,backgroundColor:C?"yellow":U?"rgb(239,68,68)":`rgba(255, 255, 255, ${R})`,borderRadius:"9999px",position:"absolute",transition:"all 0.1s ease",cursor:"pointer"};if(a==="circle"){const X=100-V/2-10,et=(360/f*M-90)*Math.PI/180,it=X*Math.cos(et),j=X*Math.sin(et);return w.jsx("div",{style:{...Q,left:"50%",top:"50%",transform:`translate(${it}px, ${j}px) translate(-50%, -50%)`},onClick:p?void 0:()=>g(M===d?null:M)},M)}if(a==="bar"){const F=M*A;return w.jsx("div",{style:{...Q,left:`${F}px`,top:"50%",transform:"translateY(-50%)"},onClick:p?void 0:()=>g(M===d?null:M)},M)}if(a==="wave"){const F=M*A,Z=15*Math.sin(M/f*2*Math.PI);return w.jsx("div",{style:{...Q,left:`${F}px`,top:`calc(50% + ${Z}px)`},onClick:p?void 0:()=>g(M===d?null:M)},M)}return null});return w.jsxs("div",{className:"flex flex-col items-center w-full h-full overflow-hidden",children:[w.jsx("div",{className:"relative flex-1 w-full flex items-center justify-center",style:{width:a==="circle"?"100%":`${A*f}px`},children:E}),!p&&d!==null&&w.jsxs("div",{className:"flex flex-col items-center gap-2 mt-2",children:[w.jsx("select",{value:d,onChange:D=>g(parseInt(D.target.value)),className:"mb-1 px-2 py-1 bg-gray-800 text-white rounded border border-gray-500",children:Array.from({length:f},(D,M)=>w.jsxs("option",{value:M,children:["Step ",M+1]},M))}),w.jsx("input",{type:"range",min:0,max:1,step:.01,value:o[l][d],onChange:b,className:"w-32 accent-blue-400"}),w.jsxs("select",{value:"",onChange:D=>{const M=parseFloat(D.target.value);if(d===null)return;const U=[...o];U[l]=[...U[l]],U[l][d]=M,u(U)},className:"mt-2 px-2 py-1 bg-gray-800 text-white rounded border border-gray-500",children:[w.jsx("option",{value:"",disabled:!0,children:"プリセット"}),w.jsx("option",{value:1,children:"f"}),w.jsx("option",{value:.75,children:"mf"}),w.jsx("option",{value:.5,children:"p"}),w.jsx("option",{value:.25,children:"pp"}),w.jsx("option",{value:0,children:"×"})]})]})]})},gw=({partIndex:l})=>{const{rhythmUnits:n,setRhythmUnits:i,isPlaying:a}=Gs(),o=n[l],u=(p,f)=>{const m=[...n];m[l]={...o,[p]:f},i(m)};return w.jsxs("div",{className:"flex gap-2 text-sm text-white items-center",children:[w.jsx("input",{type:"number",min:1,max:8,value:o.n,onChange:p=>u("n",parseInt(p.target.value)),disabled:a,className:"w-12 bg-gray-700 rounded px-1 text-center"}),w.jsx("span",{children:"拍"}),w.jsx("input",{type:"number",min:1,max:32,value:o.m,onChange:p=>u("m",parseInt(p.target.value)),disabled:a,className:"w-12 bg-gray-700 rounded px-1 text-center"}),w.jsx("span",{children:"連"})]})},_w=({label:l,index:n})=>{const{displayMode:i,setDisplayMode:a,muteStates:o,setMuteStates:u,partSounds:p,setPartSounds:f,isPlaying:m}=Gs(),d=()=>{const v=[...o];v[n]=!v[n],u(v)},g=()=>{const v=["circle","bar","wave","rotary"],b=v[(v.indexOf(i)+1)%v.length];a(b)};return w.jsxs("div",{className:`gap-0 w-full h-full bg-gray-800 text-white rounded-md ${m?"p-2":"p-4"} flex flex-col items-center justify-between shadow`,children:[w.jsx("div",{className:"mt-4 flex flex-row items-center",disabled:m,children:w.jsx(gw,{partIndex:n})}),w.jsx("div",{className:"mt-4 flex flex-row items-center",children:w.jsxs("select",{value:p[n],onChange:v=>{const b=[...p];b[n]=v.target.value,f(b)},className:"bg-gray-700 text-white rounded px-2 py-1 border border-gray-500 mb-2",disabled:m,children:[w.jsx("option",{value:"kick",children:"Kick"}),w.jsx("option",{value:"kick_sub",children:"Kick Sub"}),w.jsx("option",{value:"snare",children:"Snare"}),w.jsx("option",{value:"snare_ghost",children:"Snare Ghost"}),w.jsx("option",{value:"snare_rim",children:"Snare Rim"}),w.jsx("option",{value:"tom_high1",children:"Tom High 1"}),w.jsx("option",{value:"tom_high2",children:"Tom High 2"}),w.jsx("option",{value:"tom_mid1",children:"Tom Mid 1"}),w.jsx("option",{value:"tom_mid2",children:"Tom Mid 2"}),w.jsx("option",{value:"tom_low1",children:"Tom Low 1"}),w.jsx("option",{value:"tom_low2",children:"Tom Low 2"}),w.jsx("option",{value:"hihat_closed",children:"Hi-Hat Closed"}),w.jsx("option",{value:"hihat_open",children:"Hi-Hat Open"}),w.jsx("option",{value:"hihat_pedal",children:"Hi-Hat Pedal"}),w.jsx("option",{value:"crash1",children:"Crash 1"}),w.jsx("option",{value:"crash2",children:"Crash 2"}),w.jsx("option",{value:"ride_bell",children:"Ride Bell"}),w.jsx("option",{value:"ride_crash",children:"Ride Crash"}),w.jsx("option",{value:"ride_tip",children:"Ride Tip"}),w.jsx("option",{value:"china",children:"China"}),w.jsx("option",{value:"splash",children:"Splash"}),w.jsx("option",{value:"bell",children:"Bell"}),w.jsx("option",{value:"click",children:"Click"}),w.jsx("option",{value:"click_high",children:"Click High"})]})}),w.jsx("div",{className:"w-full flex items-center justify-center overflow-hidden",style:{minHeight:"200px",flex:1},children:w.jsx(mw,{partIndex:n})}),w.jsxs("div",{className:"mt-4 flex flex-row items-center gap-4",children:[w.jsx("button",{onClick:d,className:"w-10 h-10 rounded-full bg-gradient-to-br from-gray-700 to-black border-2 border-gray-400 text-white text-xl flex items-center justify-center shadow hover:shadow-[0_0_12px_rgba(255,255,255,0.6)] hover:border-white transition duration-200 focus:outline-none",disabled:m,children:o[n]?"🔇":"🔈"}),w.jsx("button",{onClick:g,className:"w-24 h-10 rounded-full bg-gradient-to-br from-gray-700 to-black border-2 border-gray-400 text-white text-sm font-bold flex items-center justify-center shadow hover:shadow-[0_0_12px_rgba(255,255,255,0.6)] hover:border-white transition duration-200 focus:outline-none",children:i})]})]})},vw=()=>{const{numerator:l,denominator:n,noteValue:i,bpm:a,setBpm:o,currentAccentStep:u,isPlaying:p,setIsPlaying:f,accentLevels:m,setCurrentAccentStep:d,muteStates:g,rhythmUnits:v,rhythmVolumes:b,setCurrentRhythmSteps:y,partSounds:S}=Gs(),x=250,A=25,E=x/2-A/2-5,D=x/2,M=x/2,[U,C]=ut.useState(!1),R=ut.useRef(null),V=(it,j)=>Math.atan2(j-M,it-D),k=it=>{C(!0);const j=it.currentTarget.getBoundingClientRect(),I=it.clientX-j.left,tt=it.clientY-j.top;R.current=V(I,tt)},Q=it=>{if(!U||R.current===null)return;const j=it.currentTarget.getBoundingClientRect(),I=it.clientX-j.left,tt=it.clientY-j.top,st=V(I,tt),N=st-R.current;N>.1?(o($=>Math.min(300,$+1)),R.current=st):N<-.1&&(o($=>Math.max(30,$-1)),R.current=st)},F=()=>{C(!1),R.current=null},Z=async()=>{await Ux(),p?(uw(),d(0)):cw(a,i,m,d,g,4,l,v,y,b,n,S),f(!p)},X=(360/l*u-90)*(Math.PI/180),nt=E*Math.cos(X),et=E*Math.sin(X);return w.jsx("div",{className:"w-full flex items-center justify-center",children:w.jsxs("svg",{width:x,height:x,viewBox:`0 0 ${x} ${x}`,onPointerDown:k,onPointerMove:Q,onPointerUp:F,onPointerLeave:F,onClick:Z,style:{touchAction:"none",cursor:"pointer"},children:[w.jsx("circle",{cx:D,cy:M,r:E,stroke:"gray",strokeWidth:1,fill:"none"}),w.jsx("circle",{cx:D,cy:M,r:E,fill:p?"#4b5563":"#3f3f46"}),Array.from({length:l}).map((it,j)=>{const I=(360/l*j-90)*(Math.PI/180),tt=D+E*Math.cos(I),st=M+E*Math.sin(I),N=u===j;return w.jsxs("g",{children:[w.jsx("circle",{cx:tt,cy:st,r:A/2,fill:N?"rgb(239, 68, 68)":"white"}),w.jsx("text",{x:tt,y:st,textAnchor:"middle",dominantBaseline:"middle",fontSize:"16",fill:N?"white":"black",style:{userSelect:"none"},children:j+1})]},j)}),w.jsx("line",{x1:D,y1:M,x2:D+nt,y2:M+et,stroke:"red",strokeWidth:2}),w.jsx("foreignObject",{x:D-35,y:M-60,width:70,height:120,children:w.jsxs("div",{xmlns:"http://www.w3.org/1999/xhtml",className:"flex flex-col items-center justify-center text-white font-bold leading-tight text-xl select-none",children:[w.jsx("span",{className:"text-2xl",children:l}),w.jsx("span",{className:"w-full border-t border-white my-1"}),w.jsx("span",{className:"text-2xl",children:n}),w.jsxs("span",{className:"mt-2 text-xl",children:[i==="quarter"?"♩":"♪"," ",a]})]})})]})})},yw=["右手","左手","右足","左足"],bw=()=>{const[l,n]=ut.useState(1),{isPlaying:i}=Gs(),a=()=>{l<4&&n(l+1)},o=()=>{l>1&&n(l-1)},u=l===1?"grid-cols-1 grid-rows-1":l===2?"grid-cols-2 grid-rows-1":"grid-cols-2 grid-rows-2";return w.jsxs("div",{className:"flex flex-col items-center gap-15",children:[w.jsx("div",{className:"grid grid-cols-1 grid-rows-1 gap-4 w-[500px] h-[200px]",children:w.jsx("div",{className:"w-full h-full",children:w.jsx(vw,{})})}),!i&&w.jsxs("div",{className:"flex gap-4",children:[w.jsx("button",{onClick:o,disabled:l<=1,className:`w-10 h-10 rounded-full text-white text-xl flex items-center justify-center 
                            transition duration-200 focus:outline-none 
                            border-2 border-gray-400 bg-gradient-to-br from-gray-700 to-black
                            ${l<=1?"bg-gray-500":"bg-blue-600 hover:bg-blue-700"}`,children:"−"}),w.jsx("button",{onClick:a,disabled:l>=4,className:`w-10 h-10 rounded-full text-white text-xl flex items-center justify-center 
                            transition duration-200 focus:outline-none 
                            border-2 border-gray-400 bg-gradient-to-br from-gray-700 to-black
                            ${l>=4?"bg-gray-500":"bg-blue-600 hover:bg-blue-700"}`,children:"＋"})]}),w.jsx("div",{className:`grid ${u} w-[500px] ${i?"h-auto":"h-[1000px]"}`,children:Array.from({length:l}).map((p,f)=>w.jsx("div",{className:"w-full h-full",children:w.jsx(_w,{label:yw[f],index:f},f)},f))})]})},B_=ut.createContext(null),Bn=()=>{const l=ut.useContext(B_);if(!l)throw new Error("TrainingContext must be used within TrainingProvider");return l},Sw=({children:l})=>{const[n,i]=ut.useState([]),[a,o]=ut.useState([]),[u,p]=ut.useState(0),[f,m]=ut.useState(0),[d,g]=ut.useState(!1),[v,b]=ut.useState("リズム名"),[y,S]=ut.useState({loopCountPerStep:2,tempoStep:5,minTempo:60,maxTempo:180,mode:"endless",includeCountIn:!1}),[x,A]=ut.useState("base"),[E,D]=ut.useState("normal"),[M,U]=ut.useState([]),[C,R]=ut.useState("endless"),[V,k]=ut.useState(5),[Q,F]=ut.useState(60),[Z,X]=ut.useState(180),[nt,et]=ut.useState(1),[it,j]=ut.useState(1),[I,tt]=ut.useState(!1),[st,N]=ut.useState(null),[H,$]=ut.useState(null),[J,ct]=ut.useState(null),[lt,ot]=ut.useState([]);return w.jsx(B_.Provider,{value:{sections:n,setSections:i,parts:a,setParts:o,currentSectionIndex:u,setCurrentSectionIndex:p,currentBeatIndex:f,setCurrentBeatIndex:m,isPlaying:d,setIsPlaying:g,rhythmName:v,setRhythmName:b,tempoSetting:y,setTempoSetting:S,currentPage:x,setCurrentPage:A,accentType:E,setAccentType:D,accentList:M,setAccentList:U,loopMode:C,setLoopMode:R,tempoStep:V,setTempoStep:k,minTempo:Q,setMinTempo:F,maxTempo:Z,setMaxTempo:X,loopChangeCount:nt,setLoopChangeCount:et,loopRepeatLimit:it,setLoopRepeatLimit:j,countIn:I,setCountIn:tt,soundSource:st,setSoundSource:N,builtClickTracks:H,setBuiltClickTracks:$,builtRhythmTracks:J,setBuiltRhythmTracks:ct,convertedSounds:lt,setConvertedSounds:ot},children:l})},L_=()=>{const{mode:l,setMode:n}=Eg(),{isPlaying:i}=Gs(),{isPlaying:a}=Bn(),o=i||a;return w.jsxs("div",{className:"flex justify-center gap-4 p-4 bg-gray-900 border-t border-gray-700",children:[w.jsx("button",{onClick:()=>n("rhythm"),disabled:o,className:`px-4 py-2 rounded-full focus:outline-noneto-black border-2 border-gray-400 text-white text-xl flex items-center justify-center shadow hover:shadow-[0_0_12px_rgba(255,255,255,0.6)] hover:border-white transition duration-200 bg-gradient-to-br ${l==="rhythm"?"from-green-600":"from-gray-700"} ${o?"opacity-50 cursor-not-allowed":""}`,children:"リズムモード🥁"}),w.jsx("button",{onClick:()=>n("training"),disabled:o,className:`px-4 py-2 rounded-full focus:outline-noneto-black border-2 border-gray-400 text-white text-xl flex items-center justify-center shadow hover:shadow-[0_0_12px_rgba(255,255,255,0.6)] hover:border-white transition duration-200 bg-gradient-to-br ${l==="training"?"from-blue-600":"from-gray-700"} ${o?"opacity-50 cursor-not-allowed":""}`,children:"トレーニングモード🏋️"})]})},Tw=()=>(ut.useEffect(()=>{aw(4)},[]),w.jsxs("div",{className:"flex flex-col gap-8 p-6 bg-black text-white min-h-screen items-center",children:[w.jsx(pw,{}),w.jsx(bw,{}),w.jsx(L_,{})]})),xw=()=>{const{rhythmName:l,setRhythmName:n}=Bn();return w.jsxs("div",{children:[w.jsx("label",{className:"block text-white mb-1",children:"リズム名"}),w.jsx("input",{type:"text",value:l,onChange:i=>n(i.target.value),className:"w-full px-3 py-2 rounded bg-gray-800 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"リズム名を入力してください"})]})};function ww(l,n,i,a){const o=n[l],u=o.numerator,p=o.denominator,f=o.bpm,m=o.name||"無し",d=n.slice(0,l).reduce((C,R)=>C+R.numerator,0),g=d+u;for(const C of i)for(let R=d;R<g;R++){const V=C.beats[R];if(!(V!=null&&V.isStart)&&((V==null?void 0:V.n)??1)>1){alert("この小節は他の小節と連結しているため、エクスポートできません。");return}}const v=[o],b=i.map(C=>({...C,beats:C.beats.slice(d,g)})),y=a.slice(d,g),x=JSON.stringify({sections:v,parts:b,accentList:y},null,2),A=new Blob([x],{type:"application/json"}),E=m.replace(/[\\/:*?"<>|]/g,"_"),D=`${u}_${p}_${f}_${E}.json`,M=URL.createObjectURL(A),U=document.createElement("a");U.href=M,U.download=D,U.click(),URL.revokeObjectURL(M)}function Cg(l,n,i,a,o,u){const p=f=>{try{const[m]=f.sections,d=f.parts,g=f.accentList,v=n.slice(0,l).reduce((E,D)=>E+D.numerator,0),b=v+n[l].numerator;for(const E of i)for(let D=v;D<b;D++){const M=E.beats[D];if(!(M!=null&&M.isStart)&&((M==null?void 0:M.n)??1)>1){alert("インポート先の小節は他の小節と連結しているため、インポートできません。");return}}const y=n[l];if(y.numerator!==m.numerator||y.denominator!==m.denominator){alert("インポート元とインポート先の拍子が一致しないため、インポートできません。");return}const S=[...n];S[l]={...y,...m};const x=i.map((E,D)=>{var C;const M=[...E.beats],U=((C=d[D])==null?void 0:C.beats)??[];return M.splice(v,m.numerator,...U),{...E,beats:M}}),A=[...a];A.splice(v,m.numerator,...g),o(S,x,A)}catch(m){console.error("インポート失敗:",m),alert("JSONデータが正しくありません。")}};if(u)p(u);else{const f=document.createElement("input");f.type="file",f.accept=".json",f.onchange=()=>{var g;const m=(g=f.files)==null?void 0:g[0];if(!m)return;const d=new FileReader;d.onload=()=>{try{const v=d.result,b=JSON.parse(v);p(b)}catch(v){console.error("インポート失敗:",v),alert("JSONファイルが正しくありません。")}},d.readAsText(m)},f.click()}}const Aw=[{label:"選択してください",value:""},{label:"テスト用",value:"4_4_120.json"}],Cw=()=>{const{sections:l,setSections:n,parts:i,setParts:a,accentList:o,setAccentList:u}=Bn(),[p,f]=ut.useState(null),m=(b,y,S)=>{if(y==="numerator"){const A=l[b].numerator,E=parseInt(S);if(E===A)return;const D=l.slice(0,b).reduce((R,V)=>R+V.numerator,0);if(i.some(R=>{for(let V=0;V<A;V++){const k=R.beats[D+V];if(k!=null&&k.n&&k.n>1&&k.isStart){const Q=D+k.n-1,F=D+E-1;if(Q>F)return!0}}return!1})){alert("この小節には連結されたリズムがあります。拍数を変更するには先にリズム設定画面で連結を解除してください。");return}const U=E-A,C=i.map(R=>{const V=[...R.beats];if(U>0){const k=Array.from({length:U},()=>({isStart:!0,n:1,m:1,sound:"kick",volumes:[0]}));V.splice(D+A,0,...k)}else V.splice(D+E,-U);return{...R,beats:V}});a(C)}const x=[...l];x[b]={...x[b],[y]:S},n(x)},d=()=>{const y=l[l.length-1]??{numerator:4,denominator:4,noteValue:"quarter",bpm:120,loopCount:1,parts:[]},S=[...l,{...y}];n(S)},g=b=>{const S=l[b].numerator,x=[...l];x.splice(b,1),n(x);const A=l.slice(0,b).reduce((D,M)=>D+M.numerator,0),E=i.map(D=>{const M=[...D.beats];return M.splice(A,S),{...D,beats:M}});a(E)},v=b=>{const y=l[b],S=l.slice(0,b).reduce((M,U)=>M+U.numerator,0),x=S+y.numerator;for(const M of i)for(let U=S;U<x;U++){const C=M.beats[U];if(C!=null&&C.isStart&&C.n&&C.n>1&&U+C.n>x){alert("この小節には他の小節にまたがるリズムがあるため、複製できません！");return}}const A={...y,name:y.name?`${y.name}_copy`:void 0,description:y.description||"",parts:JSON.parse(JSON.stringify(y.parts))},E=[...l,A];n(E);const D=i.map(M=>{const U=[...M.beats],R=U.slice(S,x).map(V=>V?{...V}:void 0);return{...M,beats:[...U,...R]}});a(D)};return w.jsxs("div",{className:"space-y-4",children:[p&&w.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 bg-green-600 text-white px-4 py-2 rounded shadow-lg z-50",children:p}),w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx("h2",{className:"text-white text-lg font-semibold",children:"小節設定"}),w.jsx("button",{onClick:d,className:"w-25 h-10 rounded-full bg-gradient-to-br from-gray-700 to-black border-2 border-gray-400 text-white text-xl flex items-center justify-center shadow hover:shadow-[0_0_12px_rgba(255,255,255,0.6)] hover:border-white transition duration-200 focus:outline-none",children:"＋追加"})]}),l.map((b,y)=>w.jsxs("div",{className:"bg-gray-800 p-4 rounded shadow space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"text-sm text-gray-300 font-semibold block mb-1",children:"プリセット読み込み"}),w.jsx("select",{className:"w-full px-2 py-1 rounded bg-gray-900 text-white border border-gray-600",onChange:async S=>{const x=S.target.value;if(!x)return;const E=await(await fetch(`/metal-metronome/json/sections/${x}`)).json();Cg(y,l,i,o,(D,M,U)=>{n(D),a(M),u(U),f("✅ プリセットを読み込みました"),setTimeout(()=>f(null),3e3)},E)},children:Aw.map(S=>w.jsx("option",{value:S.value,children:S.label},S.value))})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-sm text-gray-300 font-semibold block mb-1",children:"小節名"}),w.jsx("input",{type:"text",value:b.name||"",onChange:S=>{const x=[...l];x[y].name=S.target.value,n(x)},placeholder:`小節${y+1}（任意）`,className:"w-full px-3 py-2 rounded bg-gray-900 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 transition"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-sm text-gray-300 font-semibold block mb-1",children:"小節の説明"}),w.jsx("textarea",{value:b.description||"",onChange:S=>{const x=[...l];x[y].description=S.target.value,n(x)},placeholder:"この小節の説明（任意）",className:"w-full px-3 py-2 rounded bg-gray-900 text-white border border-gray-600 resize-y min-h-[60px] focus:outline-none focus:ring-2 focus:ring-blue-500 transition"})]}),w.jsxs("div",{className:"flex flex-wrap gap-4",children:[w.jsxs("div",{className:"flex gap-2 items-center",children:[w.jsx("label",{className:"text-white",children:"拍子"}),w.jsx("input",{type:"number",value:b.numerator,onChange:S=>m(y,"numerator",parseInt(S.target.value)),className:"w-16 px-2 py-1 rounded bg-gray-700 text-white border border-gray-600"}),"/",w.jsx("select",{value:b.denominator,onChange:S=>m(y,"denominator",parseInt(S.target.value)),className:"px-2 py-1 rounded bg-gray-700 text-white border border-gray-600",children:[1,2,4,8,16].map(S=>w.jsx("option",{value:S,children:S},S))})]}),w.jsxs("div",{className:"flex gap-2 items-center",children:[w.jsx("label",{className:"text-white",children:"音価"}),w.jsxs("select",{value:b.noteValue,onChange:S=>m(y,"noteValue",S.target.value),className:"px-2 py-1 rounded bg-gray-700 text-white border border-gray-600",children:[w.jsx("option",{value:"quarter",children:"♩"}),w.jsx("option",{value:"eighth",children:"♪"})]})]}),w.jsxs("div",{className:"flex gap-2 items-center",children:[w.jsx("label",{className:"text-white",children:"BPM"}),w.jsx("input",{type:"number",value:b.bpm,onChange:S=>m(y,"bpm",parseInt(S.target.value)),className:"w-24 px-2 py-1 rounded bg-gray-700 text-white border border-gray-600"})]})]}),w.jsxs("div",{className:"flex flex-wrap gap-2 justify-end mt-2",children:[w.jsx("button",{onClick:()=>ww(y,l,i,o),className:"px-3 py-1 text-sm bg-gradient-to-br from-blue-500 to-black text-white rounded shadow hover:shadow-lg",children:"📤 エクスポート"}),w.jsx("button",{onClick:()=>Cg(y,l,i,o,(S,x,A)=>{n(S),a(x),u(A)}),className:"px-3 py-1 text-sm bg-gradient-to-br from-green-500 to-black text-white rounded shadow hover:shadow-lg",children:"📥 インポート"}),w.jsx("button",{onClick:()=>v(y),className:"px-3 py-1 text-sm bg-gradient-to-br from-purple-600 to-black text-white rounded shadow hover:shadow-lg",children:"📄 複製"}),w.jsx("button",{onClick:()=>g(y),className:"px-3 py-1 text-sm bg-gradient-to-br from-red-600 to-black text-white rounded shadow hover:shadow-lg",children:"🗑️ 削除"})]})]},y))]})},Nw=()=>{const{setCurrentPage:l,sections:n,setSections:i}=Bn(),a=()=>{l("part")},o=()=>{n.length===0&&i([]),l("base")};return w.jsxs("div",{className:"flex flex-col gap-4 p-4 bg-gray-900 rounded-lg shadow-md w-full max-w-md",children:[w.jsx("h2",{className:"text-white text-xl font-bold",children:"小節設定"}),w.jsx("p",{className:"text-gray-300 text-sm",children:"拍子、音価、BPMなどを小節ごとに設定します。"}),w.jsxs("div",{className:"flex justify-between mt-4",children:[w.jsx("button",{onClick:o,className:"bg-gradient-to-br from-gray-600 to-black hover:bg-gray-700 text-white px-4 py-2 rounded",children:"← 戻る"}),w.jsx("button",{onClick:a,disabled:n.length===0,className:"bg-gradient-to-br from-blue-600 to-black hover:bg-blue-700 text-white px-4 py-2 rounded disabled:opacity-50",children:"パート設定 →"})]}),w.jsx(Cw,{}),w.jsxs("div",{className:"flex justify-between mt-4",children:[w.jsx("button",{onClick:o,className:"bg-gradient-to-br from-gray-600 to-black hover:bg-gray-700 text-white px-4 py-2 rounded",children:"← 戻る"}),w.jsx("button",{onClick:a,disabled:n.length===0,className:"bg-gradient-to-br from-blue-600 to-black hover:bg-blue-700 text-white px-4 py-2 rounded disabled:opacity-50",children:"パート設定 →"})]})]})},Ew=({sectionIndex:l,partIndex:n,beatIndex:i,volumes:a,onVolumesChange:o,m:u})=>{const{sections:p,parts:f,isPlaying:m}=Bn(),[d,g]=ut.useState(null),v=24,b=y=>{if(d===null)return;const S=[...a];S[d]=parseFloat(y.target.value),o(S)};{const E=100-v/2-10;return w.jsxs("div",{className:"flex flex-col items-center w-full h-full overflow-hidden",children:[w.jsxs("svg",{width:200,height:200,viewBox:"0 0 200 200",children:[w.jsx("circle",{cx:100,cy:100,r:E,stroke:"gray",strokeWidth:1,fill:"none"}),Array.from({length:u},(D,M)=>{const U=(360/u*M-90)*(Math.PI/180),C=100+E*Math.cos(U),R=100+E*Math.sin(U),V=d===M,k=a[M]??1,Q=V?"yellow":`rgba(255,255,255,${k})`;return w.jsx("circle",{cx:C,cy:R,r:v/2,fill:Q,onClick:m?void 0:()=>g(M===d?null:M),style:{cursor:"pointer"}},M)})]}),d!==null&&w.jsxs("div",{className:"flex flex-col items-center gap-2 mt-2",children:[w.jsx("select",{value:d,onChange:D=>g(parseInt(D.target.value)),className:"mb-1 px-2 py-1 bg-gray-800 text-white rounded border border-gray-500",children:Array.from({length:u},(D,M)=>w.jsxs("option",{value:M,children:["Step ",M+1]},M))}),w.jsx("input",{type:"range",min:0,max:1,step:.01,value:a[d]??1,onChange:b,className:"w-32 accent-blue-400"}),w.jsxs("select",{value:"",onChange:D=>{const M=parseFloat(D.target.value);if(d===null)return;const U=[...a];U[d]=M,o(U)},className:"mt-2 px-2 py-1 bg-gray-800 text-white rounded border border-gray-500",children:[w.jsx("option",{value:"",disabled:!0,children:"プリセット"}),w.jsx("option",{value:1,children:"f"}),w.jsx("option",{value:.75,children:"mf"}),w.jsx("option",{value:.5,children:"p"}),w.jsx("option",{value:.25,children:"pp"}),w.jsx("option",{value:0,children:"×"})]})]})]})}},Ow={kick:"sounds/kick.wav",kick_sub:"sounds/kick_sub.wav",snare:"sounds/snare.wav",snare_ghost:"sounds/snare_ghost.wav",snare_rim:"sounds/snare_rim.wav",tom_high1:"sounds/tom_high1.wav",tom_high2:"sounds/tom_high2.wav",tom_mid1:"sounds/tom_mid1.wav",tom_mid2:"sounds/tom_mid2.wav",tom_low1:"sounds/tom_low1.wav",tom_low2:"sounds/tom_low2.wav",hihat_closed:"sounds/hihat_closed.wav",hihat_open:"sounds/hihat_open.wav",hihat_pedal:"sounds/hihat_pedal.wav",crash1:"sounds/crash1.wav",crash2:"sounds/crash2.wav",ride_bell:"sounds/ride_bell.wav",ride_crash:"sounds/ride_crash.wav",ride_tip:"sounds/ride_tip.wav",china:"sounds/china.wav",splash:"sounds/splash.wav",bell:"sounds/bell.wav",click:"sounds/click.wav",click_high:"sounds/click_high.wav"};function Mw({bpm:l,noteValue:n,denominator:i,n:a,m:o,sound:u,volumes:p}){Dw([[[{bpm:l,n:a,sound:u,volume:p}]]])}const Dw=async(l,n)=>{const i=l[0].length,a=nf();for(let u=0;u<i;u++){let p=a;for(const f of l[0][u])await kw(f,u+1,p),p+=60/f.bpm*f.n}const o=Math.max(...l[0].map(u=>u.reduce((p,f)=>p+60/f.bpm*f.n,0)));nn.scheduleOnce(()=>{nn.stop(),nn.cancel()},a+o),nn.start()},kw=async(l,n,i)=>{const a=Ow[l.sound];if(!a)return;const o=new as({url:a}).toDestination();await o.load(a);const u=l.n,p=60/l.bpm,f=u*p,m=Array.isArray(l.volume)?l.volume.length:1,d=f/m;for(let g=0;g<m;g++){const v=Array.isArray(l.volume)?l.volume[g]:l.volume??1,b=Ar(v),y=new as(o.buffer).toDestination();y.volume.value=b;const S=i+d*g;y.start(S),y.stop(S+1),nn.scheduleOnce(()=>y.dispose(),S+2)}},Rw=({sectionIndex:l,beatIndex:n,partIndex:i,onClose:a})=>{var M,U,C,R,V;const{sections:o,parts:u,setParts:p}=Bn(),f=o.slice(0,l).reduce((k,Q)=>k+Q.numerator,0)+n,m=(U=(M=u[i])==null?void 0:M.beats)==null?void 0:U[f],[d,g]=ut.useState((m==null?void 0:m.n)??1),[v,b]=ut.useState((m==null?void 0:m.m)??1),[y,S]=ut.useState((m==null?void 0:m.sound)??"kick"),[x,A]=ut.useState((m==null?void 0:m.volumes)??Array(v).fill(1));ut.useEffect(()=>{A(k=>v>k.length?[...k,...Array(v-k.length).fill(1)]:k.slice(0,v))},[v]);const E=()=>{var H,$;const k=[...u],Q=[...k[i].beats];let F=0;for(let J=0;J<l;J++)F+=o[J].numerator;F+=n;let Z=l;const X=o[Z].bpm,nt=o[Z].noteValue,et=o[Z].denominator,it=o[Z].numerator-n;let j=d-it,I=Z;for(const[J,ct]of o.entries())if(!(Z>=J)&&(j-=ct.numerator,I=J,j<0))break;if(j>0){alert("指定したn拍が小節を跨いでも入りきりません！");return}for(let J=Z;J<=I;J++){if(o[J].bpm!==X){alert("跨る小節のBPMが一致していません！");return}if(o[J].noteValue!==nt){alert("跨る小節の音価が一致していません！");return}if(o[J].denominator!==et){alert("跨る小節の拍子（分母）が一致していません！");return}}const tt=($=(H=u[i])==null?void 0:H.beats)==null?void 0:$[F],st=(tt==null?void 0:tt.n)??1,N={isStart:!0,n:1,m:1,sound:"kick",volumes:[0]};for(let J=0;J<Math.max(st,d);J++)J===0?Q[F+J]={isStart:!0,n:d,m:v,sound:y,volumes:x}:Q[F+J]={...N};k[i].beats=Q,p(k),a()},D=()=>{const k=o[l].bpm,Q=o[l].noteValue,F=o[l].denominator;console.log(x),Mw({bpm:k,noteValue:Q,denominator:F,n:d,m:v,sound:y,volumes:x})};return w.jsxs("div",{className:"bg-gray-800 text-white p-4 rounded shadow-md mt-4",children:[w.jsx("h3",{className:"text-lg font-semibold mb-2",children:"リズム設定"}),w.jsxs("div",{className:"text-sm text-gray-300 mb-3",children:[w.jsxs("div",{children:[((C=o[l])==null?void 0:C.name)&&w.jsxs("div",{children:[w.jsx("span",{className:"font-bold text-white",children:`小節名：${(R=o[l])==null?void 0:R.name}`}),w.jsx("br",{})]}),"パート",i+1," の ",n+1,"拍目"]}),((V=o[l])==null?void 0:V.description)&&w.jsx("div",{className:"text-gray-400 italic",children:o[l].description})]}),w.jsxs("div",{className:"flex gap-4 items-center mb-3",children:[w.jsx("label",{children:"n拍："}),w.jsx("input",{type:"number",min:1,value:d,onChange:k=>g(parseInt(k.target.value)),className:"w-16 p-1 rounded bg-gray-700 border border-gray-600"}),w.jsx("label",{children:"m連："}),w.jsx("input",{type:"number",min:1,value:v,onChange:k=>{const Q=parseInt(k.target.value);b(Q),A(Array(Q).fill(1))},className:"w-16 p-1 rounded bg-gray-700 border border-gray-600"})]}),w.jsxs("div",{className:"mb-3",children:[w.jsx("label",{className:"block mb-1",children:"楽器:"}),w.jsx("select",{value:y,onChange:k=>S(k.target.value),className:"bg-gray-700 p-1 rounded w-full",children:["kick","kick_sub","snare","snare_ghost","snare_rim","tom_high1","tom_high2","tom_mid1","tom_mid2","tom_low1","tom_low2","hihat_closed","hihat_open","hihat_pedal","crash1","crash2","ride_bell","ride_crash","ride_tip","china","splash","bell","click","click_high"].map(k=>w.jsx("option",{value:k,children:k.replace(/_/g," ")},k))})]}),w.jsx("div",{className:"w-full flex items-center justify-center overflow-hidden",style:{minHeight:"200px"},children:w.jsx(Ew,{sectionIndex:l,partIndex:i,beatIndex:n,volumes:x,onVolumesChange:A,m:v})}),w.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[w.jsx("button",{onClick:D,className:"px-4 py-1 bg-gradient-to-br from-green-600 to-black hover:bg-green-500 rounded",children:"サンプル再生"}),w.jsx("button",{onClick:a,className:"px-4 py-1 bg-gradient-to-br from-grey-600 to-black hover:bg-gray-500 rounded",children:"キャンセル"}),w.jsx("button",{onClick:E,className:"px-4 py-1 bg-gradient-to-br from-blue-600 to-black hover:bg-blue-500 rounded",children:"設定する"})]})]})},jw=["パート1","パート2","パート3","パート4"],ao=100,zw=l=>{switch(l){case"quarter":return"♩";case"eighth":return"♪";default:return"?"}},Vw={strong:"強",normal:"中",weak:"弱",none:"無"},qw=l=>{const n=["strong","normal","weak","none"];return n[(n.indexOf(l)+1)%n.length]},Uw=()=>{const{sections:l,setCurrentPage:n,parts:i,setParts:a,accentList:o,setAccentList:u}=Bn(),p=l.reduce((d,g)=>d+g.numerator,0);ut.useEffect(()=>{o.length!==p&&u(Array(p).fill("normal"))},[l,o.length,p,u]),ut.useEffect(()=>{const d={isStart:!0,n:1,m:1,sound:"kick",volumes:[0]};let g=!1,v=[...i];i.length===0?(g=!0,v=Array.from({length:4},()=>({beats:Array.from({length:p},()=>({...d}))}))):v=i.map(b=>{const y=[...(b==null?void 0:b.beats)??[]];let S=0;for(const x of l)for(let A=0;A<x.numerator;A++)y[S]||(y[S]={...d},g=!0),S++;return{...b,beats:y}}),g&&a(v)},[l]);const[f,m]=ut.useState(null);return w.jsxs("div",{className:"flex flex-col gap-4 p-4 bg-gray-900 rounded-lg shadow-md w-full max-w-md",children:[w.jsx("h2",{className:"text-white text-xl font-bold",children:"パート設定"}),w.jsx("div",{className:"overflow-x-auto max-w-full border border-gray-800 rounded",children:w.jsxs("div",{className:"min-w-max",style:{width:`${ao*p}px`},children:[w.jsx("div",{className:"flex border-b border-gray-600 pb-2",children:w.jsx("div",{className:"flex w-full",children:l.map((d,g)=>{var v,b;return w.jsxs("div",{style:{width:`${ao*d.numerator}px`},className:"border-r-4 border-gray-700 px-1 text-white text-xs text-center",children:[((v=l[g])==null?void 0:v.name)&&w.jsxs("div",{children:["小節名: ",d.name]}),((b=l[g])==null?void 0:b.description)&&w.jsxs("div",{children:["説明: ",d.description]}),w.jsxs("div",{children:["拍子: ",d.numerator,"/",d.denominator]}),w.jsxs("div",{children:["音価: ",zw(d.noteValue)]}),w.jsxs("div",{children:["BPM: ",d.bpm]})]},g)})})}),w.jsx("div",{className:"flex border-b-2 border-gray-500 py-2",children:o.map((d,g)=>w.jsx("div",{onClick:()=>{const v=[...o];v[g]=qw(d),u(v)},style:{width:`${ao}px`},className:"h-[40px] bg-gray-800 border-l border-gray-600 flex items-center justify-center text-white text-lg hover:bg-gray-700 cursor-pointer",children:Vw[d]},g))}),jw.map((d,g)=>w.jsx("div",{className:"flex items-center border-b border-gray-700 py-2",children:w.jsx("div",{className:"flex",children:(()=>{var y,S;const v=[];let b=0;for(;b<p;){const x=(S=(y=i[g])==null?void 0:y.beats)==null?void 0:S[b];if(!(x!=null&&x.isStart)){b++;continue}const A=ao*(x.n??1),{sectionIndex:E,beatIndex:D}=(()=>{let C=b;for(let R=0;R<l.length;R++){const V=l[R].numerator;if(C<V)return{sectionIndex:R,beatIndex:C};C-=V}return{sectionIndex:0,beatIndex:0}})(),M=(f==null?void 0:f.sectionIndex)===E&&(f==null?void 0:f.beatIndex)===D&&(f==null?void 0:f.partIndex)===g,U=((x==null?void 0:x.volumes)??[]).every(C=>C===0);v.push(w.jsxs("div",{onClick:()=>m({sectionIndex:E,beatIndex:D,partIndex:g,n:(x==null?void 0:x.n)??1,m:(x==null?void 0:x.m)??1,sound:(x==null?void 0:x.sound)??"kick",volumes:(x==null?void 0:x.volumes)??[0]}),style:{width:`${A}px`,height:"80px"},className:`h-[40px] ${M?"bg-yellow-500":U?"bg-gray-700 opacity-30 border-dashed":"bg-gray-700"} border-l border-gray-600 flex items-center justify-center text-white text-xs hover:bg-gray-600 flex-col cursor-pointer`,children:[w.jsxs("div",{children:[D+1,"拍目"]}),w.jsxs("div",{className:"text-[10px]",children:[x.n,"拍",x.m,"連",w.jsx("br",{}),"(",x.sound,")"]})]},`${g}-${b}`)),b+=x.n??1}return v})()})},g))]})}),f&&w.jsx(Rw,{sectionIndex:f.sectionIndex,beatIndex:f.beatIndex,partIndex:f.partIndex,onClose:()=>m(null),n:f.n,m:f.m,sound:f.sound,volumes:f.volumes},`${f.partIndex}-${f.sectionIndex}-${f.beatIndex}`),w.jsxs("div",{className:"flex justify-between mt-6",children:[w.jsx("button",{onClick:()=>n("measure"),className:"bg-gradient-to-br from-gray-600 to-black hover:bg-gray-700 text-white px-4 py-2 rounded",children:"← 小節設定に戻る"}),w.jsx("button",{onClick:()=>n("loop"),className:"bg-gradient-to-br from-blue-600 to-black hover:bg-blue-700 text-white px-4 py-2 rounded",children:"ループ設定へ進む →"})]})]})},Bw=()=>{const{loopMode:l,setLoopMode:n,tempoStep:i,setTempoStep:a,maxTempo:o,setMaxTempo:u,minTempo:p,setMinTempo:f,loopChangeCount:m,setLoopChangeCount:d,loopRepeatLimit:g,setLoopRepeatLimit:v,countIn:b,setCountIn:y,setCurrentPage:S}=Bn();return w.jsxs("div",{className:"space-y-4 p-4 bg-gray-900 rounded-lg shadow-lg text-white",children:[w.jsx("h2",{className:"text-xl font-bold",children:"ループ設定"}),w.jsxs("div",{children:[w.jsx("label",{className:"block mb-1",children:"ループパターン"}),w.jsxs("select",{value:l,onChange:x=>n(x.target.value),className:"w-full bg-gray-800 p-2 rounded",children:[w.jsx("option",{value:"endless",children:"ひたすら繰り返す"}),w.jsx("option",{value:"accelerate",children:"上昇"}),w.jsx("option",{value:"decelerate",children:"下降"}),w.jsx("option",{value:"repeat-accel-decel",children:"繰り返し上昇"}),w.jsx("option",{value:"repeat-decel-accel",children:"繰り返し下降"})]})]}),!l.startsWith("endless")&&w.jsxs("div",{children:[w.jsx("label",{className:"block mb-1",children:"テンポの変化刻み（BPM）"}),w.jsx("input",{type:"number",value:i,onChange:x=>a(Number(x.target.value)),className:"w-full bg-gray-800 p-2 rounded"})]}),!l.startsWith("endless")&&w.jsxs("div",{className:"flex gap-4",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("label",{className:"block mb-1",children:"最小テンポ"}),w.jsx("input",{type:"number",value:p,onChange:x=>f(Number(x.target.value)),className:"w-full bg-gray-800 p-2 rounded"})]}),w.jsxs("div",{className:"flex-1",children:[w.jsx("label",{className:"block mb-1",children:"最大テンポ"}),w.jsx("input",{type:"number",value:o,onChange:x=>u(Number(x.target.value)),className:"w-full bg-gray-800 p-2 rounded"})]})]}),!l.startsWith("endless")&&w.jsxs("div",{children:[w.jsx("label",{className:"block mb-1",children:"何回繰り返しでテンポを変化させるか"}),w.jsx("input",{type:"number",value:m,onChange:x=>d(Number(x.target.value)),className:"w-full bg-gray-800 p-2 rounded"})]}),l.startsWith("repeat")&&w.jsxs("div",{children:[w.jsx("label",{className:"block mb-1",children:"ループの繰り返し回数"}),w.jsx("input",{type:"number",value:g,onChange:x=>v(Number(x.target.value)),className:"w-full bg-gray-800 p-2 rounded"})]}),l.startsWith("endless")&&w.jsxs("div",{children:[w.jsx("label",{className:"block mb-1",children:"繰り返し回数"}),w.jsx("input",{type:"number",value:g,onChange:x=>v(Number(x.target.value)),className:"w-full bg-gray-800 p-2 rounded"})]}),!l.startsWith("endless")&&w.jsxs("div",{className:"flex items-center mt-4",children:[w.jsx("input",{type:"checkbox",checked:b,onChange:x=>y(x.target.checked),className:"mr-2"}),w.jsxs("label",{children:["テンポ変化時に空小節を1小節追加する",w.jsx("br",{}),"※テンポが変わったタイミングでベルが鳴ります"]})]}),w.jsxs("div",{className:"flex justify-between mt-6",children:[w.jsx("button",{onClick:()=>S("part"),className:"bg-gradient-to-br from-gray-600 to-black hover:bg-gray-700 text-white px-4 py-2 rounded",children:"← パート設定に戻る"}),w.jsx("button",{onClick:()=>S("base"),className:"bg-gradient-to-br from-blue-600 to-black hover:bg-blue-700 text-white px-4 py-2 rounded",children:"設定へ進む →"})]})]})},Lw=()=>{const l=Bn(),n=[{label:"選択してください",value:""},{label:"チェンジアップ",value:"チェンジアップ.json"}],i=()=>{const u={sections:l.sections,parts:l.parts,rhythmName:l.rhythmName,tempoSetting:l.tempoSetting,accentType:l.accentType,accentList:l.accentList,loopMode:l.loopMode,tempoStep:l.tempoStep,minTempo:l.minTempo,maxTempo:l.maxTempo,loopChangeCount:l.loopChangeCount,loopRepeatLimit:l.loopRepeatLimit,countIn:l.countIn},p=JSON.stringify(u,null,2),f=new Blob([p],{type:"application/json"}),m=new Date,d=m.getFullYear(),g=String(m.getMonth()+1).padStart(2,"0"),v=String(m.getDate()).padStart(2,"0"),b=`${d}${g}${v}`,S=`${l.rhythmName.replace(/[\\/:*?"<>|]/g,"_")}_${b}.json`,x=URL.createObjectURL(f),A=document.createElement("a");A.href=x,A.download=S,A.click(),URL.revokeObjectURL(x)},a=u=>{var m;const p=(m=u.target.files)==null?void 0:m[0];if(!p)return;const f=new FileReader;f.onload=()=>{try{const d=f.result,g=JSON.parse(d);l.setSections(g.sections),l.setParts(g.parts),l.setRhythmName(g.rhythmName),l.setTempoSetting(g.tempoSetting),l.setAccentType(g.accentType),l.setAccentList(g.accentList),l.setLoopMode(g.loopMode),l.setTempoStep(g.tempoStep),l.setMinTempo(g.minTempo),l.setMaxTempo(g.maxTempo),l.setLoopChangeCount(g.loopChangeCount),l.setLoopRepeatLimit(g.loopRepeatLimit),l.setCountIn(g.countIn),alert("設定をインポートしました✨")}catch(d){console.error("インポート失敗:",d),alert("JSONファイルが正しくありません。")}},f.readAsText(p)},o=async u=>{if(u)try{const f=await(await fetch(`/metal-metronome/json/rhythm/${u}`)).json();l.setSections(f.sections),l.setParts(f.parts),l.setRhythmName(f.rhythmName),l.setTempoSetting(f.tempoSetting),l.setAccentType(f.accentType),l.setAccentList(f.accentList),l.setLoopMode(f.loopMode),l.setTempoStep(f.tempoStep),l.setMinTempo(f.minTempo),l.setMaxTempo(f.maxTempo),l.setLoopChangeCount(f.loopChangeCount),l.setLoopRepeatLimit(f.loopRepeatLimit),l.setCountIn(f.countIn),alert(`🎵 ${u} を読み込みました`)}catch(p){console.error("プリセット読み込み失敗:",p),alert("プリセットの読み込みに失敗しました")}};return w.jsxs("div",{className:"mt-4 space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"text-white mr-2",children:"リズムプリセット:"}),w.jsx("select",{onChange:u=>o(u.target.value),className:"px-2 py-1 rounded bg-gray-800 text-white border border-gray-600",children:n.map(u=>w.jsx("option",{value:u.value,children:u.label},u.value))})]}),w.jsxs("div",{children:[w.jsx("button",{className:"ml-4 inline-block bg-gradient-to-br from-blue-600 to-black hover:bg-green-700 text-white font-semibold px-4 py-2 rounded cursor-pointer transition duration-200",onClick:i,children:"📤 エクスポート"}),w.jsxs("label",{className:"ml-4 inline-block bg-gradient-to-br from-green-600 to-black hover:bg-green-700 text-white font-semibold px-4 py-2 rounded cursor-pointer transition duration-200",children:["📥 インポート",w.jsx("input",{type:"file",accept:".json",onChange:a,style:{display:"none"}})]})]})]})},oo=[],Er={},rh={kick:"sounds/kick.wav",kick_sub:"sounds/kick_sub.wav",snare:"sounds/snare.wav",snare_ghost:"sounds/snare_ghost.wav",snare_rim:"sounds/snare_rim.wav",tom_high1:"sounds/tom_high1.wav",tom_high2:"sounds/tom_high2.wav",tom_mid1:"sounds/tom_mid1.wav",tom_mid2:"sounds/tom_mid2.wav",tom_low1:"sounds/tom_low1.wav",tom_low2:"sounds/tom_low2.wav",hihat_closed:"sounds/hihat_closed.wav",hihat_open:"sounds/hihat_open.wav",hihat_pedal:"sounds/hihat_pedal.wav",crash1:"sounds/crash1.wav",crash2:"sounds/crash2.wav",ride_bell:"sounds/ride_bell.wav",ride_crash:"sounds/ride_crash.wav",ride_tip:"sounds/ride_tip.wav",china:"sounds/china.wav",splash:"sounds/splash.wav",bell:"sounds/bell.wav",click:"sounds/click.wav",click_high:"sounds/click_high.wav"},Hw=async(l=4)=>{await q_();for(const n in rh){Er[n]=[];for(let i=0;i<l+1;i++){const a=new as(rh[n]).toDestination();await a.load(rh[n]),Er[n][i]=a}}},Yw=(l,n,i,a=1,o)=>{var f;const u=(f=Er[o])==null?void 0:f[l];if(!u||!u.buffer.loaded){console.warn(`プレイヤー未ロード: ${o}[${l}]`);return}const p=new as(u.buffer).toDestination();p.volume.value=Ar(a),p.start(i),oo.push(p),p.stop(i+1),nn.scheduleOnce(()=>{p.dispose();const m=oo.indexOf(p);m!==-1&&oo.splice(m,1)},i+2)},Gw=(l,n,i)=>{const o=(i==="quarter"?4:i==="eighth"?8:6)/n;return 60/l*o};async function Xw(l,n){let i=0;const a=()=>{if(i>=l.length){H_(n);return}const o=nf()+.1,u=l[i],p=u.map(()=>o);let f=o;for(let d=0;d<u.length;d++){let g=p[d];for(const v of u[d]){const y=Gw(v.bpm,v.denominator,v.noteValue)*v.n/v.m,S=v.volume;Yw(d,!1,g,S,v.sound),g+=y}p[d]=g,f=Math.max(f,g)}i++;const m=f-o;nn.scheduleOnce(a,`+${m}`)};n(!0),a(),nn.start()}const Iw=()=>{nn.stop(),nn.cancel();for(const l of oo)try{l.stop(),l.dispose()}catch(n){console.warn("再生中プレイヤー停止失敗",n)}for(const l in Er){const n=Er[l];n==null||n.forEach(i=>{try{i.stop()}catch(a){console.warn(`プレイヤー停止失敗: ${l}`,a)}})}};function H_(l){Iw(),l(!1)}function Zw(l,n,i,a,o,u,p){const f=[],m=A=>A.map(E=>E+i),d=A=>A.map(E=>E-i),g=A=>A[0]>=l[0]+(o-l[0]),v=A=>A[0]<=l[0]-(l[0]-a),b=(A,E)=>A[0]===E[0];let y=[...l];const S=[...l],x=(A,E)=>{for(let D=0;D<E;D++)A()};if(n==="accelerate")for(;x(()=>f.push([...y]),u),!g(y);)y=m(y);else if(n==="decelerate")for(;x(()=>f.push([...y]),u),!v(y);)y=d(y);else if(n==="repeat-accel-decel")for(let A=0;A<p;A++){for(;!g(y);)x(()=>f.push([...y]),u),y=m(y);for(x(()=>f.push([...y]),u);!v(y);)y=d(y),x(()=>f.push([...y]),u);for(;;){const E=m(y);if(b(E,S))break;y=E,x(()=>f.push([...y]),u)}y=[...S]}else if(n==="repeat-decel-accel")for(let A=0;A<p;A++){for(;!v(y);)x(()=>f.push([...y]),u),y=d(y);for(x(()=>f.push([...y]),u);!g(y);)y=m(y),x(()=>f.push([...y]),u);for(;;){const E=d(y);if(b(E,S))break;y=E,x(()=>f.push([...y]),u)}y=[...S]}else if(n==="endless")for(let A=0;A<p;A++)f.push([...y]);return f}function Qw(l,n,i,a){if(!i)return{clickTracksWithCountIn:l,rhythmTracksWithCountIn:n};const o=[],u=[];for(let p=0;p<l.length;p++){if(p%a===0&&p!==0){const f=i[p]??i[0],m={bpm:i[p][0].bpm,noteValue:i[p][0].noteValue,denominator:i[p][0].denominator,n:1,m:1,sound:"kick",volume:0},d=Array(f.length).fill(m),g=Array(4).fill(0).map(()=>[...d]);o.push(f),u.push(g)}o.push(l[p]),u.push(n[p])}return{clickTracksWithCountIn:o,rhythmTracksWithCountIn:u}}function Fw(l,n){const i=[];for(let a=0;a<l.length;a++){const o=l[a],u=n[a],p=[],f=o.map(m=>{let d="click",g=1;switch(m.accent){case"bell":d="bell",g=1;break;case"strong":d="click_high",g=1;break;case"normal":d="click",g=1;break;case"weak":d="click",g=.5;break;case"none":d="click",g=0;break}return{bpm:m.bpm,noteValue:m.noteValue,denominator:m.denominator,n:1,m:1,sound:d,volume:g}});p.push(f);for(let m=0;m<u.length;m++){const d=[];for(const g of u[m]){const{bpm:v,noteValue:b,denominator:y,n:S,m:x,sound:A,volume:E}=g;if(Array.isArray(E))for(let D=0;D<E.length;D++)d.push({bpm:v,noteValue:b,denominator:y,n:S,m:x,sound:A,volume:E[D]});else d.push({bpm:v,noteValue:b,denominator:y,n:S,m:x,sound:A,volume:E})}p.push(d)}i.push(p)}return i}const Ww=()=>{const{currentPage:l,setCurrentPage:n,sections:i,parts:a,tempoSetting:o,accentList:u,countIn:p,loopChangeCount:f,loopRepeatLimit:m,loopMode:d,tempoStep:g,minTempo:v,maxTempo:b,setBuiltClickTracks:y,builtClickTracks:S,setBuiltRhythmTracks:x,builtRhythmTracks:A,isPlaying:E,setIsPlaying:D,clickTracksWithCountIn:M,rhythmTracksWithCountIn:U,convertedSounds:C,setConvertedSounds:R,setSections:V,setParts:k,setRhythmName:Q,setTempoSetting:F,setAccentType:Z,setAccentList:X,setLoopMode:nt,setTempoStep:et,setMinTempo:it,setMaxTempo:j,setLoopChangeCount:I,setLoopRepeatLimit:tt,setCountIn:st}=Bn();ut.useEffect(()=>{Hw(4)},[]);const N=()=>{const H=i.map(Kt=>Kt.bpm),$=Zw(H,d,g,v,b,f,m),J=$.map(Kt=>{const Ft=[];let Re=0;return Kt.forEach((Ue,rt)=>{const ft=i[rt];for(let Ot=0;Ot<ft.loopCount;Ot++)for(let yt=0;yt<ft.numerator;yt++)Ft.push({bpm:Ue,noteValue:ft.noteValue,denominator:ft.denominator,accent:u[Re%u.length]}),Re++}),Ft}),ct=p&&d!=="endless"?J.map(Kt=>{const Ft=Kt.slice(0,i[0].numerator*i[0].loopCount);return Ft.length>0&&(Ft[0]={...Ft[0],accent:"bell"}),Ft}):void 0,lt=$.map(Kt=>a.map(Ft=>{const Re=Ft.beats,Ue=[];let rt=0;i.forEach((yt,_t)=>{const Mt=yt.numerator*yt.loopCount;for(let ne=0;ne<Mt;ne++)Re[rt]&&Ue.push({beat:Re[rt],sectionIdx:_t}),rt++});const ft=new Set;return Ue.forEach((yt,_t)=>{if(yt.beat.n&&yt.beat.n>1)for(let Mt=1;Mt<yt.beat.n;Mt++)ft.add(_t+Mt)}),Ue.filter((yt,_t)=>!ft.has(_t)).map(({beat:yt,sectionIdx:_t})=>{const Mt=i[_t];return{bpm:Kt[_t]??H[_t]??120,noteValue:Mt.noteValue,denominator:Mt.denominator??1,n:yt.n??1,m:yt.m??1,sound:yt.sound??"kick",volume:yt.volumes??1}})})),ot={clickTracks:J,rhythmTracks:lt,countInTrack:ct},Et=Qw(J,lt,ct,f);y(Et.clickTracksWithCountIn),x(Et.rhythmTracksWithCountIn),console.log("🎵 RhythmSoundSource 完成:",ot),console.log(Et);const at=Fw(Et.clickTracksWithCountIn,Et.rhythmTracksWithCountIn);let re=[],xe=0;for(;xe<at.length;){const Kt=p&&xe>0?f+1:f,Ft=[];for(let Re=0;Re<at[0].length;Re++){const Ue=[];for(let rt=0;rt<Kt&&xe+rt<at.length;rt++){const ft=at[xe+rt];Ue.push(...ft[Re])}Ft.push(Ue)}re.push(Ft),xe+=Kt}console.log("converted:",at),console.log("result:",re),R(re)};switch(l){case"measure":return w.jsx(Nw,{});case"part":return w.jsx(Uw,{});case"loop":return w.jsx(Bw,{});case"base":default:return w.jsxs("div",{className:"flex flex-col gap-4 p-4 bg-gray-900 rounded-lg shadow-md w-full max-w-md",children:[w.jsx("h2",{className:"text-white text-xl font-bold",children:"トレーニングモード設定"}),w.jsx(xw,{}),w.jsx(Lw,{}),w.jsx("button",{onClick:()=>{confirm("⚠️ 本当にすべての設定をリセットしますか？この操作は取り消せません。")&&(V([]),k([]),Q(""),F({}),Z("normal"),X([]),nt("endless"),et(5),it(60),j(180),I(2),tt(1),st(!1),y([]),x([]),R([]))},className:"bg-gradient-to-br from-red-700 to-black hover:bg-red-800 text-white px-4 py-2 rounded",children:"⚠️ すべての設定をリセット"}),w.jsx("button",{onClick:()=>n("measure"),className:"mt-4 bg-gradient-to-br from-blue-600 to-black hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded transition duration-200",children:"小節設定へ進む →"}),w.jsx("button",{onClick:N,disabled:i.length===0||a.length===0,className:`bg-gradient-to-br ${i.length>0&&a.length>0?"from-green-600":"from-gray-600 cursor-not-allowed"} to-black text-white px-4 py-2 rounded hover:bg-blue-700 transition`,children:"音源を作成する"}),E?w.jsx("button",{onClick:()=>H_(D),className:"bg-gradient-to-br from-red-600 to-black text-white px-4 py-2 rounded",children:"停止する"}):w.jsx("button",{onClick:()=>Xw(C,D),disabled:C.length===0,className:`bg-gradient-to-br ${C.length>0?"from-blue-600":"from-gray-600 cursor-not-allowed"} to-black text-white px-4 py-2 rounded`,children:"再生する"})]})}},Pw=()=>{const[l,n]=ut.useState("setting");return w.jsxs("div",{className:"flex flex-col gap-8 p-6 bg-black text-white min-h-screen items-center",children:[w.jsx(Ww,{}),w.jsx(L_,{})]})},Kw=()=>{const{mode:l}=Eg();return w.jsx(hw,{children:w.jsx(Sw,{children:l==="rhythm"?w.jsx(Tw,{}):w.jsx(Pw,{})})})};dy.createRoot(document.getElementById("root")).render(w.jsx(ut.StrictMode,{children:w.jsx(py,{children:w.jsx(Kw,{})})}));
